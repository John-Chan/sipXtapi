#!/bin/bash

# 
#
# Copyright (C) 2004 SIPfoundry Inc.
# Licensed by SIPfoundry under the LGPL license.
#
# Copyright (C) 2004 Pingtel Corp.
# Licensed to SIPfoundry under a Contributor Agreement.
#
# $$
##############################################################################

CONFIG_DEFS="@SIPX_CONFDIR@/config.defs"

# If the "config.defs" file exists and the <name>.in file exists for a
# configuration file, then run the config preprocessor to generate the
# fully resolved configuration file.
if [ -f "$CONFIG_DEFS" ]
then
  for cfgfile in @SIPX_CONFDIR@/http*.in @wwwdir@/doc/aa_vxml/*.in @wwwdir@/doc/vm_vxml/*.in 
  do
    if [ -f ${cfgfile} ]
    then
       genfile=`basename ${cfgfile} .in`
       gendir=`dirname ${cfgfile}`
       @bindir@/configpp --defs "${CONFIG_DEFS}" --in "${cfgfile}" --out "${gendir}/${genfile}"
    fi
  done
fi
