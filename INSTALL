
This file was generated using the following command.  If you are
already looking at this from web browser, then please ignore this
message.

  lynx -dump doc/src/manual/install.html > INSTALL

----------------------------------------------------------

                                 Installation

For Redhat Users

   These instructions apply to Enterprise and Fedora systems unless
   explicitly noted

  System Installation

    1. Install Redhat from CDs. You can select any set of packages
       including the minimum set of packages labled "router
       configuration" in the redhat installer process
    2. When prompted for firewall support, select "no firewall support"
       or open up the following ports in your iptables: 80, 8080, 8090,
       8091, 5060 and 5090

  Installing dependencies with up2date

   Fedora users may experience periodic connection errors using using
   up2date but usually if you're persistent you can get thru executing
   up2date repeatedly. If you do not use up2date, I recommend installing
   postgres and apache while installing your system, or use the redhat
   package manager to install those RPMs for you.
     * Run up2date for the first time and follow instructions to setup
       propery up2date operation.
     * Run up2date -u to make your system is up to date.
     * Run up2date on the following packages:

        Postgres
                up2date rh-postgresql-server *Enterprise Users Only
                up2date postgresql-server *Fedora Users Only

        Apache 2 webserver
                up2date httpd

  Installing Java RPM

     * j2sdk 1.4 or greater available by opening your webbrowser to this
       URL:
       [1]http://java.sun.com/j2se/1.4.2/download.html

  Installing RPMs from SIPfoundry

   Sipfoundry will make the following rpms available. After downloading,
   you can install these by typing the command rpm -iv packagename.rpm.
   It's often helpful to list more than one rpm at a time to fullfil rpm
   interpackage dependencies. RPMs listed here are in proper order to
   install individually.

   Available from sipfoundry.org
     * sipx-jboss-2.4.10-1.noarch.rpm
     * sipxportlib
     * sipxtacklib
     * sipxcommserverlib
     * sipxconfig
     * sipxproxy
     * sipxregistry
     * sipxpublisher
     * sipxvxml
     * sipxpbx

Installing From Source and Non-Redhat Users

   Install the following software packages. Follow the installation
   instructions for your OS. If there is any special installation
   instructions, they will be noted.

  Dependencies

   sipXportLib (same version sipXconfig)
          [2]http://www.sipfoundry.org/sipXportLib

   sipXtackLib (same version sipXconfig)
          [3]http://www.sipfoundry.org/sipXtack

   sipXcommserverLib (same version sipXconfig)
          [4]http://www.sipfoundry.org/sipXcommserverLib

   sipXpbx (same version sipXconfig)
          [5]http://www.sipfoundry.org/sipXpbx

   Java SDK 1.4 (tested w/1.4.2.03)
          [6]http://java.sun.com

   postgres 7.3 (tested with 7.3.4)
          [7]http://www.postgresql.org/

   JBoss 2.4.4 with Tomcat 4.0.1 (exactly this version!)
          [8]http://prdownloads.sourceforge.net/jboss/JBoss-2.4.4_Tomcat-
          4.0.1.zip

   Ant 1.6 (tested with 1.6.1)
          [9]http://ant.apache.org/

  Environment Variables

   Set the following environment variables:

   JAVA_HOME
          to where you installed java. This setting is just used to
          compile. After installation the sipx-config --jdk is used to
          find java dynamically. That means you can upgrade your java and
          not break your installation

       Example:
           export JAVA_HOME=/usr/java/j2sdk1.4.2_03


   ANT_HOME
          where you unzipped (e.g. installed) ant

       Example:
            export ANT_HOME=~/apache-ant-1.6.2


   JBOSS_HOME
          where you unzipped JBoss

       Example:
          export JBOSS_HOME=~/JBoss-2.4.10_Tomcat-4.0.6


  Special Software Installion Instructions

    JBoss

   After unzipping JBoss
    1. run this patch on it
      patch -d ${JBOSS_HOME} -p1 < sipx-jboss-configure.patch
    2. be sure user running sipxpbx (most cases sipxchange) has full r/w
       access to all files and directories in ${JBOSS_HOME}

  Installation

   After building the prerequisite components, build sipXconfig by:
     ./configure
     make
     make install

  Set up the Postgresql Database

   Postgres needs to always be running on your system. If you've
   installed sipXconfig from RPM, you shouldn't have to do this.

   To start postgres on Redhat 9 or Fedora systems run this command.
      service postgresql start


   To start postgres on Enterprise 3 systems run this command.
      service rhdb start


   It's recommended you should have postgres start automatically when
   your machine restarts (usually in runlevels 3 and 5).

   Fedora and Redhat 9 usersshould run this command:
      chkconfig postgresql on

   Redhat Enterprise 3 users should run this command:
      chkconfig rhdb on

   Edit postgres config files to work. This will open up TCP connections
   and allow localhost to connect to posgres
     /usr/local/sipx/bin/sipxdbmgr --setup
     /usr/local/sipx/bin/sipxdbmgr --create PDS
     /usr/local/sipx/bin/sipxdbmgr --create SDS

  SSL Initialization

   Set up an SSL key using the instructions in
   sipXcommserverLib/doc/INSTALL.ssl or
   /usr/share/doc/sipxcommserverlib-version/INSTALL.ssl.

  Compiling the Profile Publisher's SIP agent w/ MSVC 6

   Support for windows is experimental, here's the latest know
   instructions that were known to work, you may have to play around with
   it, please submit your findings and patches back to mailing list

   First, see the INSTALL instructions in sipXportLib on adding glib and
   pcre to the MSVC 6 environment. Next, you must add Java's JNI include
   and library paths to your MSVC 6 environment following the same
   process.

   Assuming that you installed the SDK in C:\Program
   Files\Java\j2sdk1.4.2_03 you will need to add the following:

   Additional Includes:
          C:\Program Files\Java\j2sdk1.4.2_03\include
          C:\Program Files\Java\j2sdk1.4.2_03\include\win32

   Additional Libs:
          C:\Program Files\Java\j2sdk1.4.2_03\lib

   Last modified: Thu Oct 21 13:51:21 EDT 2004

References

   1. http://java.sun.com/j2se/1.4.2/download.html
   2. http://www.sipfoundry.org/sipXportLib
   3. http://www.sipfoundry.org/sipXtack
   4. http://www.sipfoundry.org/sipXcommserverLib
   5. http://www.sipfoundry.org/sipXpbx
   6. http://java.sun.com/
   7. http://www.postgresql.org/
   8. http://prdownloads.sourceforge.net/jboss/JBoss-2.4.4_Tomcat-4.0.1.zip
   9. http://ant.apache.org/
