<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

 <head>
  <title>sipXconfig Development</title>
  <link rel="stylesheet" type="text/css" href="manual.css"/>

</head>
<body id="development">

<h1>Development</h1>


<h2>Remote debugging of sipXconfig components</h2>

<p>It is possible to configure sipXconfig java applications for remote debugging (JDWP). "Remote" in this context means that java 
debugger attaches to process started by sipX watchdog, and not by the debugger.
Debugger can actually run on the same machine as sipX services.
</p>
<p>
While it's not strictly required, the first step should be building java code with debug information:
</p>
<pre>
mkdir debug
cd debug
JAVAC_DEBUG=on JAVAC_OPTIMIZED=off ../configure
make
make install
</pre>

To launch the program in the debugging mode you need to specify debug mode 
and communication port for the debugger. Each server's startup script lets
you pass the neccessary information through enviroment variables.

<pre>
  export JAVA_DEBUG_OPTS="-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5498"
</pre>

<p>
In the example above we use port 5498. 
You can use other ports as long as the number you pass to java 
application is the same as the number you pass to the debugger. 
</p>
<p>
Depending on which component you want to debug you will need to set
<strong>only one</strong> of the following environment variables.
</p>
<pre>
  export PROFILEGENERATOR_OPTS=${JAVA_DEBUG_OPTS}
or  
  export PROFILEPUBLISHER_OPTS=${JAVA_DEBUG_OPTS}
or  
  export PROFILEWRITER_OPTS=${JAVA_DEBUG_OPTS}
</pre>
	

<p>
Once the process is running you can attach your favorite debugger. If you use 
jdb, your command line should look like that:
</p>

<pre>$JAVA_HOME/bin/jdb -connect com.sun.jdi.SocketAttach:hostname=localhost,port=5498</pre>
<p>
Other debuggers and IDEs are also supported. Information on how to
 configure your favorite IDE can be usually 
found under <em>Remote Java Debugging</em> in user manual.
</p>

<span id="lastmodified">
<!-- hhmts start -->
Last modified: Nov 18, 2004
<!-- hhmts end -->
</span>

</body>
</html>
