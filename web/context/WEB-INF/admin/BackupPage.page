<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE page-specification PUBLIC
  "-//Apache Software Foundation//Tapestry Specification 3.0//EN"
  "http://jakarta.apache.org/tapestry/dtd/Tapestry_3_0.dtd">
<!-- generated by Spindle, http://spindle.sourceforge.net -->

<page-specification class="org.sipfoundry.sipxconfig.site.admin.BackupPage">

    <description>Backup page</description>
    
    <property-specification name="backupContext" 
    	type="org.sipfoundry.sipxconfig.admin.BackupContext" 
    	initial-value="global.backupContext"/>
        
    <property-specification name="urls" type="java.util.List"/>

    <property-specification name="link"/>
        
     <!--
     - B E A N S
     -->
    <bean name="validator" class="org.apache.tapestry.valid.ValidationDelegate"/>
        
    <!--
     - C O M P O N E N T S
     -->
    <component id="form" type="Form">
        <binding name="delegate" expression="beans.validator"/>
        <binding name="listener" expression="listeners.submit"/>
    </component>
    
    <component id="errors" type="ErrorMsg"/>
    
    <component id="checkConfigs" type="Checkbox">
        <binding name="selected" expression="backupContext.configs"/>
    </component>

    <component id="checkDatabase" type="Checkbox">
        <binding name="selected" expression="backupContext.database"/>
    </component>

    <component id="checkVoicemail" type="Checkbox">
        <binding name="selected" expression="backupContext.voicemail"/>
    </component>
    
    <component id="backup" type="Submit">
        <binding name="listener" expression="listeners.backup"/>
        <static-binding name="label" value="Backup Now"/>
    </component> 
    
    <component id="ifResultsPresent" type="Conditional">
        <binding name="condition" expression="!urls.empty"/>
        <static-binding name="element" value="p"/>
    </component>
    
    <component id="results" type="Foreach">
        <binding name="source" expression="urls"/>
        <binding name="value" expression="link"/>
        <static-binding name="element" value="li"/>
    </component>
    
    <component id="link" type="GenericLink">
        <binding name="href" expression="link.url"/>
    </component>
    
    <component id="linkText" type="InsertText">
        <binding name="value" expression="link.label"/>
    </component>
</page-specification>
