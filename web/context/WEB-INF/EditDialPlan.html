<html jwcid="@Shell" title="Dial Plan Configuration" stylesheet="ognl:assets.stylesheet">
<head jwcid="$remove$">
    <link rel="stylesheet" type="text/css" href="../css/sipxconfig.css"/>
</head>
<body jwcid="@Body">
    <div id="component">
    <span jwcid="@Conditional" condition="ognl:beans.validator.hasErrors">
	    <!-- TODO: add styling for errors-->
		<p jwcid="@Delegator" delegate="ognl:beans.validator.firstError">Error Message</p>            
    </span>
    <form jwcid="dialPlanEditForm" id="dialplan">
        <fieldset>
	    <legend>Dial Plan Details</legend>
        <table>
            <tbody>
                <tr>
                    <td>
                        <label for="dialplan:name"><span jwcid="dialPlanNameLabel">Name</span></label>
                    </td>
                    <td>
                        <input jwcid="dialPlanName" id="dialplan:name" type="text"/>
                    </td>
                </tr>
                <tr>
                    <td>
                        <!-- HACK: for some reason dialPlanLocalExtensionLen.displayName is not found by Tapestry 
                        	so we explicitely declare it in the label
                        -->
                        <label for="dialplan:localExtensionLen">
                            <span jwcid="dialPlanLocalExtensionLenLabel">Local Extenstion Length</span>
                        </label>
                    </td>
                    <td>
                        <select jwcid="dialPlanLocalExtensionLen" id="dialplan:localExtensionLen" size="1">
                            <option value="3" selected>3 digits</option>
                            <option value="4">4 digits</option>
                            <option value="5">5 digits</option>
                            <option value="6">6 digits</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="dialplan:autoAttendant">
                            <span jwcid="dialPlanAutoAttendantLabel">Auto Attendant Extension</span>
                         </label>
                    </td>
                    <td>
                        <input jwcid="dialPlanAutoAttendant" id="dialplan:autoAttendant" type="text" name="dialplan:autoAttendant" value="100" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="dialplan:voiceMail">
                            <span jwcid="dialPlanVoiceMailLabel">Voice Mail Extension</span>
                         </label>
                    </td>
                    <td>
                        <input jwcid="dialPlanVoiceMail" id="dialplan:voiceMail" type="text" value="101" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="dialplan:did">
                        	<span jwcid="dialPlanDidLabel">Direct Inward Dialing (DID) Prefix</span>
                        </label>
                    </td>
                    <td>
                        <input jwcid="dialPlanDid" id="dialplan:did" type="text" name="dialplan:did" value="" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="dialplan:pstnPrefix">
                           	<span jwcid="dialPlanPstnPrefixLabel">PSTN Calls Prefix</span>
						</label>
                    </td>
                    <td>
                        <input jwcid="dialPlanPstnPrefix" id="dialplan:pstnPrefix" type="text" value="9" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="dialplan:emergencyNumber">
                            <span jwcid="dialPlanEmergencyNumberLabel">Emergency Number</span>
                         </label>
                    </td>
                    <td>
                        <input jwcid="dialPlanEmergencyNumber" id="dialplan:emergencyNumber" type="text" value="911" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="dialplan:internationalPrefix">
                            <span jwcid="dialPlanInternationalPrefixLabel">International Calls Prefix</span>
                        </label>
                    </td>
                    <td>
                        <input jwcid="dialPlanInternationalPrefix" id="dialplan:internationalPrefix" type="text" value="011" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="dialplan:voiceMailPrefix">
                            <span jwcid="dialPlanVoiceMailPrefixLabel">Extension's Voicemail Inbox Prefix</span>
                        </label>
                    </td>
                    <td>
                        <input jwcid="dialPlanVoiceMailPrefix" id="dialplan:voiceMailPrefix" type="text" value="8" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="dialplan:longDistancePrefix">
                            <span jwcid="dialPlanLongDistancePrefixLabel">Long Distance Calls Prefix</span>
                        </label>
                    </td>
                    <td>
                        <input jwcid="dialPlanLongDistancePrefix" id="dialplan:longDistancePrefix" type="text" value="1" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="dialplan:description">
                            <span jwcid="dialPlanDescriptionLabel">Description</span>
                        </label>
                    </td>
                    <td>
                        <textarea jwcid="dialPlanDescription" id="dialplan:description" cols="45" rows="5">Default PSTN gateway</textarea>
                    </td>
                </tr>
            </tbody>
        </table>
        </fieldset>
        <fieldset>
        <legend>Gateways</legend>
		<ul class="component-actions">
			<li><a jwcid="addGatewayLink" href="edit-gateway.html">Add New Gateway</a></li>        
			<li><a jwcid="selectGatewayLink" href="select-gateways.html">Add Existing Gateway</a></li>        
		</ul>        
        <table jwcid="gatewayTable" class="table-view"/>
        <ul class="table-actions">
            <li>
                <input jwcid="removeGateways" type="submit" name="" value="Remove"/>
            </li>
        </ul>
        </fieldset>
        <fieldset>        
        <legend>Emergency gateways</legend>
		<ul class="component-actions">
			<li><a jwcid="addEmergencyGatewayLink" href="select-gateways.html">Add New Gateway</a></li>        
			<li><a jwcid="selectEmergencyGatewayLink" href="select-gateways.html">Add Existing Gateway</a></li>        
		</ul>        
        <table jwcid="emergencyGatewayTable" class="table-view"/>
        <ul class="table-actions">
            <li>
                <input jwcid="removeEmergencyGateways" type="submit" name="" value="Remove"/>
            </li>
        </ul>
        </fieldset>        
        <ul class="form-actions">
            <li>
                <input type="submit" jwcid="@Submit" id="dialplan:save" listener="ognl:listeners.save" value="Save"/>
			</li>
			<li>
                <input type="reset" jwcid="@Submit"  id="dialplan:cancel" listener="ognl:listeners.cancel" value="Cancel"/>
			</li>
		</ul>
    </form>
    </div>
</body>
</html>