<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE page-specification PUBLIC
  "-//Apache Software Foundation//Tapestry Specification 4.0//EN"
  "http://jakarta.apache.org/tapestry/dtd/Tapestry_4_0.dtd">

<page-specification class="org.sipfoundry.sipxconfig.site.line.AddExternalLine">
  <description>add a description</description>
  <property name="callback"  persist="session"/>
  <property name="phoneId"  persist="session"/>
  <property name="phone" />
  <property name="settings" />
  <property name="phoneContext"  initial-value="global.phoneContext"/>
  <bean name="validator" class="org.sipfoundry.sipxconfig.components.SipxValidationDelegate"/>
  <bean name="nameValidator" class="org.apache.tapestry.valid.StringValidator" lifecycle="page">
    <set name="required" value="literal:true"/>
    <set name="minimumLength" value="literal:1"/>
  </bean>
  <bean name="registrationServerValidator" class="org.apache.tapestry.valid.StringValidator" lifecycle="page">
    <set name="required" value="literal:true"/>
    <set name="minimumLength" value="literal:1"/>
  </bean>
  <component id="displayNamePanel" type="FieldPanel">
    <binding name="field" value="components.displayName"/>
    <binding name="label" value="message:label.displayName"/>
  </component>
  <component id="displayName" type="TextField">
    <binding name="value" value="settings.displayName"/>
    <binding name="displayName" value="message:label.displayName"/>
  </component>
  <component id="userIdPanel" type="FieldPanel">
    <binding name="field" value="components.userId"/>
    <binding name="label" value="message:label.userId"/>
    <binding name="description" value="message:description.userId"/>
  </component>
  <component id="userId" type="ValidField">
    <binding name="value" value="settings.userId"/>
    <binding name="validator" value="bean:nameValidator"/>
    <binding name="displayName" value="message:label.userId"/>
  </component>
  <component id="passwordConfirmPanel" type="ConfirmPassword">
    <binding name="password" value="settings.password"/>
  </component>
  <component id="registrationServerPanel" type="FieldPanel">
    <binding name="field" value="components.registrationServer"/>
    <binding name="label" value="message:label.registrationServer"/>
    <binding name="description" value="message:description.registrationServer"/>
  </component>
  <component id="registrationServer" type="ValidField">
    <binding name="value" value="settings.registrationServer"/>
    <binding name="validator" value="bean:registrationServerValidator"/>
    <binding name="displayName" value="message:label.registrationServer"/>
  </component>
  <component id="voiceMailPanel" type="FieldPanel">
    <binding name="field" value="components.voiceMail"/>
    <binding name="label" value="message:label.voiceMail"/>
    <binding name="description" value="message:description.voiceMail"/>
  </component>
  <component id="voiceMail" type="TextField">
    <binding name="value" value="settings.voiceMail"/>
  </component>
  <component id="formActions" type="FormActions">
    <binding name="listener" value="listener:ok"/>
    <binding name="includeApplyButton" value="literal:false"/>
    <binding name="callback" value="callback"/>
  </component>
</page-specification>
