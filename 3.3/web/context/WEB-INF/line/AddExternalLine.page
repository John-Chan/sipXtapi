<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE page-specification PUBLIC
  "-//Apache Software Foundation//Tapestry Specification 4.0//EN"
  "http://jakarta.apache.org/tapestry/dtd/Tapestry_4_0.dtd">

<page-specification class="org.sipfoundry.sipxconfig.site.line.AddExternalLine">
  <description>add a description</description>
  <property name="callback"  persist="session"/>
  <property name="phoneId"  persist="session"/>
  <property name="phone" />
  <property name="settings" />
  <inject property="phoneContext" object="spring:phoneContext"/>
  <bean name="validator" class="org.sipfoundry.sipxconfig.components.SipxValidationDelegate"/>
  <component id="displayNamePanel" type="FieldPanel">
    <binding name="field" value="components.displayName"/>
    <binding name="label" value="message:label.displayName"/>
  </component>
  <component id="displayName" type="TextField">
    <binding name="value" value="settings.displayName"/>
    <binding name="displayName" value="message:label.displayName"/>
  </component>
  <component id="userIdPanel" type="FieldPanel">
    <binding name="field" value="components.userId"/>
    <binding name="label" value="message:label.userId"/>
    <binding name="description" value="message:description.userId"/>
  </component>
  <component id="userId" type="TextField">
    <binding name="value" value="settings.userId"/>
    <binding name="validators" value="validators:required"/>
    <binding name="displayName" value="message:label.userId"/>
  </component>
  <component id="passwordConfirmPanel" type="ConfirmPassword">
    <binding name="password" value="settings.password"/>
  </component>
  <component id="registrationServerPanel" type="FieldPanel">
    <binding name="field" value="components.registrationServer"/>
    <binding name="label" value="message:label.registrationServer"/>
    <binding name="description" value="message:description.registrationServer"/>
  </component>
  <component id="registrationServer" type="TextField">
    <binding name="value" value="settings.registrationServer"/>
    <binding name="validators" value="validators:required"/>
    <binding name="displayName" value="message:label.registrationServer"/>
  </component>
  <component id="voiceMailPanel" type="FieldPanel">
    <binding name="field" value="components.voiceMail"/>
    <binding name="label" value="message:label.voiceMail"/>
    <binding name="description" value="message:description.voiceMail"/>
  </component>
  <component id="voiceMail" type="TextField">
    <binding name="value" value="settings.voiceMail"/>
  </component>
  <component id="formActions" type="FormActions">
    <binding name="listener" value="listener:ok"/>
    <binding name="includeApplyButton" value="literal:false"/>
    <binding name="callback" value="callback"/>
  </component>
</page-specification>
