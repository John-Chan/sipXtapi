<?xml version="1.0"?>
<!--<!DOCTYPE jboss PUBLIC ""
"http://www.jboss.org/doco_files/jboss_2_4.dtd">-->

<jboss>

  <security-domain>java:/jaas/other</security-domain>

  <!-- B E A N S -->
  <enterprise-beans>
    <message-driven>
      <ejb-name>ProjectionFacade</ejb-name>
      <configuration-name>PGS Message Driven Bean</configuration-name>
      <destination-jndi-name>queue/A</destination-jndi-name>
    </message-driven>
    <message-driven>
      <ejb-name>DataSetBuilderFacade</ejb-name>
      <configuration-name>PGS Message Driven Bean</configuration-name>
      <destination-jndi-name>queue/B</destination-jndi-name>
    </message-driven>
    <message-driven>
      <ejb-name>RestartDevicesFacade</ejb-name>
      <configuration-name>PGS Message Driven Bean</configuration-name>
      <destination-jndi-name>queue/C</destination-jndi-name>
    </message-driven>
    <entity>
      <ejb-name>Application</ejb-name>
      <configuration-name>Large CMP EntityBean</configuration-name>
    </entity>
    <entity>
      <ejb-name>CoreSoftware</ejb-name>
      <configuration-name>Small CMP EntityBean</configuration-name>
    </entity>
    <entity>
      <ejb-name>CSProfileDetail</ejb-name>
      <configuration-name>Small CMP EntityBean</configuration-name>
    </entity>
    <entity>
      <ejb-name>User</ejb-name>
      <configuration-name>Large CMP EntityBean</configuration-name>
    </entity>
    <entity>
      <ejb-name>Device</ejb-name>
      <configuration-name>Large CMP EntityBean</configuration-name>
    </entity>
    <entity>
      <ejb-name>Organization</ejb-name>
      <configuration-name>Small CMP EntityBean</configuration-name>
    </entity>
    <entity>
      <ejb-name>DeviceType</ejb-name>
      <configuration-name>Large CMP EntityBean</configuration-name>
    </entity>
    <entity>
      <ejb-name>ConfigurationSet</ejb-name>
      <configuration-name>Large CMP EntityBean</configuration-name>
    </entity>
    <entity>
      <ejb-name>RefConfigurationSet</ejb-name>
      <configuration-name>Small CMP EntityBean</configuration-name>
    </entity>
    <entity>
      <ejb-name>RefProperty</ejb-name>
      <configuration-name>Large CMP EntityBean</configuration-name>
    </entity>
    <entity>
      <ejb-name>DeviceGroup</ejb-name>
      <configuration-name>Large CMP EntityBean</configuration-name>
    </entity>
    <entity>
      <ejb-name>Manufacturer</ejb-name>
      <configuration-name>Small CMP EntityBean</configuration-name>
    </entity>
    <entity>
      <ejb-name>UserGroup</ejb-name>
      <configuration-name>Large CMP EntityBean</configuration-name>
    </entity>
    <entity>
      <ejb-name>ApplicationGroup</ejb-name>
      <configuration-name>Large CMP EntityBean</configuration-name>
    </entity>
  </enterprise-beans>

  <!-- D A T A B A S E -->
  <resource-managers>
    <resource-manager res-class="org.jboss.ejb.deployment.JDBCResource">
      <res-name>PDSDataSource</res-name>
      <res-jndi-name>PDSDataSource</res-jndi-name>
    </resource-manager>
  </resource-managers>


  <!-- C O N T A I N E R S  -->
  <container-configurations>

    <!-- M E S S A G E   D R I V E N   B E A N S-->
    <container-configuration>
      <container-name>PGS Message Driven Bean</container-name>
      <call-logging>false</call-logging>
      <container-invoker>org.jboss.ejb.plugins.jms.JMSContainerInvoker</container-invoker>
      <container-interceptors>
        <interceptor>org.jboss.ejb.plugins.LogInterceptor</interceptor>
        <interceptor>com.pingtel.pds.pgs.security.MDBInterceptor</interceptor>
        <interceptor>org.jboss.ejb.plugins.SecurityInterceptor</interceptor>
        <interceptor transaction="Container">org.jboss.ejb.plugins.TxInterceptorCMT</interceptor>
        <interceptor transaction="Container" metricsEnabled="true">org.jboss.ejb.plugins.MetricsInterceptor</interceptor>
        <interceptor transaction="Container">org.jboss.ejb.plugins.MessageDrivenInstanceInterceptor</interceptor>
        <interceptor transaction="Bean">org.jboss.ejb.plugins.MessageDrivenInstanceInterceptor</interceptor>
        <interceptor transaction="Bean">org.jboss.ejb.plugins.MessageDrivenTxInterceptorBMT</interceptor>
        <interceptor transaction="Bean" metricsEnabled="true">org.jboss.ejb.plugins.MetricsInterceptor</interceptor>
      </container-interceptors>
      <instance-pool>org.jboss.ejb.plugins.MessageDrivenInstancePool</instance-pool>
      <instance-cache/>
      <persistence-manager/>
      <transaction-manager>org.jboss.tm.TxManager</transaction-manager>
      <container-invoker-conf>
        <JMSProviderAdapterJNDI>DefaultJMSProvider</JMSProviderAdapterJNDI>
        <ServerSessionPoolFactoryJNDI>StdJMSPool</ServerSessionPoolFactoryJNDI>
        <MaximumSize>5</MaximumSize>
        <MaxMessages>1</MaxMessages>
        <Optimized>True</Optimized>
      </container-invoker-conf>
      <container-pool-conf>
        <MaximumSize>10</MaximumSize>
        <MinimumSize>10</MinimumSize>
      </container-pool-conf>
    </container-configuration>

    <!-- L A R G E  E N T I T Y  B E A N S -->
    <container-configuration>
      <container-name>Large CMP EntityBean</container-name>
      <call-logging>false</call-logging>
      <container-invoker>org.jboss.ejb.plugins.jrmp.server.JRMPContainerInvoker</container-invoker>
      <container-interceptors>
        <interceptor>org.jboss.ejb.plugins.LogInterceptor</interceptor>
        <interceptor>org.jboss.ejb.plugins.SecurityInterceptor</interceptor>
        <interceptor>org.jboss.ejb.plugins.TxInterceptorCMT</interceptor>
        <interceptor metricsEnabled="true">org.jboss.ejb.plugins.MetricsInterceptor</interceptor>
        <interceptor>org.jboss.ejb.plugins.EntityLockInterceptor</interceptor>
        <interceptor>org.jboss.ejb.plugins.EntityInstanceInterceptor</interceptor>
        <interceptor>org.jboss.ejb.plugins.EntitySynchronizationInterceptor</interceptor>
      </container-interceptors>
      <instance-pool>org.jboss.ejb.plugins.EntityInstancePool</instance-pool>
      <instance-cache>org.jboss.ejb.plugins.EntityInstanceCache</instance-cache>
      <persistence-manager>org.jboss.ejb.plugins.jaws.JAWSPersistenceManager</persistence-manager>
      <transaction-manager>org.jboss.tm.TxManager</transaction-manager>
<!--<locking-policy>org.jboss.ejb.plugins.lock.QueuedPessimisticEJBLock</locking-policy>-->
      <container-invoker-conf>
        <RMIObjectPort>4444</RMIObjectPort>
        <Optimized>True</Optimized>
      </container-invoker-conf>
      <container-cache-conf>
        <cache-policy>org.jboss.ejb.plugins.LRUEnterpriseContextCachePolicy</cache-policy>
        <cache-policy-conf>
          <min-capacity>50</min-capacity>
          <max-capacity>1000</max-capacity>
          <overager-period>300</overager-period>
          <max-bean-age>6000</max-bean-age>
          <resizer-period>400</resizer-period>
          <max-cache-miss-period>60</max-cache-miss-period>
          <min-cache-miss-period>1</min-cache-miss-period>
          <cache-load-factor>0.75</cache-load-factor>
        </cache-policy-conf>
      </container-cache-conf>
      <container-pool-conf>
        <MaximumSize>1000</MaximumSize>
        <MinimumSize>50</MinimumSize>
      </container-pool-conf>
      <commit-option>A</commit-option>
      <role-mapping-manager>java:/jaas/other</role-mapping-manager>
      <authentication-module>java:/jaas/other</authentication-module>
    </container-configuration>

    <!-- S M A L L   E N T I Y   B E A N S -->
    <container-configuration>
      <container-name>Small CMP EntityBean</container-name>
      <call-logging>false</call-logging>
      <container-invoker>org.jboss.ejb.plugins.jrmp.server.JRMPContainerInvoker</container-invoker>
      <container-interceptors>
        <interceptor>org.jboss.ejb.plugins.LogInterceptor</interceptor>
        <interceptor>org.jboss.ejb.plugins.SecurityInterceptor</interceptor>
        <interceptor>org.jboss.ejb.plugins.TxInterceptorCMT</interceptor>
        <interceptor metricsEnabled="true">org.jboss.ejb.plugins.MetricsInterceptor</interceptor>
        <interceptor>org.jboss.ejb.plugins.EntityLockInterceptor</interceptor>
        <interceptor>org.jboss.ejb.plugins.EntityInstanceInterceptor</interceptor>
        <interceptor>org.jboss.ejb.plugins.EntitySynchronizationInterceptor</interceptor>
      </container-interceptors>
      <instance-pool>org.jboss.ejb.plugins.EntityInstancePool</instance-pool>
      <instance-cache>org.jboss.ejb.plugins.EntityInstanceCache</instance-cache>
      <persistence-manager>org.jboss.ejb.plugins.jaws.JAWSPersistenceManager</persistence-manager>
      <transaction-manager>org.jboss.tm.TxManager</transaction-manager>
<!--<locking-policy>org.jboss.ejb.plugins.lock.QueuedPessimisticEJBLock</locking-policy>-->
      <container-invoker-conf>
        <RMIObjectPort>4444</RMIObjectPort>
        <Optimized>True</Optimized>
      </container-invoker-conf>
      <container-cache-conf>
        <cache-policy>org.jboss.ejb.plugins.LRUEnterpriseContextCachePolicy</cache-policy>
        <cache-policy-conf>
          <min-capacity>10</min-capacity>
          <max-capacity>50</max-capacity>
          <overager-period>300</overager-period>
          <max-bean-age>6000</max-bean-age>
          <resizer-period>400</resizer-period>
          <max-cache-miss-period>60</max-cache-miss-period>
          <min-cache-miss-period>1</min-cache-miss-period>
          <cache-load-factor>0.75</cache-load-factor>
        </cache-policy-conf>
      </container-cache-conf>
      <container-pool-conf>
        <MaximumSize>50</MaximumSize>
        <MinimumSize>10</MinimumSize>
      </container-pool-conf>
      <commit-option>A</commit-option>
      <role-mapping-manager>java:/jaas/other</role-mapping-manager>
      <authentication-module>java:/jaas/other</authentication-module>
    </container-configuration>

    <!--  S T A T E L E S S  S E S S I O N  B E A N S  -->
    <container-configuration>
      <container-name>Standard Stateless SessionBean</container-name>
      <role-mapping-manager>java:/jaas/other</role-mapping-manager>
      <authentication-module>java:/jaas/other</authentication-module>
    </container-configuration>


    <!--  S T A T E F U L  S E S S I O N  B E A N S  -->
    <container-configuration>
      <container-name>Standard Stateful SessionBean</container-name>
      <role-mapping-manager>java:/jaas/other</role-mapping-manager>
      <authentication-module>java:/jaas/other</authentication-module>
    </container-configuration>
  </container-configurations>
</jboss>
