/*                                                          */
/* File generated by "DeZign for databases"                 */
/* Create-date    :10/24/2003                               */
/* Create-time    :5:28:26 PM                               */
/* project-name   :Not yet specified                        */
/* project-author :Not yet specified                        */
/*                                                          */


/* lower the logging level from NOTICE to WARNING */
SET client_min_messages TO warning; 

ALTER TABLE PHONE_TYPES
ADD CONSTRAINT FK_PHONE_TYPES_1 
FOREIGN KEY (MANU_ID) REFERENCES MANUFACTURERS (ID)
;


ALTER TABLE ORGANIZATIONS
ADD CONSTRAINT FK_ORGANIZATIONS_1 
FOREIGN KEY (PARENT_ID) REFERENCES ORGANIZATIONS (ID)
;

ALTER TABLE ORGANIZATIONS
ADD CONSTRAINT CK_ORGANIZATIONS1 
CHECK (STEREOTYPE >= 0 OR STEREOTYPE <= 1)
;


ALTER TABLE EXTENSION_POOLS
ADD CONSTRAINT FK_EXTENSION_POOLS_1 
FOREIGN KEY (ORG_ID) REFERENCES ORGANIZATIONS (ID)
;


ALTER TABLE EXTENSIONS
ADD CONSTRAINT FK_EXTENSIONS_1 
FOREIGN KEY (EXT_POOL_ID) REFERENCES EXTENSION_POOLS (ID)
;


ALTER TABLE REF_CONFIG_SETS
ADD CONSTRAINT FK_REF_CONFIG_SETS_1 
FOREIGN KEY (ORG_ID) REFERENCES ORGANIZATIONS (ID)
;


ALTER TABLE CONFIG_SETS
ADD CONSTRAINT FK_CONFIG_SETS_1 
FOREIGN KEY (RCS_ID) REFERENCES REF_CONFIG_SETS (ID)
;


ALTER TABLE PHONE_GROUPS
ADD CONSTRAINT FK_PHONE_GROUPS_1 
FOREIGN KEY (ORG_ID) REFERENCES ORGANIZATIONS (ID)
;

ALTER TABLE PHONE_GROUPS
ADD CONSTRAINT FK_PHONE_GROUPS_2 
FOREIGN KEY (PARENT_PG_ID) REFERENCES PHONE_GROUPS (ID)
;

ALTER TABLE PHONE_GROUPS
ADD CONSTRAINT FK_PHONE_GROUPS_3 
FOREIGN KEY (RCS_ID) REFERENCES REF_CONFIG_SETS (ID)
;


ALTER TABLE USER_GROUPS
ADD CONSTRAINT FK_USER_GROUPS_1 
FOREIGN KEY (ORG_ID) REFERENCES ORGANIZATIONS (ID)
;

ALTER TABLE USER_GROUPS
ADD CONSTRAINT FK_USER_GROUPS_2 
FOREIGN KEY (RCS_ID) REFERENCES REF_CONFIG_SETS (ID)
;

ALTER TABLE USER_GROUPS
ADD CONSTRAINT FK_USER_GROUPS_3 
FOREIGN KEY (PARENT_UG_ID) REFERENCES USER_GROUPS (ID)
;


ALTER TABLE USERS
ADD CONSTRAINT FK_USERS_1 
FOREIGN KEY (ORG_ID) REFERENCES ORGANIZATIONS (ID)
;

ALTER TABLE USERS
ADD CONSTRAINT FK_USERS_2 
FOREIGN KEY (UG_ID) REFERENCES USER_GROUPS (ID)
;

ALTER TABLE USERS
ADD CONSTRAINT FK_USERS_3 
FOREIGN KEY (RCS_ID) REFERENCES REF_CONFIG_SETS (ID)
;


ALTER TABLE USER_APP_REF_ASSOC
ADD CONSTRAINT FK_USER_APP_REF_ASSOC_1 
FOREIGN KEY (CS_ID) REFERENCES CONFIG_SETS (ID)
;

ALTER TABLE USER_APP_REF_ASSOC
ADD CONSTRAINT FK_USER_APP_REF_ASSOC_2 
FOREIGN KEY (USRS_ID) REFERENCES USERS (ID)
;



ALTER TABLE APPLICATION_GROUPS
ADD CONSTRAINT FK_APPLICATION_GROUPS_1 
FOREIGN KEY (ORG_ID) REFERENCES ORGANIZATIONS (ID)
;


ALTER TABLE USER_GROUP_AG_ASSOC
ADD CONSTRAINT FK_USER_GROUP_AG_ASSOC_1 
FOREIGN KEY (AG_ID) REFERENCES APPLICATION_GROUPS (ID)
;

ALTER TABLE USER_GROUP_AG_ASSOC
ADD CONSTRAINT FK_USER_GROUP_AG_ASSOC_2 
FOREIGN KEY (UG_ID) REFERENCES USER_GROUPS (ID)
;


ALTER TABLE CS_PROPERTY_PERMISSIONS
ADD CONSTRAINT FK_CS_PROPERTY_PERMISSIONS_1 
FOREIGN KEY (RCS_ID) REFERENCES REF_CONFIG_SETS (ID)
;

ALTER TABLE CS_PROPERTY_PERMISSIONS
ADD CONSTRAINT FK_CS_PROPERTY_PERMISSIONS_2 
FOREIGN KEY (REF_PROP_ID) REFERENCES REF_PROPERTIES (ID)
;

ALTER TABLE CS_PROPERTY_PERMISSIONS
ADD CONSTRAINT CK_CS_PROPERTY_PERMISSIONS1 
CHECK (IS_READ_ONLY >= 0 AND IS_READ_ONLY < 2 )
;

ALTER TABLE CS_PROPERTY_PERMISSIONS
ADD CONSTRAINT CK_CS_PROPERTY_PERMISSIONS2 
CHECK (IS_FINAL >= 0 AND IS_FINAL <=1)
;


ALTER TABLE USER_CS_ASSOC
ADD CONSTRAINT FK_USER_CS_ASSOC_1 
FOREIGN KEY (CS_ID) REFERENCES CONFIG_SETS (ID)
;

ALTER TABLE USER_CS_ASSOC
ADD CONSTRAINT FK_USER_CS_ASSOC_2 
FOREIGN KEY (USRS_ID) REFERENCES USERS (ID)
;


ALTER TABLE PNG_CS_ASSOC
ADD CONSTRAINT FK_PNG_CS_ASSOC_1 
FOREIGN KEY (CS_ID) REFERENCES CONFIG_SETS (ID)
;

ALTER TABLE PNG_CS_ASSOC
ADD CONSTRAINT FK_PNG_CS_ASSOC_2 
FOREIGN KEY (PG_ID) REFERENCES PHONE_GROUPS (ID)
;


ALTER TABLE UG_CS_ASSOC
ADD CONSTRAINT FK_UG_CS_ASSOC_1 
FOREIGN KEY (CS_ID) REFERENCES CONFIG_SETS (ID)
;

ALTER TABLE UG_CS_ASSOC
ADD CONSTRAINT FK_UG_CS_ASSOC_2 
FOREIGN KEY (UG_ID) REFERENCES USER_GROUPS (ID)
;



ALTER TABLE ADMIN_GROUPS
ADD CONSTRAINT FK_ADMIN_GROUPS_1 
FOREIGN KEY (ORG_ID_1) REFERENCES ORGANIZATIONS (ID)
;


ALTER TABLE USER_ADMIN_ASSOC
ADD CONSTRAINT FK_USER_ADMIN_ASSOC_1 
FOREIGN KEY (ADM_GRPS_ID) REFERENCES ADMIN_GROUPS (ID)
;

ALTER TABLE USER_ADMIN_ASSOC
ADD CONSTRAINT FK_USER_ADMIN_ASSOC_2 
FOREIGN KEY (USRS_ID) REFERENCES USERS (ID)
;



ALTER TABLE LOGICAL_PHONES
ADD CONSTRAINT FK_LOGICAL_PHONES_1 
FOREIGN KEY (CSD_ID) REFERENCES CORE_SOFTWARE_DETAILS (ID)
;

ALTER TABLE LOGICAL_PHONES
ADD CONSTRAINT FK_LOGICAL_PHONES_2 
FOREIGN KEY (PG_ID) REFERENCES PHONE_GROUPS (ID)
;

ALTER TABLE LOGICAL_PHONES
ADD CONSTRAINT FK_LOGICAL_PHONES_3 
FOREIGN KEY (PT_ID) REFERENCES PHONE_TYPES (ID)
;

ALTER TABLE LOGICAL_PHONES
ADD CONSTRAINT FK_LOGICAL_PHONES_4 
FOREIGN KEY (ORG_ID) REFERENCES ORGANIZATIONS (ID)
;

ALTER TABLE LOGICAL_PHONES
ADD CONSTRAINT FK_LOGICAL_PHONES_5 
FOREIGN KEY (RCS_ID) REFERENCES REF_CONFIG_SETS (ID)
;

ALTER TABLE LOGICAL_PHONES
ADD CONSTRAINT FK_LOGICAL_PHONES_6 
FOREIGN KEY (USRS_ID) REFERENCES USERS (ID)
;


ALTER TABLE PROFILE_DATA
ADD CONSTRAINT FK_PROFILE_DATA_1 
FOREIGN KEY (LOG_PN_ID) REFERENCES LOGICAL_PHONES (ID)
;



ALTER TABLE APPLICATIONS
ADD CONSTRAINT FK_APPLICATIONS_1 
FOREIGN KEY (ORG_ID) REFERENCES ORGANIZATIONS (ID)
;

ALTER TABLE APPLICATIONS
ADD CONSTRAINT FK_APPLICATIONS_2 
FOREIGN KEY (PT_ID) REFERENCES PHONE_TYPES (ID)
;

ALTER TABLE APPLICATIONS
ADD CONSTRAINT FK_APPLICATIONS_3 
FOREIGN KEY (REF_PROP_ID) REFERENCES REF_PROPERTIES (ID)
;


ALTER TABLE PHONE_CHARACTERISTICS
ADD CONSTRAINT FK_PHONE_CHARACTERISTICS_1 
FOREIGN KEY (APPS_ID) REFERENCES APPLICATIONS (ID)
;

ALTER TABLE PHONE_CHARACTERISTICS
ADD CONSTRAINT FK_PHONE_CHARACTERISTICS_2 
FOREIGN KEY (PT_ID) REFERENCES PHONE_TYPES (ID)
;

ALTER TABLE PHONE_CHARACTERISTICS
ADD CONSTRAINT FK_PHONE_CHARACTERISTICS_3 
FOREIGN KEY (RP_CHARS_CHARACTERISTIC) REFERENCES REF_PHONE_CHARACTERISTICS (CHARACTERISTIC)
;


ALTER TABLE APP_AG_ASSOC
ADD CONSTRAINT FK_APP_AG_ASSOC_1 
FOREIGN KEY (AG_ID) REFERENCES APPLICATION_GROUPS (ID)
;

ALTER TABLE APP_AG_ASSOC
ADD CONSTRAINT FK_APP_AG_ASSOC_2 
FOREIGN KEY (APPS_ID) REFERENCES APPLICATIONS (ID)
;


ALTER TABLE USER_AG_ASSOC
ADD CONSTRAINT FK_USER_AG_ASSOC_1 
FOREIGN KEY (AG_ID) REFERENCES APPLICATION_GROUPS (ID)
;

ALTER TABLE USER_AG_ASSOC
ADD CONSTRAINT FK_USER_AG_ASSOC_2 
FOREIGN KEY (USRS_ID) REFERENCES USERS (ID)
;


ALTER TABLE ROLES
ADD CONSTRAINT CK_ROLES1 
CHECK (NAME = 'END_USER' OR NAME = 'ADMIN' OR NAME = 'SUPER' OR NAME='SDS')
;


ALTER TABLE USER_ROLES
ADD CONSTRAINT FK_USER_ROLES_1 
FOREIGN KEY (ROLES_NAME) REFERENCES ROLES (NAME)
;

ALTER TABLE USER_ROLES
ADD CONSTRAINT FK_USER_ROLES_2 
FOREIGN KEY (USRS_ID) REFERENCES USERS (ID)
;


ALTER TABLE ALIASES
ADD CONSTRAINT FK_ALIASES_1 
FOREIGN KEY (USER_ID) REFERENCES USERS (ID)
;



ALTER TABLE PHONE_TYPE_CSD_ASSOC
ADD CONSTRAINT FK_PHONE_TYPE_CSD_ASSOC_1 
FOREIGN KEY (CSD_ID) REFERENCES CORE_SOFTWARE_DETAILS (ID)
;

ALTER TABLE PHONE_TYPE_CSD_ASSOC
ADD CONSTRAINT FK_PHONE_TYPE_CSD_ASSOC_2 
FOREIGN KEY (PT_ID) REFERENCES PHONE_TYPES (ID)
;


ALTER TABLE ADMIN_GROUP_ASSIGNMENTS
ADD CONSTRAINT FK_ADMIN_GROUP_ASSIGNMENTS_1 
FOREIGN KEY (LOG_PN_ID) REFERENCES LOGICAL_PHONES (ID)
;

ALTER TABLE ADMIN_GROUP_ASSIGNMENTS
ADD CONSTRAINT FK_ADMIN_GROUP_ASSIGNMENTS_2 
FOREIGN KEY (PG_ID) REFERENCES PHONE_GROUPS (ID)
;

ALTER TABLE ADMIN_GROUP_ASSIGNMENTS
ADD CONSTRAINT FK_ADMIN_GROUP_ASSIGNMENTS_3 
FOREIGN KEY (ADM_GRPS_ID) REFERENCES ADMIN_GROUPS (ID)
;

ALTER TABLE ADMIN_GROUP_ASSIGNMENTS
ADD CONSTRAINT FK_ADMIN_GROUP_ASSIGNMENTS_4 
FOREIGN KEY (UG_ID) REFERENCES USER_GROUPS (ID)
;

ALTER TABLE ADMIN_GROUP_ASSIGNMENTS
ADD CONSTRAINT FK_ADMIN_GROUP_ASSIGNMENTS_5 
FOREIGN KEY (USRS_ID) REFERENCES USERS (ID)
;


ALTER TABLE CS_PROFILE_DETAILS
ADD CONSTRAINT FK_CS_PROFILE_DETAILS_1 
FOREIGN KEY (CSD_ID) REFERENCES CORE_SOFTWARE_DETAILS (ID)
;

ALTER TABLE CS_PROFILE_DETAILS
ADD CONSTRAINT CK_CS_PROFILE_DETAILS1 
CHECK (PROFILE_TYPE > 0 AND PROFILE_TYPE < 6)
;


ALTER TABLE LOG_PHONE_CS_ASSOC
ADD CONSTRAINT FK_LOG_PHONE_CS_ASSOC_1 
FOREIGN KEY (CS_ID) REFERENCES CONFIG_SETS (ID)
;

ALTER TABLE LOG_PHONE_CS_ASSOC
ADD CONSTRAINT FK_LOG_PHONE_CS_ASSOC_2 
FOREIGN KEY (LOG_PN_ID) REFERENCES LOGICAL_PHONES (ID)
;

