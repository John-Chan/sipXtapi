<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

 <head>
  <title>Polycom SoundPoint IP Support</title>
  <link rel="stylesheet" type="text/css" href="manual.css"/>

</head>
<body id="polycom">

<h1>Polycom SoundPoint&reg; IP</h1>

<p>Below is a breakdown of the work plan to support Polycom phones. This
	involves creating a whole new API for phone support.</p>
	
<dl>
	<dt>Create business objects and database tables if necessary</dt>
	<dd>For example, Endpoint, ConfigProperty, etc.</dd>
	<dd>STATUS: Hibernate was investigated and proved adequate.</dd>
	
	<dt>Create loadable modules for new phone models</dt>
	<dd>GOALS: Developer must be able to build support for new phones
		without changing source code in sipXconfig project
		</dd>
	<dd>STATUS: SpringFrame work has a powerful way to do this and
		proof of concept was a success. See PhoneFactory.java in source base</dd>

	<dt>Config Set Replacement</dt>
	<dd>Current application stores properies in XML in the postgres DB as a
		CLOB. This complicates code significantly.</dd>
	<dd>STATUS:Possible meta data in database as name value pairs, with an id 
		to determine with property it's defining. Will have to support 
		hierarchy. May be optional for a particular phone model.</dd>
		
	<dt>Understand Polycom phones.</dt>	
	<dd>Have manual and understand basic boot server mechanisms</dd>
	
	<dt>Create prototype of user interface</dt>
	<dd>STATUS: done, see <a href="../neoconf-prototype/phones.html">prototype</a></dd>
	
	<dt>Add support in ProfileWriter and ProfilePublisher</dt>
	<dd>STATUS: Catalogued where in source changes need to be made. See
		<a href="#exhibit-a">Exhibit A</a></dd>
	
	<dt>Misc.</dt>	
	<dd>
		<ol>
			<li>Use db patch mechanism to migrate database from 2.6</li>
			<li>Integrate into navigation system</li>
			<li>security issues being in a separate war w/no direct login</li>			
		</ol>		
	</dd>	
</dl>	

<h2><a name="exhibit-a"/>Exhibit A</h2>
<p>A list of all the places in codebase that deal with phone model
	specifics before neoconf project was started. This list is behind the decision
	to start a new module to support phones going forward.</p>


<h3>ProfileGenerator</h3>

<dl>
	<dt>Add a new patch</dt>
	<dd>Edit <code>profilegenerator/ejb/meta/patches.xml</code> with at minimum addtions to 
		<code>MANUFACTURERS</code> and <code>PHONE_TYPES</code>		
	</dd>
	
	<dt>Definitions XML</dt>
	<dd>Create new GUI definitions file e.g. 
		<code>profilegenerator/ejb/meta/devicedefs/<em>vendor</em>-definition.xml</code>
		one for each model phone. You can use xml entity strategies to import common
		phone definitions
		</dd>
		
	<dt>Profile transformation</dt>
	<dd><code>profilegenerator/ejb/meta/devicededs/internal2<em>vendor</em>.xsl</code>
		to transform configsets into vendor's config files.</dd>
		
    <dt>Control GUI tabs</dt>
	<dd><code>common/meta/xml/propertygrouplink.xml</code> to associate cs properties
		with phone vendor and divide tabs into logical grouping rellevant to phone</dd>
		
    <dt>Constants</dt>
	<dd>Add constants to <code>common/src/com/pingtel/pds/common/PDSDefinitions.java</code></dd>
	
	<dt>Filenames</dt>
	<dd>Report filenames in <code>common/src/com/pingtel/pds/common/DeviceNameUtil.java</code>
		<br/><span class="hack">if (vendor)/else loop</span></dd>
	
	<dt>Notify phone of new profile support</dt>
	<dd><code>profilegenerator/ejb/src/com/pingtel/pds/pgs/profile/RenderProfileBean.java</code>
		<br/><span class="hack">if (vendor)/else loop</span></dd>
		
	<dt>Adjust Serial number manipulation</dt>
	<dd><code>profilegenerator/ejb/src/com/pingtel/pds/pgs/phone/DeviceHome.java</code>
		<br/><span class="hack">if (vendor)/else loop</span></dd>
		
    <dt>Adjust Edit Device/Profiles Logic</dt>
    <dd><code>profilegenerator/ejb/src/com/pingtel/pds/pgs/phone/DeviceAdvocateBean.java</code>, 
		<code>profilegenerator/ejb/src/com/pingtel/pds/pgs/user/UserGroupAdvocateBean.java</code>,
		<code>profilegenerator/ejb/src/com/pingtel/pds/pgs/user/UserAdvocateBean.java</code>
		<br/><span class="hack">if (vendor)/else loop</span></dd>	
		
    <dt>SOAP device constant translation</dt>
	<dd><code>profilegenerator/soap/src/com/pingtel/pds/pgs/soap/DeviceService.java</code>
		<br/><span class="hack">if (vendor)/else loop</span>
		</dd>		

    <dt>SIP Registrar support</dt>
	<dd><code>profilegenerator/commserver/etc/registrar-config-defs.xml</code></dd>
	
	
	<dt>GUI device support</dt>
	<dd><code>profilegenerator/webui/site/xslt/details.xslt</code>, 
	    <code>profilegenerator/webui/site/ui/sipxchange/navigation.jsp</code>,
		<code>profilegenerator/webui/site/ui/sipxchange/index.jsp</code>
		<br/><span class="hack">if (vendor)/else loop</span></dd>
</dl>

<h3>ProfilePublisher</h3>
<dl>		
	<dt>Profile Update/Upgrade/Restart/Reciever support</dt>
	<dd>Create a set of new java files:
		<code>profilepublisher/src/com/pingtel/pds/sds/cmd/<em>ActionVendor</em>Command.java</code>
	</dd>
	
	<dt>Adjust Command Management</dt>
	<dd><code>profilepublisher/src/com/pingtel/pds/sds/ProfileListenerImpl.java</code>, 
		<br/><span class="hack">if (vendor)/else loop</span></dd>
		
</dl>

<h3>ProfileWriter</h3>
<dl>		
    <dt>HTTP/TFTP Server Location/Deletion/Creation/SDS notification</dt>
	<dd><code>profilewriter/src/com/pingtel/pds/profilewriter/ProfileWriterServer.java</code>,
		<code>profilewriter/src/com/pingtel/pds/profilewriter/ProfileWriterWorker.java</code>		
		<br/><span class="hack">if (vendor)/else loop</span>
	</dd>
		
</dl>
	

<span id="lastmodified">
<!-- hhmts start -->
Last modified: Wed Oct  6 10:25:15 EDT 2004
<!-- hhmts end -->
</span>

</body>
</html>
