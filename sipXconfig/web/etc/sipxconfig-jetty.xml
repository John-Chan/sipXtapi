<?xml version="1.0"?> 
<!DOCTYPE Configure PUBLIC 
 "-//Mort Bay Consulting//DTD Configure 1.2//EN"
 "http://jetty.mortbay.org/configure_1_2.dtd">
                                               
<Configure class="org.mortbay.jetty.Server">
  
  <!--
    - Requires system property be set
    -    org.apache.commons.logging.LogFactory=org.mortbay.log.Factory
    -->
  <Call class="org.apache.commons.logging.LogFactory" name="getFactory">
    <Call name="getInstance">
      <Arg/>
      <Call name="reset"/>
      <!-- Set name="debug">true</Set -->
      <!--
        -   Verbose levels
        - ====================
        -  -1 = INFO OFF
        -  0  = INFO
        -  1  = TRACE
        -->
      <Set name="verbose">-1</Set>
      <Call name="add">
        <Arg>
          <New class="org.mortbay.log.OutputStreamLogSink">
            <Set name="filename"><SystemProperty name="jetty.log.dir"/>/sipxconfig.log</Set>
            <Set name="retainDays">90</Set>
            <Set name="append">true</Set>
            <Set name="logLabels">true</Set>
            <Set name="logStackSize">true</Set>
            <Set name="logStackTrace">false</Set>
            <Set name="logOneLine">false</Set>
            <Set name="suppressStack">false</Set>
            <Set name="logTimeZone">GMT</Set>
          </New>
        </Arg>
      </Call>
    </Call>
  </Call>

  <Call name="addListener">
    <Arg>
      <New class="org.mortbay.http.SslListener">
        <Set name="Port">8443</Set>     
        <Set name="Keystore"><SystemProperty name="jetty.conf.dir"/>/ssl/.ssl.keystore</Set>
	      <Set name="Password">changeit</Set>
	      <Set name="KeyPassword">changeit</Set>
      	<Set name="PoolName">P1</Set>
        <Set name="MinThreads">20</Set>
        <Set name="MaxThreads">200</Set>
        <Set name="lowResources">50</Set>
        <Set name="MaxIdleTimeMs">30000</Set>
        <Set name="LowResourcePersistTimeMs">2000</Set>
        <Set name="acceptQueueSize">0</Set>
      </New>
    </Arg>
  </Call>
  
  <Set name="rootWebApp">sipxconfig</Set>
  <Call name="addWebApplication">
    <Arg>/sipxconfig</Arg>
    <Arg><SystemProperty name="jetty.lib.dir"/>/sipxconfig.war</Arg>
    <Set name="extractWAR">true</Set>
  </Call>

</Configure>









