<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE page-specification
      PUBLIC "-//Apache Software Foundation//Tapestry Specification 3.0//EN"
      "http://jakarta.apache.org/tapestry/dtd/Tapestry_3_0.dtd">
<!-- generated by Spindle, http://spindle.sourceforge.net -->

<page-specification class="org.sipfoundry.sipxconfig.site.TestPage">
    
	<property-specification name="dialPlanContext" 
		type="org.sipfoundry.sipxconfig.admin.dialplan.DialPlanManager" 
    	initial-value="global.dialPlanContext"/>
	<property-specification name="phoneContext" 
		type="org.sipfoundry.sipxconfig.phone.PhoneManager" 
    	initial-value="global.phoneContext"/>
    <property-specification name="callGroupContext" 
    	type="org.sipfoundry.sipxconfig.admin.callgroup.CallGroupManager" 
	    initial-value="global.callGroupContext"/>    
	<property-specification name="gatewayContext" 
		type="org.sipfoundry.sipxconfig.gateway.GatewayManager" 
    	initial-value="global.gatewayContext"/>    
	<property-specification name="coreContext" 
		type="org.sipfoundry.sipxconfig.common.CoreManager" 
    	initial-value="global.coreContext"/>
    <property-specification name="sipxReplicationContext"
    	type="org.sipfoundry.sipxconfig.admin.commserver.SipxReplicationManager"
    	initial-value="global.sipxReplicationContext"/>
    <property-specification name="jobContext" 
    	type="org.sipfoundry.sipxconfig.job.JobManager" 
    	initial-value="global.jobContext"/>

    <component id="resetDialPlans" type="DirectLink">
        <binding name="listener" expression="listeners.resetDialPlans"/>
    </component>    
    <component id="resetPhoneContext" type="DirectLink">
        <binding name="listener" expression="listeners.resetPhoneContext"/>
    </component>    
    <component id="resetCallGroupContext" type="DirectLink">
        <binding name="listener" expression="listeners.resetCallGroupContext"/>
    </component>    
    <component id="resetCoreContext" type="DirectLink">
        <binding name="listener" expression="listeners.resetCoreContext"/>
    </component>      
    <component id="newPhoneGroup" type="DirectLink">
        <binding name="listener" expression="listeners.newGroup"/>
        <static-binding name="parameters" value="phone"/>
    </component> 
    <component id="newUserGroup" type="DirectLink">
        <binding name="listener" expression="listeners.newGroup"/>
        <static-binding name="parameters" value="user"/>
    </component> 
    <component id="toggleNavigation" type="DirectLink">
        <binding name="listener" expression="listeners.toggleNavigation"/>
    </component>    
    <component id="hideNavigation" type="DirectLink">
        <binding name="listener" expression="listeners.hideNavigation"/>
    </component>    
    <component id="toggleAdmin" type="DirectLink">
        <binding name="listener" expression="listeners.toggleAdmin"/>
    </component>    
    <component id="seedTestUser" type="DirectLink">
        <binding name="listener" expression="listeners.seedTestUser"/>
    </component>
    <component id="loginFirstTestUser" type="DirectLink">
        <binding name="listener" expression="listeners.loginFirstTestUser"/>
    </component>
    <component id="deleteAllUsers" type="DirectLink">
        <binding name="listener" expression="listeners.deleteAllUsers"/>
    </component>
    <component id="login" type="DirectLink">
        <binding name="listener" expression="listeners.login"/>
    </component>
    <component id="populateJobs" type="DirectLink">
        <binding name="listener" expression="listeners.populateJobs"/>
    </component>
    <component id="populatePhones" type="DirectLink">
        <binding name="listener" expression="listeners.populatePhones"/>
    </component>
   
    <component id="RestartReminder" type="DirectLink">
        <binding name="listener" expression="listeners.goToRestartReminderPage"/>
    </component>

    <component id="throwException" type="DirectLink">
        <binding name="listener" expression="listeners.throwException"/>
    </component>        
    
    <!-- generation of data sets -->    
    <property-specification name="dataSet" type="org.sipfoundry.sipxconfig.admin.commserver.imdb.DataSet"/>
    <component id="generateLinks" type="Foreach">
        <binding name="source" expression="@org.sipfoundry.sipxconfig.admin.commserver.imdb.DataSet@iterator()"/>
        <binding name="value" expression="dataSet"/>  
        <static-binding name="element" value="ul"/>
    </component>
    <component id="generateLink" type="DirectLink">
        <binding name="listener" expression="listeners.generateDataSet"/>
        <binding name="parameters" expression="dataSet.name"/>
    </component>
    <component id="generateLinkLabel" type="Insert">
        <binding name="value" expression="'Generate ' + dataSet.name + 's'"/>
    </component>
</page-specification>
