<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE page-specification PUBLIC
  "-//Apache Software Foundation//Tapestry Specification 3.0//EN"
  "http://jakarta.apache.org/tapestry/dtd/Tapestry_3_0.dtd">
<!-- generated by Spindle, http://spindle.sourceforge.net -->

<page-specification class="org.sipfoundry.sipxconfig.site.admin.JobStatusPage">

    <description>Displays the table with current job status</description>
    
	<!--
	  - P R O P E R T I E S
	  -->    
    <property-specification name="jobContext" 
    	type="org.sipfoundry.sipxconfig.job.JobContext" 
    	initial-value="global.jobContext"/>
    <property-specification name="currentRow"
        type="org.sipfoundry.sipxconfig.job.Job"/>
    
	<!--
	  - B E A N S
	  -->
    <bean name="rowClass" class="org.apache.tapestry.bean.EvenOdd"/>
    
	<!--
	  - C O M P O N E N T S
	  -->
	<component id="form" type="Form">
    </component>
    <component id="tableView" type="contrib:TableView">
        <binding name="source" expression="jobContext.jobs"/>
        <static-binding name="pageSize" value="-1"/>
        <static-binding name="columns" 
            value="* name:name,start:currentStart,stop:currentStop,status:status.name,error:errorMsg"/>
    </component>
    <component id="tableColumns" type="contrib:TableColumns"/>    
    <component id="tableRows" type="contrib:TableRows">
		<binding name="class" expression="beans.rowClass.next"/>
		<binding name="row" expression="currentRow"/>
    </component>
    <component id="tableValues" type="contrib:TableValues"/>        
    <component id="removeButton" type="Submit">
        <binding name="listener" expression="listeners.remove"/>
        <message-binding name="label" key="button.remove"/>
    </component>
    <component id="startColumnValue" type="Block"/>
    <component id="stopColumnValue" type="Block"/>
    
    <component id="start" type="InsertText">
        <binding name="value" expression="currentStart"/>
    </component>
    <component id="stop" type="InsertText">
        <binding name="value" expression="currentStop"/>
    </component>
    
    <component id="clearButton" type="Submit">
        <binding name="listener" expression="listeners.clear"/>
        <message-binding name="label" key="button.clear"/>
    </component>
    <component id="refreshButton" type="Submit">
        <binding name="listener" expression="listeners.noop"/>
        <message-binding name="label" key="button.refresh"/>
    </component>
</page-specification>
