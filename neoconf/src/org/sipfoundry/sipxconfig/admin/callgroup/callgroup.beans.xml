<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" 
	"http://www.springframework.org/dtd/spring-beans.dtd">
<beans>
  <bean id="orbitsGenerator" class="org.sipfoundry.sipxconfig.admin.dialplan.config.Orbits">
    <property name="configDirectory" value="${sysdir.etc}"/>
  </bean>
  
  <bean id="callGroupContextImpl"
    class="org.sipfoundry.sipxconfig.admin.callgroup.CallGroupContextImpl">
    <property name="sessionFactory" ref="sessionFactory"/>
    <property name="coreContext" ref="coreContextImpl"/>
    <property name="replicationContext" ref="sipxReplicationContext"/>
    <property name="orbitsGenerator">
      <ref local="orbitsGenerator"/>
    </property>
  </bean>
  
  <bean id="callGroupContextUserDelete" class="org.sipfoundry.sipxconfig.common.event.DaoEventListener"
    factory-bean="callGroupContextImpl" factory-method="createUserDeleteListener"/>
  
  <bean id="callGroupContext" class="org.springframework.aop.framework.ProxyFactoryBean"
    parent="abstractDao"
    depends-on="callGroupContextUserDelete">
    <property name="proxyInterfaces"
      value="org.sipfoundry.sipxconfig.admin.callgroup.CallGroupContext"/>
    <property name="target">
      <ref local="callGroupContextImpl"/>
    </property>
  </bean>
</beans>
