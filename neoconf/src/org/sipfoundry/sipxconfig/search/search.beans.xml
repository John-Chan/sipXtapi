<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" 
	"http://www.springframework.org/dtd/spring-beans.dtd">
<beans>
  <bean id="beanIndexer" class="org.sipfoundry.sipxconfig.search.DefaultBeanIndexer"/>
  <bean id="indexDirectory" class="org.apache.lucene.store.RAMDirectory"/>
  <bean id="analyzer" class="org.apache.lucene.analysis.standard.StandardAnalyzer"/>
  
  <bean id="indexManager" class="org.sipfoundry.sipxconfig.search.IndexManagerImpl">
  	<property name="directory" ref="indexDirectory"/>
    <property name="analyzer" ref="analyzer"/>
    <property name="beanIndexer" ref="beanIndexer"/>
  </bean>
  
  <bean id="searchManagerImpl" class="org.sipfoundry.sipxconfig.search.SearchManagerImpl">
    <property name="sessionFactory" ref="sessionFactory"/>
  	<property name="directory" ref="indexDirectory"/>  
    <property name="analyzer" ref="analyzer"/>
    <property name="beanIndexer" ref="beanIndexer"/>
  </bean>
  
  <bean id="searchManager" class="org.springframework.aop.framework.ProxyFactoryBean" parent="abstractDao">
    <property name="proxyInterfaces">
      <value>org.sipfoundry.sipxconfig.search.SearchManager</value>
    </property>
    <property name="target">
      <ref local="searchManagerImpl"/>
    </property>
  </bean>
</beans>