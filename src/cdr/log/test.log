ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.002210)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.063709)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.055978)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'call_state_events'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mCallStateEvent Load (0.043086)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.004008)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.003077)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.035170)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'cdrs'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mCdr Load (0.023845)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mCdr Load (0.019142)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'extra_bogus_call_id' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;35;1mSQL (0.003037)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002555)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Load (0.023728)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mCdr Load (0.018922)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'extra_bogus_call_id' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;35;1mSQL (0.002937)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002417)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.033720)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.004005)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.002995)[0m   [0mBEGIN[0m
  [4;36;1mParty Delete all (0.004553)[0m   [0;1mDELETE FROM parties WHERE (aor = 'aor' and contact = 'contact') [0m
  [4;35;1mSQL (0.018175)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'parties'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mParty Load (0.008999)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mPK and serial sequence (0.032767)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'parties'::regclass
[0m
  [4;36;1mParty Create (0.049302)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('aor', 'contact')[0m
  [4;35;1mSQL (0.049824)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.009829)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mSQL (0.003020)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002273)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.033835)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mCallStateEvent Load (0.033835)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;35;1mSQL (0.004080)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002445)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.017296)[0m   [0mselect distinct call_id from call_state_events where event_time >= 'Thu May 17 19:30:00 UTC 1990' and event_time <= 'Thu May 17 19:45:00 UTC 1990'[0m
  [4;36;1mSQL (0.003077)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.002364)[0m   [0mBEGIN[0m
  [4;36;1mCallStateEvent Load (0.032528)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;35;1mSQL (0.004025)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002756)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.003852)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002340)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Delete all (0.031263)[0m   [0mDELETE FROM cdrs [0m
  [4;36;1mCallStateEvent Load (0.015359)[0m   [0;1mselect distinct call_id from call_state_events where event_time >= 'Mon Jan 01 00:00:00 UTC 1990' and event_time <= 'Sun Dec 31 00:00:00 EST 2000'[0m
  [4;35;1mCallStateEvent Load (0.042923)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.018698)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mParty Load (0.008370)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:cathy@example.com' AND parties."contact" = 'sip:cathy@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.004081)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:cathy@example.com', 'sip:cathy@1.1.1.1')[0m
  [4;35;1mSQL (0.005790)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.008648)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:heathcliff@example.com' AND parties."contact" = 'sip:cathy@3.3.3.3' ) LIMIT 1[0m
  [4;35;1mParty Create (0.003680)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:heathcliff@example.com', 'sip:cathy@3.3.3.3')[0m
  [4;36;1mSQL (0.005398)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.018006)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mPK and serial sequence (0.033501)[0m   [0;1m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'cdrs'::regclass
[0m
  [4;35;1mCdr Create (0.005626)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1999-08-13 06:03:00', NULL, 'C', 't2', 'f', 5, NULL, 4, 'testComplicatedSuccess', '1999-08-13 06:10:00', '1999-08-13 06:00:00')[0m
  [4;36;1mSQL (0.005403)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCallStateEvent Load (0.031371)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.017619)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.008647)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:mick@example.com' AND parties."contact" = 'sip:mick@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.003779)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:mick@example.com', 'sip:mick@1.1.1.1')[0m
  [4;35;1mSQL (0.005170)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.009026)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:keith@example.com' AND parties."contact" = 'sip:keith@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mParty Create (0.003883)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:keith@example.com', 'sip:keith@2.2.2.2')[0m
  [4;36;1mSQL (0.005691)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.017640)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.005667)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('2000-01-01 01:00:00', 'You Can''t Always Get What You Want', 'F', 't', 'f', 7, 486, 6, 'testFailed', '2000-01-01 02:00:00', '2000-01-01 00:00:00')[0m
  [4;35;1mSQL (0.005592)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCallStateEvent Load (0.031531)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;35;1mCdr Load (0.017939)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mParty Load (0.009593)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;35;1mParty Load (0.009236)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;36;1mCdr Load (0.017424)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.005585)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1990-05-17 19:31:00', NULL, 'C', 't', 'f', 2, NULL, 1, 'testSimpleSuccess', '1990-05-17 19:40:00', '1990-05-17 19:30:00')[0m
  [4;36;1mSQL (0.005501)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCallStateEvent Load (0.023783)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallEarly') ORDER BY event_time [0m
  [4;36;1mCallStateEvent Load (0.023535)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallInTimeWindow') ORDER BY event_time [0m
  [4;35;1mCallStateEvent Load (0.023216)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallLate') ORDER BY event_time [0m
  [4;36;1mCdr Count (0.041062)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mSQL (0.003195)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002307)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.033544)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.025165)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.013214)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Load (0.009611)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mCdr Load (0.017278)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.005844)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1990-05-17 19:31:00', NULL, 'C', 't', 'f', 2, NULL, 1, 'testSimpleSuccess', '1990-05-17 19:40:00', '1990-05-17 19:30:00')[0m
  [4;35;1mSQL (0.005447)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.019956)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testSimpleSuccess' ) LIMIT 1[0m
  [4;35;1mCallStateEvent Load (0.046822)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.040312)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mParty Load (0.008952)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:cathy@example.com' AND parties."contact" = 'sip:cathy@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.004114)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:cathy@example.com', 'sip:cathy@1.1.1.1')[0m
  [4;35;1mSQL (0.005441)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.008259)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:heathcliff@example.com' AND parties."contact" = 'sip:cathy@3.3.3.3' ) LIMIT 1[0m
  [4;35;1mParty Create (0.003781)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:heathcliff@example.com', 'sip:cathy@3.3.3.3')[0m
  [4;36;1mSQL (0.005294)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.017485)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mCdr Create (0.005731)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1999-08-13 06:03:00', NULL, 'C', 't2', 'f', 9, NULL, 8, 'testComplicatedSuccess', '1999-08-13 06:10:00', '1999-08-13 06:00:00')[0m
  [4;35;1mSQL (0.005388)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.019501)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testComplicatedSuccess' ) LIMIT 1[0m
  [4;35;1mCallStateEvent Load (0.035398)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.024505)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.008889)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:mick@example.com' AND parties."contact" = 'sip:mick@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.004415)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:mick@example.com', 'sip:mick@1.1.1.1')[0m
  [4;35;1mSQL (0.005329)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.008263)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:keith@example.com' AND parties."contact" = 'sip:keith@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mParty Create (0.003826)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:keith@example.com', 'sip:keith@2.2.2.2')[0m
  [4;36;1mSQL (0.005154)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.016971)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.005618)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('2000-01-01 01:00:00', 'You Can''t Always Get What You Want', 'F', 't', 'f', 11, 486, 10, 'testFailed', '2000-01-01 02:00:00', '2000-01-01 00:00:00')[0m
  [4;35;1mSQL (0.005481)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.021591)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testFailed' ) LIMIT 1[0m
  [4;35;1mSQL (0.003203)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002170)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Delete all (0.004196)[0m   [0mDELETE FROM cdrs WHERE (call_id = 'call ID') [0m
  [4;36;1mCdr Load (0.018586)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.005506)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'C', 't', 'f', 2, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;36;1mSQL (0.005926)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Load (0.021122)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Load (0.020339)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Destroy (0.005188)[0m   [0m DELETE FROM cdrs
 WHERE id = 8
[0m
  [4;36;1mCdr Create (0.005461)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'I', 't', 'f', 2, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;35;1mSQL (0.005521)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.020754)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Destroy (0.004593)[0m   [0m DELETE FROM cdrs
 WHERE id = 9
[0m
  [4;36;1mCdr Create (0.006023)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'R', 't', 'f', 2, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;35;1mSQL (0.005639)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mSQL (0.003306)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.002839)[0m   [0mBEGIN[0m
  [4;36;1mCdr Count (0.006548)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mCdr Load (0.023347)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mCdr Count (0.008046)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mCdr Load (0.022357)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mParty Load (0.009255)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;35;1mParty Load (0.009381)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;36;1mCdr Load (0.016846)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mCdr Create (0.006844)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, NULL, 't2', 'f2', 2, NULL, 1, 'call2', NULL, NULL)[0m
  [4;36;1mSQL (0.005949)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Count (0.007367)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mCdr Load (0.026095)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mCdr Count (0.006827)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mParty Count (0.005852)[0m   [0;1mSELECT COUNT(*) FROM parties [0m
  [4;35;1mCdr Load (0.017473)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;36;1mParty Load (0.008169)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:varda@example.com' AND parties."contact" = 'sip:varda@3.3.3.3' ) LIMIT 1[0m
  [4;35;1mParty Create (0.003714)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:varda@example.com', 'sip:varda@3.3.3.3')[0m
  [4;36;1mSQL (0.005459)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mParty Load (0.008163)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:thor@example.com' AND parties."contact" = 'sip:thor@4.4.4.4' ) LIMIT 1[0m
  [4;36;1mParty Create (0.003724)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:thor@example.com', 'sip:thor@4.4.4.4')[0m
  [4;35;1mSQL (0.005335)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mCdr Load (0.016988)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;35;1mCdr Create (0.006358)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, NULL, 't3', 'f3', 13, NULL, 12, 'call3', NULL, NULL)[0m
  [4;36;1mSQL (0.006097)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Count (0.004155)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mParty Count (0.002448)[0m   [0;1mSELECT COUNT(*) FROM parties [0m
  [4;35;1mCdr Load (0.007931)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;36;1mSQL (0.001359)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001360)[0m   [0mBEGIN[0m
  [4;36;1mParty Delete all (0.001999)[0m   [0;1mDELETE FROM parties WHERE (aor = 'aor' and contact = 'contact') [0m
  [4;35;1mParty Load (0.003805)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;36;1mParty Create (0.001845)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('aor', 'contact')[0m
  [4;35;1mSQL (0.002336)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.004468)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mSQL (0.001395)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001122)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.002170)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001025)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.001736)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001111)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.001708)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.001938)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.010842)[0m   [0mSELECT * FROM call_state_events WHERE (call_state_events.id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.001411)[0m   [0;1mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000263)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.004515)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.006838)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'call_state_events'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mCallStateEvent Load (0.005483)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.000405)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000269)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.006713)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'cdrs'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mCdr Load (0.003064)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mCdr Load (0.002544)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'extra_bogus_call_id' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;35;1mSQL (0.000431)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000322)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Load (0.003084)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mCdr Load (0.002502)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'extra_bogus_call_id' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;35;1mSQL (0.000418)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000303)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.004463)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.000456)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000490)[0m   [0mBEGIN[0m
  [4;36;1mParty Delete all (0.000603)[0m   [0;1mDELETE FROM parties WHERE (aor = 'aor' and contact = 'contact') [0m
  [4;35;1mSQL (0.002276)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'parties'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mParty Load (0.001169)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mPK and serial sequence (0.004335)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'parties'::regclass
[0m
  [4;36;1mParty Create (0.000614)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('aor', 'contact')[0m
  [4;35;1mSQL (0.000821)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001385)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mSQL (0.000412)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000276)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.004173)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mCallStateEvent Load (0.007515)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;35;1mSQL (0.000951)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000630)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.001989)[0m   [0mselect distinct call_id from call_state_events where event_time >= 'Thu May 17 19:30:00 UTC 1990' and event_time <= 'Thu May 17 19:45:00 UTC 1990'[0m
  [4;36;1mSQL (0.000408)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000297)[0m   [0mBEGIN[0m
  [4;36;1mCallStateEvent Load (0.004228)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;35;1mSQL (0.000456)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000478)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000569)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000285)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Delete all (0.000595)[0m   [0mDELETE FROM cdrs [0m
  [4;36;1mCallStateEvent Load (0.001890)[0m   [0;1mselect distinct call_id from call_state_events where event_time >= 'Mon Jan 01 00:00:00 UTC 1990' and event_time <= 'Sun Dec 31 00:00:00 EST 2000'[0m
  [4;35;1mCallStateEvent Load (0.006830)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.002607)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mParty Load (0.001219)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:cathy@example.com' AND parties."contact" = 'sip:cathy@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000543)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:cathy@example.com', 'sip:cathy@1.1.1.1')[0m
  [4;35;1mSQL (0.000725)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001099)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:heathcliff@example.com' AND parties."contact" = 'sip:cathy@3.3.3.3' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000493)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:heathcliff@example.com', 'sip:cathy@3.3.3.3')[0m
  [4;36;1mSQL (0.000746)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.002276)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mPK and serial sequence (0.004253)[0m   [0;1m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'cdrs'::regclass
[0m
  [4;35;1mCdr Create (0.000753)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1999-08-13 06:03:00', NULL, 'C', 't2', 'f', 5, NULL, 4, 'testComplicatedSuccess', '1999-08-13 06:10:00', '1999-08-13 06:00:00')[0m
  [4;36;1mSQL (0.000717)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCallStateEvent Load (0.006304)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.002458)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.001072)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:mick@example.com' AND parties."contact" = 'sip:mick@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000735)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:mick@example.com', 'sip:mick@1.1.1.1')[0m
  [4;35;1mSQL (0.000966)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001143)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:keith@example.com' AND parties."contact" = 'sip:keith@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000509)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:keith@example.com', 'sip:keith@2.2.2.2')[0m
  [4;36;1mSQL (0.000665)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.002219)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.000756)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('2000-01-01 01:00:00', 'You Can''t Always Get What You Want', 'F', 't', 'f', 7, 486, 6, 'testFailed', '2000-01-01 02:00:00', '2000-01-01 00:00:00')[0m
  [4;35;1mSQL (0.000720)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCallStateEvent Load (0.003771)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;35;1mCdr Load (0.002242)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mParty Load (0.001413)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;35;1mParty Load (0.001192)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;36;1mCdr Load (0.002168)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.000766)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1990-05-17 19:31:00', NULL, 'C', 't', 'f', 2, NULL, 1, 'testSimpleSuccess', '1990-05-17 19:40:00', '1990-05-17 19:30:00')[0m
  [4;36;1mSQL (0.000739)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCallStateEvent Load (0.003280)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallEarly') ORDER BY event_time [0m
  [4;36;1mCallStateEvent Load (0.003016)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallInTimeWindow') ORDER BY event_time [0m
  [4;35;1mCallStateEvent Load (0.002945)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallLate') ORDER BY event_time [0m
  [4;36;1mCdr Count (0.000947)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mSQL (0.000513)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000270)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.005809)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.003575)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.001917)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Load (0.001251)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mCdr Load (0.002122)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.001240)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1990-05-17 19:31:00', NULL, 'C', 't', 'f', 2, NULL, 1, 'testSimpleSuccess', '1990-05-17 19:40:00', '1990-05-17 19:30:00')[0m
  [4;35;1mSQL (0.001137)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.003359)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testSimpleSuccess' ) LIMIT 1[0m
  [4;35;1mCallStateEvent Load (0.006979)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.003638)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mParty Load (0.001816)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:cathy@example.com' AND parties."contact" = 'sip:cathy@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000917)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:cathy@example.com', 'sip:cathy@1.1.1.1')[0m
  [4;35;1mSQL (0.001054)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001204)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:heathcliff@example.com' AND parties."contact" = 'sip:cathy@3.3.3.3' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000489)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:heathcliff@example.com', 'sip:cathy@3.3.3.3')[0m
  [4;36;1mSQL (0.000659)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.002236)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mCdr Create (0.000753)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1999-08-13 06:03:00', NULL, 'C', 't2', 'f', 9, NULL, 8, 'testComplicatedSuccess', '1999-08-13 06:10:00', '1999-08-13 06:00:00')[0m
  [4;35;1mSQL (0.000682)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.002390)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testComplicatedSuccess' ) LIMIT 1[0m
  [4;35;1mCallStateEvent Load (0.004947)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.003470)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.001448)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:mick@example.com' AND parties."contact" = 'sip:mick@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000674)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:mick@example.com', 'sip:mick@1.1.1.1')[0m
  [4;35;1mSQL (0.000850)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001623)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:keith@example.com' AND parties."contact" = 'sip:keith@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000535)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:keith@example.com', 'sip:keith@2.2.2.2')[0m
  [4;36;1mSQL (0.000660)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.002276)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.000755)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('2000-01-01 01:00:00', 'You Can''t Always Get What You Want', 'F', 't', 'f', 11, 486, 10, 'testFailed', '2000-01-01 02:00:00', '2000-01-01 00:00:00')[0m
  [4;35;1mSQL (0.000684)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.002609)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testFailed' ) LIMIT 1[0m
  [4;35;1mSQL (0.000442)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000301)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Delete all (0.000586)[0m   [0mDELETE FROM cdrs WHERE (call_id = 'call ID') [0m
  [4;36;1mCdr Load (0.002323)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.001242)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'C', 't', 'f', 2, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;36;1mSQL (0.001176)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Load (0.003245)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Load (0.002588)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Destroy (0.000731)[0m   [0m DELETE FROM cdrs
 WHERE id = 8
[0m
  [4;36;1mCdr Create (0.000786)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'I', 't', 'f', 2, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;35;1mSQL (0.000699)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.002478)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Destroy (0.000691)[0m   [0m DELETE FROM cdrs
 WHERE id = 9
[0m
  [4;36;1mCdr Create (0.000696)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'R', 't', 'f', 2, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;35;1mSQL (0.000875)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mSQL (0.000543)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000273)[0m   [0mBEGIN[0m
  [4;36;1mCdr Count (0.000833)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mCdr Load (0.002806)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mCdr Count (0.000873)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mCdr Load (0.004251)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mParty Load (0.001309)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;35;1mParty Load (0.001203)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;36;1mCdr Load (0.062248)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mCdr Create (0.000924)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, NULL, 't2', 'f2', 2, NULL, 1, 'call2', NULL, NULL)[0m
  [4;36;1mSQL (0.000987)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Count (0.000841)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mCdr Load (0.002529)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mCdr Count (0.000851)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mParty Count (0.000732)[0m   [0;1mSELECT COUNT(*) FROM parties [0m
  [4;35;1mCdr Load (0.002090)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;36;1mParty Load (0.001111)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:varda@example.com' AND parties."contact" = 'sip:varda@3.3.3.3' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000512)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:varda@example.com', 'sip:varda@3.3.3.3')[0m
  [4;36;1mSQL (0.000683)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mParty Load (0.000998)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:thor@example.com' AND parties."contact" = 'sip:thor@4.4.4.4' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000614)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:thor@example.com', 'sip:thor@4.4.4.4')[0m
  [4;35;1mSQL (0.000690)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mCdr Load (0.002144)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;35;1mCdr Create (0.000773)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, NULL, 't3', 'f3', 13, NULL, 12, 'call3', NULL, NULL)[0m
  [4;36;1mSQL (0.000683)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Count (0.000863)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mParty Count (0.000736)[0m   [0;1mSELECT COUNT(*) FROM parties [0m
  [4;35;1mCdr Load (0.002566)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;36;1mSQL (0.000438)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000272)[0m   [0mBEGIN[0m
  [4;36;1mParty Delete all (0.000710)[0m   [0;1mDELETE FROM parties WHERE (aor = 'aor' and contact = 'contact') [0m
  [4;35;1mParty Load (0.001206)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000541)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('aor', 'contact')[0m
  [4;35;1mSQL (0.000777)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001339)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mSQL (0.000485)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000321)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000827)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000330)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000627)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000311)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000552)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000349)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.003218)[0m   [0mSELECT * FROM call_state_events WHERE (call_state_events.id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.000473)[0m   [0;1mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000257)[0m   [0;1mBEGIN[0m
  [4;35;1mCallDirection Load (0.001024)[0m   [0mSELECT * FROM call_directions WHERE (call_directions.id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.002458)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'call_directions'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mSQL (0.000348)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000297)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.002826)[0m   [0mSELECT * FROM call_state_events WHERE (call_state_events.id = 1) LIMIT 1[0m
  [4;36;1mCallStateEvent Load (0.002637)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_state_events.id = 2) LIMIT 1[0m
  [4;35;1mCallStateEvent Load (0.004054)[0m   [0mSELECT * FROM call_state_events WHERE (call_state_events.id = 3) LIMIT 1[0m
  [4;36;1mSQL (0.006862)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'call_state_events'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mSQL (0.000411)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000389)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.002800)[0m   [0mSELECT * FROM call_state_events WHERE (call_state_events.id = 1) LIMIT 1[0m
  [4;36;1mCallStateEvent Load (0.002664)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_state_events.id = 2) LIMIT 1[0m
  [4;35;1mCallStateEvent Load (0.002877)[0m   [0mSELECT * FROM call_state_events WHERE (call_state_events.id = 3) LIMIT 1[0m
  [4;36;1mSQL (0.000375)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000264)[0m   [0mBEGIN[0m
  [4;36;1mCallStateEvent Load (0.003356)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_state_events.id = 1) LIMIT 1[0m
  [4;35;1mCallStateEvent Load (0.002928)[0m   [0mSELECT * FROM call_state_events WHERE (call_state_events.id = 2) LIMIT 1[0m
  [4;36;1mCallStateEvent Load (0.002657)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_state_events.id = 3) LIMIT 1[0m
  [4;35;1mSQL (0.000367)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000419)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.006680)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'cdrs'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.000597)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000467)[0m   [0mBEGIN[0m
  [4;36;1mCdr Load (0.003505)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs.id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.000765)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000331)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000529)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000229)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000590)[0m   [0mSHOW search_path[0m
  [4;36;1mSQL (0.094726)[0m   [0;1m SELECT tablename
 FROM pg_tables
 WHERE schemaname IN ('$user','public')
[0m
  [4;35;1mGateway Load (0.015793)[0m   [0mSELECT * FROM gateway WHERE (name = 'gateway_for_call_resolver_unit_test') LIMIT 1[0m
  [4;36;1mSQL (0.004698)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'gateway'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mGateway Destroy (0.099142)[0m   [0m DELETE FROM gateway
 WHERE gateway_id = 3
[0m
  [4;36;1mGateway Load (0.068130)[0m   [0;1mselect max(gateway.gateway_id) from gateway[0m
  [4;35;1mPK and serial sequence (0.115847)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'gateway'::regclass
[0m
  [4;36;1mPK and custom sequence (0.035878)[0m   [0;1m SELECT attr.attname, name.nspname, split_part(def.adsrc, '\'', 2)
 FROM pg_class t
 JOIN pg_namespace name ON (t.relnamespace = name.oid)
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = 'gateway'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [4;35;1mGateway Create (0.010593)[0m   [0mINSERT INTO gateway ("name", "bean_id", "gateway_id", "description", "value_storage_id", "address", "serial_number", "model_id") VALUES('gateway_for_call_resolver_unit_test', 'gwGeneric', 3, NULL, NULL, '10.1.1.1', '0123456789AB', NULL)[0m
  [4;36;1mGateway Load (0.001778)[0m   [0;1mSELECT * FROM gateway WHERE (name = 'gateway_for_call_resolver_unit_test') LIMIT 1[0m
  [4;35;1mSQL (0.000311)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000446)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.003203)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'parties'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mParty Load (0.001207)[0m   [0;1mSELECT * FROM parties WHERE (parties.id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.000373)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000275)[0m   [0;1mBEGIN[0m
  [4;35;1mParty Load (0.001654)[0m   [0mSELECT * FROM parties WHERE (parties.id = 1) LIMIT 1[0m
  [4;36;1mParty Load (0.001071)[0m   [0;1mSELECT * FROM parties WHERE (parties.id = 2) LIMIT 1[0m
  [4;35;1mSQL (0.000366)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000237)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000248)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000248)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.004223)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'cdrs'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.000455)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000412)[0m   [0mBEGIN[0m
  [4;36;1mCdr Load (0.003023)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs.id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.000371)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000404)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Load (0.003432)[0m   [0mSELECT * FROM cdrs WHERE (cdrs.id = 1) LIMIT 1[0m
  [4;36;1mParty Load (0.001028)[0m   [0;1mSELECT * FROM parties WHERE (parties.id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.001943)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'parties'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.000600)[0m   [0;1mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000472)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.005268)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'cdrs'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.000385)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000434)[0m   [0mBEGIN[0m
  [4;36;1mCdr Load (0.002612)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs.id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.000388)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000441)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Load (0.002895)[0m   [0mSELECT * FROM cdrs WHERE (cdrs.id = 1) LIMIT 1[0m
  [4;36;1mParty Load (0.001604)[0m   [0;1mSELECT * FROM parties WHERE (parties.id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.002091)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'parties'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mParty Load (0.001246)[0m   [0;1mSELECT * FROM parties WHERE (parties.id = 2) LIMIT 1[0m
  [4;35;1mSQL (0.000350)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000248)[0m   [0;1mBEGIN[0m
  [4;35;1mCallDirection Load (0.000997)[0m   [0mSELECT * FROM call_directions WHERE (call_directions.id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.002995)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'call_directions'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mCdr Load (0.002064)[0m   [0mSELECT * FROM cdrs WHERE (cdrs.id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.003243)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'cdrs'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mSQL (0.000548)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000402)[0m   [0;1mBEGIN[0m
  [4;35;1mCallDirection Load (0.001503)[0m   [0mSELECT * FROM call_directions WHERE (call_directions.id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.000428)[0m   [0;1mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000422)[0m   [0;1mBEGIN[0m
  [4;35;1mCallDirection Load (0.001587)[0m   [0mSELECT * FROM call_directions WHERE (call_directions.id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.004132)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'call_directions'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mCdr Load (0.003437)[0m   [0mSELECT * FROM cdrs WHERE (cdrs.id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.005531)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'cdrs'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mCallDirection Load (0.001428)[0m   [0mSELECT * FROM call_directions WHERE (call_directions.id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.000686)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000664)[0m   [0mBEGIN[0m
  [4;36;1mCallDirection Load (0.002187)[0m   [0;1mSELECT * FROM call_directions WHERE (call_directions.id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.000882)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;35;1mSQL (0.000423)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000413)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000413)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000407)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000416)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000479)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000466)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000466)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000471)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000465)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000477)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000480)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000466)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000467)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000515)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000467)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000473)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000463)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000468)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000493)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.002262)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.039696)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.054925)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'call_state_events'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mCallStateEvent Load (0.043501)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.004009)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.003143)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.034879)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'cdrs'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mCdr Load (0.023474)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mCdr Load (0.018187)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'extra_bogus_call_id' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;35;1mSQL (0.002951)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002506)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Load (0.022789)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mCdr Load (0.018551)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'extra_bogus_call_id' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;35;1mSQL (0.003039)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002808)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.034581)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.004853)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.004218)[0m   [0mBEGIN[0m
  [4;36;1mParty Delete all (0.004620)[0m   [0;1mDELETE FROM parties WHERE (aor = 'aor' and contact = 'contact') [0m
  [4;35;1mSQL (0.018112)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'parties'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mParty Load (0.008757)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mPK and serial sequence (0.033279)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'parties'::regclass
[0m
  [4;36;1mParty Create (0.004404)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('aor', 'contact')[0m
  [4;35;1mSQL (0.006514)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.009506)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mSQL (0.002960)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002328)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.033401)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mCallStateEvent Load (0.034721)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;35;1mSQL (0.004165)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002993)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.003661)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002408)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.016648)[0m   [0mselect distinct call_id from call_state_events where event_time >= 'Thu May 17 19:30:00 UTC 1990' and event_time <= 'Thu May 17 19:45:00 UTC 1990'[0m
  [4;36;1mSQL (0.003058)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.002442)[0m   [0mBEGIN[0m
  [4;36;1mCallStateEvent Load (0.031324)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;35;1mSQL (0.003910)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002987)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.003850)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002420)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Delete all (0.004569)[0m   [0mDELETE FROM cdrs [0m
  [4;36;1mCallStateEvent Load (0.016443)[0m   [0;1mselect distinct call_id from call_state_events where event_time >= 'Mon Jan 01 00:00:00 UTC 1990' and event_time <= 'Sun Dec 31 00:00:00 EST 2000'[0m
  [4;35;1mCallStateEvent Load (0.042266)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.019269)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mParty Load (0.009084)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:cathy@example.com' AND parties."contact" = 'sip:cathy@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.004847)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:cathy@example.com', 'sip:cathy@1.1.1.1')[0m
  [4;35;1mSQL (0.006003)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.008756)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:heathcliff@example.com' AND parties."contact" = 'sip:cathy@3.3.3.3' ) LIMIT 1[0m
  [4;35;1mParty Create (0.003771)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:heathcliff@example.com', 'sip:cathy@3.3.3.3')[0m
  [4;36;1mSQL (0.005903)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.020388)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mPK and serial sequence (0.044728)[0m   [0;1m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'cdrs'::regclass
[0m
  [4;35;1mCdr Create (0.006709)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1999-08-13 06:03:00', NULL, 'C', 't2', 'f', 5, NULL, 4, 'testComplicatedSuccess', '1999-08-13 06:10:00', '1999-08-13 06:00:00')[0m
  [4;36;1mSQL (0.005815)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCallStateEvent Load (0.031284)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.018786)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.008958)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:mick@example.com' AND parties."contact" = 'sip:mick@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.004012)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:mick@example.com', 'sip:mick@1.1.1.1')[0m
  [4;35;1mSQL (0.005456)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.009060)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:keith@example.com' AND parties."contact" = 'sip:keith@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mParty Create (0.004102)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:keith@example.com', 'sip:keith@2.2.2.2')[0m
  [4;36;1mSQL (0.005407)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.017814)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.005890)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('2000-01-01 01:00:00', 'You Can''t Always Get What You Want', 'F', 't', 'f', 7, 486, 6, 'testFailed', '2000-01-01 02:00:00', '2000-01-01 00:00:00')[0m
  [4;35;1mSQL (0.005905)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCallStateEvent Load (0.031428)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;35;1mCdr Load (0.018249)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mParty Load (0.009561)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;35;1mParty Load (0.009481)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;36;1mCdr Load (0.017114)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.005574)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1990-05-17 19:31:00', NULL, 'C', 't', 'f', 2, NULL, 1, 'testSimpleSuccess', '1990-05-17 19:40:00', '1990-05-17 19:30:00')[0m
  [4;36;1mSQL (0.005366)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCallStateEvent Load (0.023543)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallEarly') ORDER BY event_time [0m
  [4;36;1mCallStateEvent Load (0.023316)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallInTimeWindow') ORDER BY event_time [0m
  [4;35;1mCallStateEvent Load (0.023013)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallLate') ORDER BY event_time [0m
  [4;36;1mCdr Count (0.007243)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mSQL (0.003047)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002271)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.034410)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.022572)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.009475)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Load (0.009125)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mCdr Load (0.017614)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.005959)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1990-05-17 19:31:00', NULL, 'C', 't', 'f', 2, NULL, 1, 'testSimpleSuccess', '1990-05-17 19:40:00', '1990-05-17 19:30:00')[0m
  [4;35;1mSQL (0.005461)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.019328)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testSimpleSuccess' ) LIMIT 1[0m
  [4;35;1mCallStateEvent Load (0.048222)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.026467)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mParty Load (0.011994)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:cathy@example.com' AND parties."contact" = 'sip:cathy@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.004287)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:cathy@example.com', 'sip:cathy@1.1.1.1')[0m
  [4;35;1mSQL (0.005617)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.010401)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:heathcliff@example.com' AND parties."contact" = 'sip:cathy@3.3.3.3' ) LIMIT 1[0m
  [4;35;1mParty Create (0.004018)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:heathcliff@example.com', 'sip:cathy@3.3.3.3')[0m
  [4;36;1mSQL (0.005423)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.017805)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mCdr Create (0.006054)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1999-08-13 06:03:00', NULL, 'C', 't2', 'f', 9, NULL, 8, 'testComplicatedSuccess', '1999-08-13 06:10:00', '1999-08-13 06:00:00')[0m
  [4;35;1mSQL (0.005499)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.019950)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testComplicatedSuccess' ) LIMIT 1[0m
  [4;35;1mCallStateEvent Load (0.035774)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.023496)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.012511)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:mick@example.com' AND parties."contact" = 'sip:mick@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.005636)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:mick@example.com', 'sip:mick@1.1.1.1')[0m
  [4;35;1mSQL (0.005833)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.009179)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:keith@example.com' AND parties."contact" = 'sip:keith@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mParty Create (0.003962)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:keith@example.com', 'sip:keith@2.2.2.2')[0m
  [4;36;1mSQL (0.005746)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.018167)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.006247)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('2000-01-01 01:00:00', 'You Can''t Always Get What You Want', 'F', 't', 'f', 11, 486, 10, 'testFailed', '2000-01-01 02:00:00', '2000-01-01 00:00:00')[0m
  [4;35;1mSQL (0.005860)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.020376)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testFailed' ) LIMIT 1[0m
  [4;35;1mSQL (0.003043)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002471)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Delete all (0.004203)[0m   [0mDELETE FROM cdrs WHERE (call_id = 'call ID') [0m
  [4;36;1mCdr Load (0.017991)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.005822)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'C', 't', 'f', 2, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;36;1mSQL (0.005457)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Load (0.020364)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Load (0.021084)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Destroy (0.005549)[0m   [0m DELETE FROM cdrs
 WHERE id = 8
[0m
  [4;36;1mCdr Create (0.005581)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'I', 't', 'f', 2, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;35;1mSQL (0.005528)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.022530)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Destroy (0.005022)[0m   [0m DELETE FROM cdrs
 WHERE id = 9
[0m
  [4;36;1mCdr Create (0.005314)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'R', 't', 'f', 2, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;35;1mSQL (0.005970)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mSQL (0.003091)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.002224)[0m   [0mBEGIN[0m
  [4;36;1mCdr Count (0.006928)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mCdr Load (0.020736)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mCdr Count (0.007436)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mCdr Load (0.490926)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mParty Load (0.009468)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;35;1mParty Load (0.009278)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;36;1mCdr Load (0.017575)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mCdr Create (0.006283)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, NULL, 't2', 'f2', 2, NULL, 1, 'call2', NULL, NULL)[0m
  [4;36;1mSQL (0.005543)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Count (0.006267)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mCdr Load (0.019794)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mCdr Count (0.007198)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mParty Count (0.006051)[0m   [0;1mSELECT COUNT(*) FROM parties [0m
  [4;35;1mCdr Load (0.017942)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;36;1mParty Load (0.008828)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:varda@example.com' AND parties."contact" = 'sip:varda@3.3.3.3' ) LIMIT 1[0m
  [4;35;1mParty Create (0.003982)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:varda@example.com', 'sip:varda@3.3.3.3')[0m
  [4;36;1mSQL (0.005346)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mParty Load (0.008024)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:thor@example.com' AND parties."contact" = 'sip:thor@4.4.4.4' ) LIMIT 1[0m
  [4;36;1mParty Create (0.003899)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:thor@example.com', 'sip:thor@4.4.4.4')[0m
  [4;35;1mSQL (0.005267)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mCdr Load (0.017195)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;35;1mCdr Create (0.005773)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, NULL, 't3', 'f3', 13, NULL, 12, 'call3', NULL, NULL)[0m
  [4;36;1mSQL (0.006195)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Count (0.006221)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mParty Count (0.005856)[0m   [0;1mSELECT COUNT(*) FROM parties [0m
  [4;35;1mCdr Load (0.019989)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;36;1mSQL (0.003191)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.002668)[0m   [0mBEGIN[0m
  [4;36;1mParty Delete all (0.004586)[0m   [0;1mDELETE FROM parties WHERE (aor = 'aor' and contact = 'contact') [0m
  [4;35;1mParty Load (0.009359)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;36;1mParty Create (0.004141)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('aor', 'contact')[0m
  [4;35;1mSQL (0.005883)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.009791)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mSQL (0.003174)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002352)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.003867)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002565)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.003989)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002708)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.003881)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002804)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.003885)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.002458)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.026721)[0m   [0mSELECT * FROM call_state_events WHERE (call_state_events.id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.003971)[0m   [0;1mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000388)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000679)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000685)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.001562)[0m   [0mSHOW search_path[0m
  [4;36;1mSQL (0.199731)[0m   [0;1m SELECT tablename
 FROM pg_tables
 WHERE schemaname IN ('$user','public')
[0m
  [4;35;1mGateway Load (0.295886)[0m   [0mSELECT * FROM gateway WHERE (name = 'gateway_for_call_resolver_unit_test') LIMIT 1[0m
  [4;36;1mSQL (0.061083)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'gateway'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mGateway Destroy (0.045102)[0m   [0m DELETE FROM gateway
 WHERE gateway_id = 3
[0m
  [4;36;1mGateway Load (0.042520)[0m   [0;1mselect max(gateway.gateway_id) from gateway[0m
  [4;35;1mSQL (0.000979)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.002117)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000000)[0m   [0mRuntimeError: ERROR	C42P01	Mrelation "gateway" does not exist	Fnamespace.c	L201	RRangeVarGetRelid: SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'gateway'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.003042)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.003095)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.006979)[0m   [0;1mSHOW search_path[0m
  [4;35;1mSQL (0.031513)[0m   [0m SELECT tablename
 FROM pg_tables
 WHERE schemaname IN ('$user','public')
[0m
  [4;36;1mGateway Load (0.031356)[0m   [0;1mSELECT * FROM gateway WHERE (name = 'gateway_for_call_resolver_unit_test') LIMIT 1[0m
  [4;35;1mGateway Load (0.007890)[0m   [0mselect max(gateway.gateway_id) from gateway[0m
  [4;36;1mSQL (0.045378)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'gateway'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mPK and serial sequence (0.098304)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'gateway'::regclass
[0m
  [4;36;1mPK and custom sequence (0.064069)[0m   [0;1m SELECT attr.attname, name.nspname, split_part(def.adsrc, '\'', 2)
 FROM pg_class t
 JOIN pg_namespace name ON (t.relnamespace = name.oid)
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = 'gateway'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [4;35;1mGateway Create (0.022507)[0m   [0mINSERT INTO gateway ("name", "bean_id", "gateway_id", "description", "value_storage_id", "address", "serial_number", "model_id") VALUES('gateway_for_call_resolver_unit_test', 'gwGeneric', 3, NULL, NULL, '10.1.1.1', '0123456789AB', NULL)[0m
  [4;36;1mGateway Load (0.016210)[0m   [0;1mSELECT * FROM gateway WHERE (name = 'gateway_for_call_resolver_unit_test') LIMIT 1[0m
  [4;35;1mSQL (0.002694)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000470)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.001179)[0m   [0mSHOW search_path[0m
  [4;36;1mSQL (0.007885)[0m   [0;1m SELECT tablename
 FROM pg_tables
 WHERE schemaname IN ('$user','public')
[0m
  [4;35;1mSQL (0.012874)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'gateway'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.001319)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.001106)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.002518)[0m   [0;1mSHOW search_path[0m
  [4;35;1mSQL (0.132513)[0m   [0m SELECT tablename
 FROM pg_tables
 WHERE schemaname IN ('$user','public')
[0m
  [4;36;1mGateway Load (0.007527)[0m   [0;1mSELECT * FROM gateway WHERE (name = 'gateway_for_call_resolver_unit_test') LIMIT 1[0m
  [4;35;1mGateway Destroy (0.013482)[0m   [0m DELETE FROM gateway
 WHERE gateway_id = 3
[0m
  [4;36;1mGateway Load (0.002532)[0m   [0;1mselect max(gateway.gateway_id) from gateway[0m
  [4;35;1mPK and serial sequence (0.014962)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'gateway'::regclass
[0m
  [4;36;1mPK and custom sequence (0.007693)[0m   [0;1m SELECT attr.attname, name.nspname, split_part(def.adsrc, '\'', 2)
 FROM pg_class t
 JOIN pg_namespace name ON (t.relnamespace = name.oid)
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = 'gateway'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [4;35;1mGateway Create (0.002961)[0m   [0mINSERT INTO gateway ("name", "bean_id", "gateway_id", "description", "value_storage_id", "address", "serial_number", "model_id") VALUES('gateway_for_call_resolver_unit_test', 'gwGeneric', 3, NULL, NULL, '10.1.1.1', '0123456789AB', NULL)[0m
  [4;36;1mGateway Load (0.004707)[0m   [0;1mSELECT * FROM gateway WHERE (name = 'gateway_for_call_resolver_unit_test') LIMIT 1[0m
  [4;35;1mSQL (0.000794)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.002085)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.005214)[0m   [0mSHOW search_path[0m
  [4;36;1mSQL (0.032185)[0m   [0;1m SELECT tablename
 FROM pg_tables
 WHERE schemaname IN ('$user','public')
[0m
  [4;35;1mSQL (0.051189)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'gateway'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.004039)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.003138)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.007277)[0m   [0;1mSHOW search_path[0m
  [4;35;1mSQL (0.074031)[0m   [0m SELECT tablename
 FROM pg_tables
 WHERE schemaname IN ('$user','public')
[0m
  [4;36;1mGateway Load (0.025054)[0m   [0;1mSELECT * FROM gateway WHERE (name = 'gateway_for_call_resolver_unit_test') LIMIT 1[0m
  [4;35;1mGateway Destroy (0.029075)[0m   [0m DELETE FROM gateway
 WHERE gateway_id = 3
[0m
  [4;36;1mGateway Load (0.008034)[0m   [0;1mselect max(gateway.gateway_id) from gateway[0m
  [4;35;1mPK and serial sequence (0.047969)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'gateway'::regclass
[0m
  [4;36;1mPK and custom sequence (0.024966)[0m   [0;1m SELECT attr.attname, name.nspname, split_part(def.adsrc, '\'', 2)
 FROM pg_class t
 JOIN pg_namespace name ON (t.relnamespace = name.oid)
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = 'gateway'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [4;35;1mGateway Create (0.012955)[0m   [0mINSERT INTO gateway ("name", "bean_id", "gateway_id", "description", "value_storage_id", "address", "serial_number", "model_id") VALUES('gateway_for_call_resolver_unit_test', 'gwGeneric', 3, NULL, NULL, '10.1.1.1', '0123456789AB', NULL)[0m
  [4;36;1mGateway Load (0.016002)[0m   [0;1mSELECT * FROM gateway WHERE (name = 'gateway_for_call_resolver_unit_test') LIMIT 1[0m
  [4;35;1mSQL (0.002524)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000244)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000582)[0m   [0mSHOW search_path[0m
  [4;36;1mSQL (0.003674)[0m   [0;1m SELECT tablename
 FROM pg_tables
 WHERE schemaname IN ('$user','public')
[0m
  [4;35;1mSQL (0.005689)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'gateway'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.000379)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000424)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.001010)[0m   [0;1mSHOW search_path[0m
  [4;35;1mSQL (0.008044)[0m   [0m SELECT tablename
 FROM pg_tables
 WHERE schemaname IN ('$user','public')
[0m
  [4;36;1mGateway Load (0.002704)[0m   [0;1mSELECT * FROM gateway WHERE (name = 'gateway_for_call_resolver_unit_test') LIMIT 1[0m
  [4;35;1mGateway Destroy (0.007028)[0m   [0m DELETE FROM gateway
 WHERE gateway_id = 3
[0m
  [4;36;1mGateway Load (0.000930)[0m   [0;1mselect max(gateway.gateway_id) from gateway[0m
  [4;35;1mPK and serial sequence (0.006087)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'gateway'::regclass
[0m
  [4;36;1mPK and custom sequence (0.003093)[0m   [0;1m SELECT attr.attname, name.nspname, split_part(def.adsrc, '\'', 2)
 FROM pg_class t
 JOIN pg_namespace name ON (t.relnamespace = name.oid)
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = 'gateway'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [4;35;1mGateway Create (0.001705)[0m   [0mINSERT INTO gateway ("name", "bean_id", "gateway_id", "description", "value_storage_id", "address", "serial_number", "model_id") VALUES('gateway_for_call_resolver_unit_test', 'gwGeneric', 3, NULL, NULL, '10.1.1.1', '0123456789AB', NULL)[0m
  [4;36;1mGateway Load (0.001940)[0m   [0;1mSELECT * FROM gateway WHERE (name = 'gateway_for_call_resolver_unit_test') LIMIT 1[0m
  [4;35;1mSQL (0.000344)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000246)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000632)[0m   [0mSHOW search_path[0m
  [4;36;1mSQL (0.003824)[0m   [0;1m SELECT tablename
 FROM pg_tables
 WHERE schemaname IN ('$user','public')
[0m
  [4;35;1mGateway Load (0.003632)[0m   [0mSELECT * FROM gateway WHERE (name = 'gateway_for_call_resolver_unit_test') LIMIT 1[0m
  [4;36;1mSQL (0.004641)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'gateway'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mGateway Destroy (0.007156)[0m   [0m DELETE FROM gateway
 WHERE gateway_id = 3
[0m
  [4;36;1mGateway Load (0.000922)[0m   [0;1mselect max(gateway.gateway_id) from gateway[0m
  [4;35;1mPK and serial sequence (0.005336)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'gateway'::regclass
[0m
  [4;36;1mPK and custom sequence (0.002650)[0m   [0;1m SELECT attr.attname, name.nspname, split_part(def.adsrc, '\'', 2)
 FROM pg_class t
 JOIN pg_namespace name ON (t.relnamespace = name.oid)
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = 'gateway'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [4;35;1mGateway Create (0.001536)[0m   [0mINSERT INTO gateway ("name", "bean_id", "gateway_id", "description", "value_storage_id", "address", "serial_number", "model_id") VALUES('gateway_for_call_resolver_unit_test', 'gwGeneric', 3, NULL, NULL, '10.1.1.1', '0123456789AB', NULL)[0m
  [4;36;1mGateway Load (0.001737)[0m   [0;1mSELECT * FROM gateway WHERE (name = 'gateway_for_call_resolver_unit_test') LIMIT 1[0m
  [4;35;1mSQL (0.000304)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000310)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.005595)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.008675)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'call_state_events'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mCallStateEvent Load (0.006006)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.000708)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000526)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.004260)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'cdrs'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mCdr Load (0.003008)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mCdr Load (0.002604)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'extra_bogus_call_id' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;35;1mSQL (0.000456)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000528)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Load (0.002882)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mCdr Load (0.002423)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'extra_bogus_call_id' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;35;1mSQL (0.000403)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000500)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.004139)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.000694)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000530)[0m   [0mBEGIN[0m
  [4;36;1mParty Delete all (0.000616)[0m   [0;1mDELETE FROM parties WHERE (aor = 'aor' and contact = 'contact') [0m
  [4;35;1mSQL (0.002232)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'parties'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mParty Load (0.001307)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mPK and serial sequence (0.004301)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'parties'::regclass
[0m
  [4;36;1mParty Create (0.000945)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('aor', 'contact')[0m
  [4;35;1mSQL (0.017041)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001301)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mSQL (0.000433)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000517)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.004116)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mCallStateEvent Load (0.006317)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;35;1mSQL (0.000709)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000492)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000536)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000490)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.002757)[0m   [0mselect distinct call_id from call_state_events where event_time >= 'Thu May 17 19:30:00 UTC 1990' and event_time <= 'Thu May 17 19:45:00 UTC 1990'[0m
  [4;36;1mSQL (0.000415)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000489)[0m   [0mBEGIN[0m
  [4;36;1mCallStateEvent Load (0.004009)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;35;1mSQL (0.000691)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000468)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000773)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000509)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Delete all (0.000595)[0m   [0mDELETE FROM cdrs [0m
  [4;36;1mCallStateEvent Load (0.002654)[0m   [0;1mselect distinct call_id from call_state_events where event_time >= 'Mon Jan 01 00:00:00 UTC 1990' and event_time <= 'Sun Dec 31 00:00:00 EST 2000'[0m
  [4;35;1mCallStateEvent Load (0.008375)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.003673)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mParty Load (0.001166)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:cathy@example.com' AND parties."contact" = 'sip:cathy@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000535)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:cathy@example.com', 'sip:cathy@1.1.1.1')[0m
  [4;35;1mSQL (0.000724)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001156)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:heathcliff@example.com' AND parties."contact" = 'sip:cathy@3.3.3.3' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000512)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:heathcliff@example.com', 'sip:cathy@3.3.3.3')[0m
  [4;36;1mSQL (0.000711)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.002285)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mPK and serial sequence (0.004644)[0m   [0;1m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'cdrs'::regclass
[0m
  [4;35;1mCdr Create (0.000813)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1999-08-13 06:03:00', NULL, 'C', 't2', 'f', 5, NULL, 4, 'testComplicatedSuccess', '1999-08-13 06:10:00', '1999-08-13 06:00:00')[0m
  [4;36;1mSQL (0.000829)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCallStateEvent Load (0.003850)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.002313)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.001084)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:mick@example.com' AND parties."contact" = 'sip:mick@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000520)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:mick@example.com', 'sip:mick@1.1.1.1')[0m
  [4;35;1mSQL (0.000674)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001089)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:keith@example.com' AND parties."contact" = 'sip:keith@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000470)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:keith@example.com', 'sip:keith@2.2.2.2')[0m
  [4;36;1mSQL (0.000685)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.002194)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.000730)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('2000-01-01 01:00:00', 'You Can''t Always Get What You Want', 'F', 't', 'f', 7, 486, 6, 'testFailed', '2000-01-01 02:00:00', '2000-01-01 00:00:00')[0m
  [4;35;1mSQL (0.000686)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCallStateEvent Load (0.003679)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;35;1mCdr Load (0.002141)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mParty Load (0.001138)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;35;1mParty Load (0.001124)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;36;1mCdr Load (0.002111)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.000742)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1990-05-17 19:31:00', NULL, 'C', 't', 'f', 2, NULL, 1, 'testSimpleSuccess', '1990-05-17 19:40:00', '1990-05-17 19:30:00')[0m
  [4;36;1mSQL (0.000686)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCallStateEvent Load (0.002837)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallEarly') ORDER BY event_time [0m
  [4;36;1mCallStateEvent Load (0.002758)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallInTimeWindow') ORDER BY event_time [0m
  [4;35;1mCallStateEvent Load (0.002749)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallLate') ORDER BY event_time [0m
  [4;36;1mCdr Count (0.023794)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mSQL (0.000424)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000481)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.006000)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.003650)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.001798)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Load (0.001955)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mCdr Load (0.003541)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.001167)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1990-05-17 19:31:00', NULL, 'C', 't', 'f', 2, NULL, 1, 'testSimpleSuccess', '1990-05-17 19:40:00', '1990-05-17 19:30:00')[0m
  [4;35;1mSQL (0.000999)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.003007)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testSimpleSuccess' ) LIMIT 1[0m
  [4;35;1mCallStateEvent Load (0.009560)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.004503)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mParty Load (0.002107)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:cathy@example.com' AND parties."contact" = 'sip:cathy@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.001049)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:cathy@example.com', 'sip:cathy@1.1.1.1')[0m
  [4;35;1mSQL (0.001390)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.002256)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:heathcliff@example.com' AND parties."contact" = 'sip:cathy@3.3.3.3' ) LIMIT 1[0m
  [4;35;1mParty Create (0.001142)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:heathcliff@example.com', 'sip:cathy@3.3.3.3')[0m
  [4;36;1mSQL (0.001247)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.004009)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mCdr Create (0.000958)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1999-08-13 06:03:00', NULL, 'C', 't2', 'f', 9, NULL, 8, 'testComplicatedSuccess', '1999-08-13 06:10:00', '1999-08-13 06:00:00')[0m
  [4;35;1mSQL (0.000826)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.002917)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testComplicatedSuccess' ) LIMIT 1[0m
  [4;35;1mCallStateEvent Load (0.007089)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.004428)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.002235)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:mick@example.com' AND parties."contact" = 'sip:mick@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000979)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:mick@example.com', 'sip:mick@1.1.1.1')[0m
  [4;35;1mSQL (0.001178)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.002120)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:keith@example.com' AND parties."contact" = 'sip:keith@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mParty Create (0.001120)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:keith@example.com', 'sip:keith@2.2.2.2')[0m
  [4;36;1mSQL (0.001377)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.004156)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.001370)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('2000-01-01 01:00:00', 'You Can''t Always Get What You Want', 'F', 't', 'f', 11, 486, 10, 'testFailed', '2000-01-01 02:00:00', '2000-01-01 00:00:00')[0m
  [4;35;1mSQL (0.000930)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.003138)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testFailed' ) LIMIT 1[0m
  [4;35;1mSQL (0.000521)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000576)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Delete all (0.000711)[0m   [0mDELETE FROM cdrs WHERE (call_id = 'call ID') [0m
  [4;36;1mCdr Load (0.002740)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.000890)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'C', 't', 'f', 2, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;36;1mSQL (0.000824)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Load (0.002984)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Load (0.003339)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Destroy (0.000859)[0m   [0m DELETE FROM cdrs
 WHERE id = 8
[0m
  [4;36;1mCdr Create (0.000839)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'I', 't', 'f', 2, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;35;1mSQL (0.000799)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.003234)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Destroy (0.000696)[0m   [0m DELETE FROM cdrs
 WHERE id = 9
[0m
  [4;36;1mCdr Create (0.000857)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'R', 't', 'f', 2, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;35;1mSQL (0.000844)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mSQL (0.000519)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000586)[0m   [0mBEGIN[0m
  [4;36;1mCdr Count (0.000970)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mCdr Load (0.002909)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mCdr Count (0.001482)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mCdr Load (0.004169)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mParty Load (0.002001)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;35;1mParty Load (0.001533)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;36;1mCdr Load (0.002456)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mCdr Create (0.001303)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, NULL, 't2', 'f2', 2, NULL, 1, 'call2', NULL, NULL)[0m
  [4;36;1mSQL (0.000829)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Count (0.000918)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mCdr Load (0.002762)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mCdr Count (0.000917)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mParty Count (0.000872)[0m   [0;1mSELECT COUNT(*) FROM parties [0m
  [4;35;1mCdr Load (0.002410)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;36;1mParty Load (0.001178)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:varda@example.com' AND parties."contact" = 'sip:varda@3.3.3.3' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000576)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:varda@example.com', 'sip:varda@3.3.3.3')[0m
  [4;36;1mSQL (0.000835)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mParty Load (0.001187)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:thor@example.com' AND parties."contact" = 'sip:thor@4.4.4.4' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000556)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:thor@example.com', 'sip:thor@4.4.4.4')[0m
  [4;35;1mSQL (0.000786)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mCdr Load (0.002385)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;35;1mCdr Create (0.000899)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, NULL, 't3', 'f3', 13, NULL, 12, 'call3', NULL, NULL)[0m
  [4;36;1mSQL (0.000807)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Count (0.000931)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mParty Count (0.000869)[0m   [0;1mSELECT COUNT(*) FROM parties [0m
  [4;35;1mCdr Load (0.002784)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;36;1mSQL (0.000544)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000543)[0m   [0mBEGIN[0m
  [4;36;1mParty Delete all (0.000748)[0m   [0;1mDELETE FROM parties WHERE (aor = 'aor' and contact = 'contact') [0m
  [4;35;1mParty Load (0.001307)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000620)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('aor', 'contact')[0m
  [4;35;1mSQL (0.000906)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001565)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mSQL (0.000592)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000584)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000692)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000585)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000673)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000626)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000693)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000609)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000684)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000592)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.004007)[0m   [0mSELECT * FROM call_state_events WHERE (call_state_events.id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.000541)[0m   [0;1mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000234)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000593)[0m   [0mSHOW search_path[0m
  [4;36;1mSQL (0.003670)[0m   [0;1m SELECT tablename
 FROM pg_tables
 WHERE schemaname IN ('$user','public')
[0m
  [4;35;1mGateway Load (0.003949)[0m   [0mSELECT * FROM gateway WHERE (name = 'gateway_for_call_resolver_unit_test') LIMIT 1[0m
  [4;36;1mSQL (0.004695)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'gateway'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mGateway Destroy (0.009398)[0m   [0m DELETE FROM gateway
 WHERE gateway_id = 3
[0m
  [4;36;1mGateway Load (0.000893)[0m   [0;1mselect max(gateway.gateway_id) from gateway[0m
  [4;35;1mPK and serial sequence (0.005334)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'gateway'::regclass
[0m
  [4;36;1mPK and custom sequence (0.002698)[0m   [0;1m SELECT attr.attname, name.nspname, split_part(def.adsrc, '\'', 2)
 FROM pg_class t
 JOIN pg_namespace name ON (t.relnamespace = name.oid)
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = 'gateway'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [4;35;1mGateway Create (0.001573)[0m   [0mINSERT INTO gateway ("name", "bean_id", "gateway_id", "description", "value_storage_id", "address", "serial_number", "model_id") VALUES('gateway_for_call_resolver_unit_test', 'gwGeneric', 3, NULL, NULL, 'www.pingtel.com', '0123456789AB', NULL)[0m
  [4;36;1mGateway Load (0.001738)[0m   [0;1mSELECT * FROM gateway WHERE (name = 'gateway_for_call_resolver_unit_test') LIMIT 1[0m
  [4;35;1mSQL (0.000312)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000256)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.004493)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.005339)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'call_state_events'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mCallStateEvent Load (0.005203)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.000352)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000446)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003790)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'cdrs'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mCdr Load (0.002667)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mCdr Load (0.002089)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'extra_bogus_call_id' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;35;1mSQL (0.000354)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000438)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Load (0.002540)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mCdr Load (0.002140)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'extra_bogus_call_id' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;35;1mSQL (0.000348)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000439)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.004610)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.000396)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000440)[0m   [0mBEGIN[0m
  [4;36;1mParty Delete all (0.000553)[0m   [0;1mDELETE FROM parties WHERE (aor = 'aor' and contact = 'contact') [0m
  [4;35;1mSQL (0.001980)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'parties'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mParty Load (0.000970)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mPK and serial sequence (0.003709)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'parties'::regclass
[0m
  [4;36;1mParty Create (0.000481)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('aor', 'contact')[0m
  [4;35;1mSQL (0.000711)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001115)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mSQL (0.000344)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000436)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.004468)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mCallStateEvent Load (0.003694)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;35;1mSQL (0.000365)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000418)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000635)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000450)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.002634)[0m   [0mselect distinct call_id from call_state_events where event_time >= 'Thu May 17 19:30:00 UTC 1990' and event_time <= 'Thu May 17 19:45:00 UTC 1990'[0m
  [4;36;1mSQL (0.000566)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000435)[0m   [0mBEGIN[0m
  [4;36;1mCallStateEvent Load (0.005329)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;35;1mSQL (0.000403)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000415)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000668)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000393)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Delete all (0.000783)[0m   [0mDELETE FROM cdrs [0m
  [4;36;1mCallStateEvent Load (0.002284)[0m   [0;1mselect distinct call_id from call_state_events where event_time >= 'Mon Jan 01 00:00:00 UTC 1990' and event_time <= 'Sun Dec 31 00:00:00 EST 2000'[0m
  [4;35;1mCallStateEvent Load (0.005608)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.002150)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mParty Load (0.000963)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:cathy@example.com' AND parties."contact" = 'sip:cathy@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000470)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:cathy@example.com', 'sip:cathy@1.1.1.1')[0m
  [4;35;1mSQL (0.000640)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.000975)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:heathcliff@example.com' AND parties."contact" = 'sip:cathy@3.3.3.3' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000456)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:heathcliff@example.com', 'sip:cathy@3.3.3.3')[0m
  [4;36;1mSQL (0.000594)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.001949)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mPK and serial sequence (0.004011)[0m   [0;1m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'cdrs'::regclass
[0m
  [4;35;1mCdr Create (0.000659)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1999-08-13 06:03:00', NULL, 'C', 't2', 'f', 5, NULL, 4, 'testComplicatedSuccess', '1999-08-13 06:10:00', '1999-08-13 06:00:00')[0m
  [4;36;1mSQL (0.000613)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCallStateEvent Load (0.003398)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.001977)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.000981)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:mick@example.com' AND parties."contact" = 'sip:mick@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000471)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:mick@example.com', 'sip:mick@1.1.1.1')[0m
  [4;35;1mSQL (0.000642)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001002)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:keith@example.com' AND parties."contact" = 'sip:keith@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000457)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:keith@example.com', 'sip:keith@2.2.2.2')[0m
  [4;36;1mSQL (0.000604)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.001952)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.000661)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('2000-01-01 01:00:00', 'You Can''t Always Get What You Want', 'F', 't', 'f', 7, 486, 6, 'testFailed', '2000-01-01 02:00:00', '2000-01-01 00:00:00')[0m
  [4;35;1mSQL (0.000617)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCallStateEvent Load (0.003208)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;35;1mCdr Load (0.001960)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mParty Load (0.001008)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;35;1mParty Load (0.000996)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;36;1mCdr Load (0.001844)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.000652)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1990-05-17 19:31:00', NULL, 'C', 't', 'f', 2, NULL, 1, 'testSimpleSuccess', '1990-05-17 19:40:00', '1990-05-17 19:30:00')[0m
  [4;36;1mSQL (0.000600)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCallStateEvent Load (0.002517)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallEarly') ORDER BY event_time [0m
  [4;36;1mCallStateEvent Load (0.002427)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallInTimeWindow') ORDER BY event_time [0m
  [4;35;1mCallStateEvent Load (0.002433)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallLate') ORDER BY event_time [0m
  [4;36;1mCdr Count (0.000804)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mSQL (0.000387)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000419)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.005192)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.002032)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.001020)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Load (0.000983)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mCdr Load (0.001891)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.000675)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1990-05-17 19:31:00', NULL, 'C', 't', 'f', 2, NULL, 1, 'testSimpleSuccess', '1990-05-17 19:40:00', '1990-05-17 19:30:00')[0m
  [4;35;1mSQL (0.000698)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.002137)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testSimpleSuccess' ) LIMIT 1[0m
  [4;35;1mCallStateEvent Load (0.004524)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.001969)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mParty Load (0.000955)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:cathy@example.com' AND parties."contact" = 'sip:cathy@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000462)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:cathy@example.com', 'sip:cathy@1.1.1.1')[0m
  [4;35;1mSQL (0.000588)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.000951)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:heathcliff@example.com' AND parties."contact" = 'sip:cathy@3.3.3.3' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000654)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:heathcliff@example.com', 'sip:cathy@3.3.3.3')[0m
  [4;36;1mSQL (0.000592)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.001855)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mCdr Create (0.000632)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1999-08-13 06:03:00', NULL, 'C', 't2', 'f', 9, NULL, 8, 'testComplicatedSuccess', '1999-08-13 06:10:00', '1999-08-13 06:00:00')[0m
  [4;35;1mSQL (0.000597)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.002141)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testComplicatedSuccess' ) LIMIT 1[0m
  [4;35;1mCallStateEvent Load (0.003259)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.001913)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.000934)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:mick@example.com' AND parties."contact" = 'sip:mick@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000450)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:mick@example.com', 'sip:mick@1.1.1.1')[0m
  [4;35;1mSQL (0.000580)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.000960)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:keith@example.com' AND parties."contact" = 'sip:keith@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000436)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:keith@example.com', 'sip:keith@2.2.2.2')[0m
  [4;36;1mSQL (0.000599)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.002084)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.000667)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('2000-01-01 01:00:00', 'You Can''t Always Get What You Want', 'F', 't', 'f', 11, 486, 10, 'testFailed', '2000-01-01 02:00:00', '2000-01-01 00:00:00')[0m
  [4;35;1mSQL (0.000619)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.002273)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testFailed' ) LIMIT 1[0m
  [4;35;1mSQL (0.000381)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000409)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Delete all (0.000749)[0m   [0mDELETE FROM cdrs WHERE (call_id = 'call ID') [0m
  [4;36;1mCdr Load (0.002814)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.000686)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'C', 't', 'f', 2, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;36;1mSQL (0.000701)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Load (0.002308)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Load (0.002247)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Destroy (0.001693)[0m   [0m DELETE FROM cdrs
 WHERE id = 8
[0m
  [4;36;1mCdr Create (0.000641)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'I', 't', 'f', 2, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;35;1mSQL (0.000590)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.002441)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Destroy (0.000581)[0m   [0m DELETE FROM cdrs
 WHERE id = 9
[0m
  [4;36;1mCdr Create (0.000634)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'R', 't', 'f', 2, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;35;1mSQL (0.000636)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mSQL (0.000359)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000408)[0m   [0mBEGIN[0m
  [4;36;1mCdr Count (0.001106)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mCdr Load (0.003175)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mCdr Count (0.000723)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mCdr Load (0.001842)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mParty Load (0.001222)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;35;1mParty Load (0.001205)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;36;1mCdr Load (0.001778)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mCdr Create (0.000717)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, NULL, 't2', 'f2', 2, NULL, 1, 'call2', NULL, NULL)[0m
  [4;36;1mSQL (0.000611)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Count (0.000701)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mCdr Load (0.002033)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mCdr Count (0.000702)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mParty Count (0.000645)[0m   [0;1mSELECT COUNT(*) FROM parties [0m
  [4;35;1mCdr Load (0.001775)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;36;1mParty Load (0.000883)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:varda@example.com' AND parties."contact" = 'sip:varda@3.3.3.3' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000446)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:varda@example.com', 'sip:varda@3.3.3.3')[0m
  [4;36;1mSQL (0.000586)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mParty Load (0.000889)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:thor@example.com' AND parties."contact" = 'sip:thor@4.4.4.4' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000422)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:thor@example.com', 'sip:thor@4.4.4.4')[0m
  [4;35;1mSQL (0.000584)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mCdr Load (0.001785)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;35;1mCdr Create (0.000655)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, NULL, 't3', 'f3', 13, NULL, 12, 'call3', NULL, NULL)[0m
  [4;36;1mSQL (0.000589)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Count (0.000673)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mParty Count (0.000634)[0m   [0;1mSELECT COUNT(*) FROM parties [0m
  [4;35;1mCdr Load (0.002035)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;36;1mSQL (0.000357)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000414)[0m   [0mBEGIN[0m
  [4;36;1mParty Delete all (0.000873)[0m   [0;1mDELETE FROM parties WHERE (aor = 'aor' and contact = 'contact') [0m
  [4;35;1mParty Load (0.001583)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000700)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('aor', 'contact')[0m
  [4;35;1mSQL (0.000891)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001153)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mSQL (0.000390)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000448)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000669)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000418)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000734)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000475)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000693)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000433)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000703)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000467)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.004438)[0m   [0mSELECT * FROM call_state_events WHERE (call_state_events.id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.000526)[0m   [0;1mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000278)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000663)[0m   [0mSHOW search_path[0m
  [4;36;1mSQL (0.004154)[0m   [0;1m SELECT tablename
 FROM pg_tables
 WHERE schemaname IN ('$user','public')
[0m
  [4;35;1mGateway Load (0.004138)[0m   [0mSELECT * FROM gateway WHERE (name = 'gateway_for_call_resolver_unit_test') LIMIT 1[0m
  [4;36;1mSQL (0.005261)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'gateway'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mGateway Destroy (0.008628)[0m   [0m DELETE FROM gateway
 WHERE gateway_id = 3
[0m
  [4;36;1mGateway Load (0.001010)[0m   [0;1mselect max(gateway.gateway_id) from gateway[0m
  [4;35;1mPK and serial sequence (0.006068)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'gateway'::regclass
[0m
  [4;36;1mPK and custom sequence (0.003055)[0m   [0;1m SELECT attr.attname, name.nspname, split_part(def.adsrc, '\'', 2)
 FROM pg_class t
 JOIN pg_namespace name ON (t.relnamespace = name.oid)
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = 'gateway'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [4;35;1mGateway Create (0.001728)[0m   [0mINSERT INTO gateway ("name", "bean_id", "gateway_id", "description", "value_storage_id", "address", "serial_number", "model_id") VALUES('gateway_for_call_resolver_unit_test', 'gwGeneric', 3, NULL, NULL, 'www.pingtel.co', '0123456789AB', NULL)[0m
  [4;36;1mGateway Load (0.001979)[0m   [0;1mSELECT * FROM gateway WHERE (name = 'gateway_for_call_resolver_unit_test') LIMIT 1[0m
  [4;35;1mSQL (0.000354)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.004175)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.005572)[0m   [0mSHOW search_path[0m
  [4;36;1mSQL (0.034061)[0m   [0;1m SELECT tablename
 FROM pg_tables
 WHERE schemaname IN ('$user','public')
[0m
  [4;35;1mGateway Load (0.033924)[0m   [0mSELECT * FROM gateway WHERE (name = 'gateway_for_call_resolver_unit_test') LIMIT 1[0m
  [4;36;1mSQL (0.043499)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'gateway'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mGateway Destroy (0.029683)[0m   [0m DELETE FROM gateway
 WHERE gateway_id = 3
[0m
  [4;36;1mGateway Load (0.008122)[0m   [0;1mselect max(gateway.gateway_id) from gateway[0m
  [4;35;1mPK and serial sequence (0.059393)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'gateway'::regclass
[0m
  [4;36;1mPK and custom sequence (0.025240)[0m   [0;1m SELECT attr.attname, name.nspname, split_part(def.adsrc, '\'', 2)
 FROM pg_class t
 JOIN pg_namespace name ON (t.relnamespace = name.oid)
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = 'gateway'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [4;35;1mGateway Create (0.011140)[0m   [0mINSERT INTO gateway ("name", "bean_id", "gateway_id", "description", "value_storage_id", "address", "serial_number", "model_id") VALUES('gateway_for_call_resolver_unit_test', 'gwGeneric', 3, NULL, NULL, 'www.pingtel.co', '0123456789AB', NULL)[0m
  [4;36;1mGateway Load (0.016112)[0m   [0;1mSELECT * FROM gateway WHERE (name = 'gateway_for_call_resolver_unit_test') LIMIT 1[0m
  [4;35;1mSQL (0.002578)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000264)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.004614)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.005306)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'call_state_events'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mCallStateEvent Load (0.005299)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.000370)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000265)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003795)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'cdrs'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mCdr Load (0.002630)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mCdr Load (0.002106)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'extra_bogus_call_id' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;35;1mSQL (0.000392)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000269)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Load (0.002572)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mCdr Load (0.002099)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'extra_bogus_call_id' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;35;1mSQL (0.000351)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000275)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.003823)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.000381)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000266)[0m   [0mBEGIN[0m
  [4;36;1mParty Delete all (0.000546)[0m   [0;1mDELETE FROM parties WHERE (aor = 'aor' and contact = 'contact') [0m
  [4;35;1mSQL (0.002019)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'parties'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mParty Load (0.001025)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mPK and serial sequence (0.003777)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'parties'::regclass
[0m
  [4;36;1mParty Create (0.000509)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('aor', 'contact')[0m
  [4;35;1mSQL (0.000738)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001108)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mSQL (0.000360)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000264)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.003664)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mCallStateEvent Load (0.003574)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;35;1mSQL (0.000467)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000271)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000463)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000314)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.001765)[0m   [0mselect distinct call_id from call_state_events where event_time >= 'Thu May 17 19:30:00 UTC 1990' and event_time <= 'Thu May 17 19:45:00 UTC 1990'[0m
  [4;36;1mSQL (0.000382)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000266)[0m   [0mBEGIN[0m
  [4;36;1mCallStateEvent Load (0.003544)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;35;1mSQL (0.000377)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000249)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000546)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000264)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Delete all (0.000528)[0m   [0mDELETE FROM cdrs [0m
  [4;36;1mCallStateEvent Load (0.001469)[0m   [0;1mselect distinct call_id from call_state_events where event_time >= 'Mon Jan 01 00:00:00 UTC 1990' and event_time <= 'Sun Dec 31 00:00:00 EST 2000'[0m
  [4;35;1mCallStateEvent Load (0.004579)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.002276)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mParty Load (0.001285)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:cathy@example.com' AND parties."contact" = 'sip:cathy@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000606)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:cathy@example.com', 'sip:cathy@1.1.1.1')[0m
  [4;35;1mSQL (0.000790)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001443)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:heathcliff@example.com' AND parties."contact" = 'sip:cathy@3.3.3.3' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000598)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:heathcliff@example.com', 'sip:cathy@3.3.3.3')[0m
  [4;36;1mSQL (0.000754)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.002489)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mPK and serial sequence (0.005448)[0m   [0;1m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'cdrs'::regclass
[0m
  [4;35;1mCdr Create (0.000814)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1999-08-13 06:03:00', NULL, 'C', 't2', 'f', 5, NULL, 4, 'testComplicatedSuccess', '1999-08-13 06:10:00', '1999-08-13 06:00:00')[0m
  [4;36;1mSQL (0.001367)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCallStateEvent Load (0.003941)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.002069)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.001004)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:mick@example.com' AND parties."contact" = 'sip:mick@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000538)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:mick@example.com', 'sip:mick@1.1.1.1')[0m
  [4;35;1mSQL (0.000666)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001025)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:keith@example.com' AND parties."contact" = 'sip:keith@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000534)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:keith@example.com', 'sip:keith@2.2.2.2')[0m
  [4;36;1mSQL (0.000647)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.002015)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.000669)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('2000-01-01 01:00:00', 'You Can''t Always Get What You Want', 'F', 't', 'f', 7, 486, 6, 'testFailed', '2000-01-01 02:00:00', '2000-01-01 00:00:00')[0m
  [4;35;1mSQL (0.000593)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCallStateEvent Load (0.003254)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;35;1mCdr Load (0.001985)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mParty Load (0.001013)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;35;1mParty Load (0.001010)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;36;1mCdr Load (0.001884)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.000663)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1990-05-17 19:31:00', NULL, 'C', 't', 'f', 2, NULL, 1, 'testSimpleSuccess', '1990-05-17 19:40:00', '1990-05-17 19:30:00')[0m
  [4;36;1mSQL (0.000623)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCallStateEvent Load (0.002525)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallEarly') ORDER BY event_time [0m
  [4;36;1mCallStateEvent Load (0.002476)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallInTimeWindow') ORDER BY event_time [0m
  [4;35;1mCallStateEvent Load (0.002461)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallLate') ORDER BY event_time [0m
  [4;36;1mCdr Count (0.000981)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mSQL (0.000386)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000245)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.003400)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.001966)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.001036)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Load (0.001017)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mCdr Load (0.001891)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.000658)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1990-05-17 19:31:00', NULL, 'C', 't', 'f', 2, NULL, 1, 'testSimpleSuccess', '1990-05-17 19:40:00', '1990-05-17 19:30:00')[0m
  [4;35;1mSQL (0.000625)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.002177)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testSimpleSuccess' ) LIMIT 1[0m
  [4;35;1mCallStateEvent Load (0.004317)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.001978)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mParty Load (0.000993)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:cathy@example.com' AND parties."contact" = 'sip:cathy@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000468)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:cathy@example.com', 'sip:cathy@1.1.1.1')[0m
  [4;35;1mSQL (0.000606)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.000995)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:heathcliff@example.com' AND parties."contact" = 'sip:cathy@3.3.3.3' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000439)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:heathcliff@example.com', 'sip:cathy@3.3.3.3')[0m
  [4;36;1mSQL (0.000578)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.002067)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mCdr Create (0.000698)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1999-08-13 06:03:00', NULL, 'C', 't2', 'f', 9, NULL, 8, 'testComplicatedSuccess', '1999-08-13 06:10:00', '1999-08-13 06:00:00')[0m
  [4;35;1mSQL (0.000602)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.002112)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testComplicatedSuccess' ) LIMIT 1[0m
  [4;35;1mCallStateEvent Load (0.003126)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.001940)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.000975)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:mick@example.com' AND parties."contact" = 'sip:mick@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000446)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:mick@example.com', 'sip:mick@1.1.1.1')[0m
  [4;35;1mSQL (0.000583)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.000965)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:keith@example.com' AND parties."contact" = 'sip:keith@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000464)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:keith@example.com', 'sip:keith@2.2.2.2')[0m
  [4;36;1mSQL (0.000576)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.002124)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.000679)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('2000-01-01 01:00:00', 'You Can''t Always Get What You Want', 'F', 't', 'f', 11, 486, 10, 'testFailed', '2000-01-01 02:00:00', '2000-01-01 00:00:00')[0m
  [4;35;1mSQL (0.000626)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.002309)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testFailed' ) LIMIT 1[0m
  [4;35;1mSQL (0.000383)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000259)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Delete all (0.000538)[0m   [0mDELETE FROM cdrs WHERE (call_id = 'call ID') [0m
  [4;36;1mCdr Load (0.002057)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.000733)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'C', 't', 'f', 2, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;36;1mSQL (0.000709)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Load (0.002187)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Load (0.002188)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Destroy (0.000593)[0m   [0m DELETE FROM cdrs
 WHERE id = 8
[0m
  [4;36;1mCdr Create (0.000638)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'I', 't', 'f', 2, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;35;1mSQL (0.000599)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.002792)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Destroy (0.000605)[0m   [0m DELETE FROM cdrs
 WHERE id = 9
[0m
  [4;36;1mCdr Create (0.000659)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'R', 't', 'f', 2, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;35;1mSQL (0.000673)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mSQL (0.000405)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000244)[0m   [0mBEGIN[0m
  [4;36;1mCdr Count (0.000741)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mCdr Load (0.002167)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mCdr Count (0.000666)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mCdr Load (0.001817)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mParty Load (0.001071)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;35;1mParty Load (0.001212)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;36;1mCdr Load (0.001780)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mCdr Create (0.000765)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, NULL, 't2', 'f2', 2, NULL, 1, 'call2', NULL, NULL)[0m
  [4;36;1mSQL (0.000618)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Count (0.000693)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mCdr Load (0.002084)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mCdr Count (0.000709)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mParty Count (0.000644)[0m   [0;1mSELECT COUNT(*) FROM parties [0m
  [4;35;1mCdr Load (0.001820)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;36;1mParty Load (0.000915)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:varda@example.com' AND parties."contact" = 'sip:varda@3.3.3.3' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000448)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:varda@example.com', 'sip:varda@3.3.3.3')[0m
  [4;36;1mSQL (0.000597)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mParty Load (0.000905)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:thor@example.com' AND parties."contact" = 'sip:thor@4.4.4.4' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000428)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:thor@example.com', 'sip:thor@4.4.4.4')[0m
  [4;35;1mSQL (0.000576)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mCdr Load (0.001786)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;35;1mCdr Create (0.000688)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, NULL, 't3', 'f3', 13, NULL, 12, 'call3', NULL, NULL)[0m
  [4;36;1mSQL (0.000606)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Count (0.000678)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mParty Count (0.000643)[0m   [0;1mSELECT COUNT(*) FROM parties [0m
  [4;35;1mCdr Load (0.002052)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;36;1mSQL (0.000371)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000242)[0m   [0mBEGIN[0m
  [4;36;1mParty Delete all (0.000584)[0m   [0;1mDELETE FROM parties WHERE (aor = 'aor' and contact = 'contact') [0m
  [4;35;1mParty Load (0.001022)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000463)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('aor', 'contact')[0m
  [4;35;1mSQL (0.000661)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001111)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mSQL (0.000422)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000335)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000488)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000296)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000513)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000274)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000520)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000285)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000508)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000291)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.003081)[0m   [0mSELECT * FROM call_state_events WHERE (call_state_events.id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.000417)[0m   [0;1mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000246)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.004564)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.005358)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'call_state_events'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mCallStateEvent Load (0.005222)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.000367)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000254)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003808)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'cdrs'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mCdr Load (0.002634)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mCdr Load (0.002114)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'extra_bogus_call_id' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;35;1mSQL (0.000377)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000255)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Load (0.002573)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mCdr Load (0.002147)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'extra_bogus_call_id' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;35;1mSQL (0.000353)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000268)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.003578)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.000357)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000273)[0m   [0mBEGIN[0m
  [4;36;1mParty Delete all (0.000536)[0m   [0;1mDELETE FROM parties WHERE (aor = 'aor' and contact = 'contact') [0m
  [4;35;1mSQL (0.001981)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'parties'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mParty Load (0.000999)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mPK and serial sequence (0.003686)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'parties'::regclass
[0m
  [4;36;1mParty Create (0.000503)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('aor', 'contact')[0m
  [4;35;1mSQL (0.000725)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001186)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mSQL (0.000358)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000255)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.003645)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mCallStateEvent Load (0.003542)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;35;1mSQL (0.000357)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000241)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000459)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000253)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.001771)[0m   [0mselect distinct call_id from call_state_events where event_time >= 'Thu May 17 19:30:00 UTC 1990' and event_time <= 'Thu May 17 19:45:00 UTC 1990'[0m
  [4;36;1mSQL (0.000361)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000257)[0m   [0mBEGIN[0m
  [4;36;1mCallStateEvent Load (0.003567)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;35;1mSQL (0.000366)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000262)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000497)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000268)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Delete all (0.000504)[0m   [0mDELETE FROM cdrs [0m
  [4;36;1mCallStateEvent Load (0.001458)[0m   [0;1mselect distinct call_id from call_state_events where event_time >= 'Mon Jan 01 00:00:00 UTC 1990' and event_time <= 'Sun Dec 31 00:00:00 EST 2000'[0m
  [4;35;1mCallStateEvent Load (0.004580)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.002113)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mParty Load (0.001063)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:cathy@example.com' AND parties."contact" = 'sip:cathy@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000504)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:cathy@example.com', 'sip:cathy@1.1.1.1')[0m
  [4;35;1mSQL (0.000624)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001015)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:heathcliff@example.com' AND parties."contact" = 'sip:cathy@3.3.3.3' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000434)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:heathcliff@example.com', 'sip:cathy@3.3.3.3')[0m
  [4;36;1mSQL (0.000615)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.002019)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mPK and serial sequence (0.003635)[0m   [0;1m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'cdrs'::regclass
[0m
  [4;35;1mCdr Create (0.000638)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1999-08-13 06:03:00', NULL, 'C', 't2', 'f', 5, NULL, 4, 'testComplicatedSuccess', '1999-08-13 06:10:00', '1999-08-13 06:00:00')[0m
  [4;36;1mSQL (0.000607)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCallStateEvent Load (0.003342)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.002004)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.001011)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:mick@example.com' AND parties."contact" = 'sip:mick@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000484)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:mick@example.com', 'sip:mick@1.1.1.1')[0m
  [4;35;1mSQL (0.000612)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001037)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:keith@example.com' AND parties."contact" = 'sip:keith@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000455)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:keith@example.com', 'sip:keith@2.2.2.2')[0m
  [4;36;1mSQL (0.000578)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.001934)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.000666)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('2000-01-01 01:00:00', 'You Can''t Always Get What You Want', 'F', 't', 'f', 7, 486, 6, 'testFailed', '2000-01-01 02:00:00', '2000-01-01 00:00:00')[0m
  [4;35;1mSQL (0.000599)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCallStateEvent Load (0.003353)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;35;1mCdr Load (0.001993)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mParty Load (0.000996)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;35;1mParty Load (0.000973)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;36;1mCdr Load (0.001868)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.000670)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1990-05-17 19:31:00', NULL, 'C', 't', 'f', 2, NULL, 1, 'testSimpleSuccess', '1990-05-17 19:40:00', '1990-05-17 19:30:00')[0m
  [4;36;1mSQL (0.000618)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCallStateEvent Load (0.002497)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallEarly') ORDER BY event_time [0m
  [4;36;1mCallStateEvent Load (0.002459)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallInTimeWindow') ORDER BY event_time [0m
  [4;35;1mCallStateEvent Load (0.002426)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallLate') ORDER BY event_time [0m
  [4;36;1mCdr Count (0.000819)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mSQL (0.000361)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000252)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.003361)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.001957)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.000999)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Load (0.000959)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mCdr Load (0.001889)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.000669)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1990-05-17 19:31:00', NULL, 'C', 't', 'f', 2, NULL, 1, 'testSimpleSuccess', '1990-05-17 19:40:00', '1990-05-17 19:30:00')[0m
  [4;35;1mSQL (0.000633)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.002097)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testSimpleSuccess' ) LIMIT 1[0m
  [4;35;1mCallStateEvent Load (0.004283)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.001971)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mParty Load (0.000979)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:cathy@example.com' AND parties."contact" = 'sip:cathy@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000439)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:cathy@example.com', 'sip:cathy@1.1.1.1')[0m
  [4;35;1mSQL (0.000567)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.000971)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:heathcliff@example.com' AND parties."contact" = 'sip:cathy@3.3.3.3' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000400)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:heathcliff@example.com', 'sip:cathy@3.3.3.3')[0m
  [4;36;1mSQL (0.000573)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.001897)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mCdr Create (0.000660)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1999-08-13 06:03:00', NULL, 'C', 't2', 'f', 9, NULL, 8, 'testComplicatedSuccess', '1999-08-13 06:10:00', '1999-08-13 06:00:00')[0m
  [4;35;1mSQL (0.000573)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.002081)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testComplicatedSuccess' ) LIMIT 1[0m
  [4;35;1mCallStateEvent Load (0.003105)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.001961)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.000976)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:mick@example.com' AND parties."contact" = 'sip:mick@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000449)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:mick@example.com', 'sip:mick@1.1.1.1')[0m
  [4;35;1mSQL (0.000591)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.000974)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:keith@example.com' AND parties."contact" = 'sip:keith@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000432)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:keith@example.com', 'sip:keith@2.2.2.2')[0m
  [4;36;1mSQL (0.000575)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.002132)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.000675)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('2000-01-01 01:00:00', 'You Can''t Always Get What You Want', 'F', 't', 'f', 11, 486, 10, 'testFailed', '2000-01-01 02:00:00', '2000-01-01 00:00:00')[0m
  [4;35;1mSQL (0.000606)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.002290)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testFailed' ) LIMIT 1[0m
  [4;35;1mSQL (0.000376)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000237)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Delete all (0.000519)[0m   [0mDELETE FROM cdrs WHERE (call_id = 'call ID') [0m
  [4;36;1mCdr Load (0.002048)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.000659)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'C', 't', 'f', 2, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;36;1mSQL (0.000610)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Load (0.002161)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Load (0.002146)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Destroy (0.000607)[0m   [0m DELETE FROM cdrs
 WHERE id = 8
[0m
  [4;36;1mCdr Create (0.000600)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'I', 't', 'f', 2, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;35;1mSQL (0.000594)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.002179)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Destroy (0.000505)[0m   [0m DELETE FROM cdrs
 WHERE id = 9
[0m
  [4;36;1mCdr Create (0.000647)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'R', 't', 'f', 2, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;35;1mSQL (0.000635)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mSQL (0.000374)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000239)[0m   [0mBEGIN[0m
  [4;36;1mCdr Count (0.000733)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mCdr Load (0.002118)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mCdr Count (0.000639)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mCdr Load (0.001824)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mParty Load (0.049598)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;35;1mParty Load (0.001209)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;36;1mCdr Load (0.001772)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mCdr Create (0.000702)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, NULL, 't2', 'f2', 2, NULL, 1, 'call2', NULL, NULL)[0m
  [4;36;1mSQL (0.000593)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Count (0.000670)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mCdr Load (0.002043)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mCdr Count (0.000685)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mParty Count (0.000633)[0m   [0;1mSELECT COUNT(*) FROM parties [0m
  [4;35;1mCdr Load (0.001779)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;36;1mParty Load (0.000909)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:varda@example.com' AND parties."contact" = 'sip:varda@3.3.3.3' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000443)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:varda@example.com', 'sip:varda@3.3.3.3')[0m
  [4;36;1mSQL (0.000586)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mParty Load (0.000901)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:thor@example.com' AND parties."contact" = 'sip:thor@4.4.4.4' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000442)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:thor@example.com', 'sip:thor@4.4.4.4')[0m
  [4;35;1mSQL (0.000561)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mCdr Load (0.001767)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;35;1mCdr Create (0.000636)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, NULL, 't3', 'f3', 13, NULL, 12, 'call3', NULL, NULL)[0m
  [4;36;1mSQL (0.000600)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Count (0.000686)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mParty Count (0.000679)[0m   [0;1mSELECT COUNT(*) FROM parties [0m
  [4;35;1mCdr Load (0.002039)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;36;1mSQL (0.000531)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000239)[0m   [0mBEGIN[0m
  [4;36;1mParty Delete all (0.000568)[0m   [0;1mDELETE FROM parties WHERE (aor = 'aor' and contact = 'contact') [0m
  [4;35;1mParty Load (0.001012)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000450)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('aor', 'contact')[0m
  [4;35;1mSQL (0.000668)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001108)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mSQL (0.000380)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000263)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000493)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000265)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000500)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000271)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000506)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000274)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000496)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000273)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.003009)[0m   [0mSELECT * FROM call_state_events WHERE (call_state_events.id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.000406)[0m   [0;1mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000248)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.004566)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.005354)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'call_state_events'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mCallStateEvent Load (0.005189)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.000356)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000258)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.003766)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'cdrs'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mCdr Load (0.002629)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mCdr Load (0.002125)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'extra_bogus_call_id' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;35;1mSQL (0.000363)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000255)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Load (0.002773)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mCdr Load (0.002166)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'extra_bogus_call_id' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;35;1mSQL (0.000388)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000264)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.003568)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.000368)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000259)[0m   [0mBEGIN[0m
  [4;36;1mParty Delete all (0.000541)[0m   [0;1mDELETE FROM parties WHERE (aor = 'aor' and contact = 'contact') [0m
  [4;35;1mSQL (0.001979)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'parties'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mParty Load (0.000998)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mPK and serial sequence (0.003766)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'parties'::regclass
[0m
  [4;36;1mParty Create (0.000600)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('aor', 'contact')[0m
  [4;35;1mSQL (0.000719)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001100)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mSQL (0.000341)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000271)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.003623)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mCallStateEvent Load (0.003536)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;35;1mSQL (0.000354)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000245)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000458)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000254)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.001734)[0m   [0mselect distinct call_id from call_state_events where event_time >= 'Thu May 17 19:30:00 UTC 1990' and event_time <= 'Thu May 17 19:45:00 UTC 1990'[0m
  [4;36;1mSQL (0.000354)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000256)[0m   [0mBEGIN[0m
  [4;36;1mCallStateEvent Load (0.003551)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;35;1mSQL (0.000368)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000253)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000496)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000260)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Delete all (0.000504)[0m   [0mDELETE FROM cdrs [0m
  [4;36;1mCallStateEvent Load (0.001463)[0m   [0;1mselect distinct call_id from call_state_events where event_time >= 'Mon Jan 01 00:00:00 UTC 1990' and event_time <= 'Sun Dec 31 00:00:00 EST 2000'[0m
  [4;35;1mCallStateEvent Load (0.004571)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.002112)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mParty Load (0.001029)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:cathy@example.com' AND parties."contact" = 'sip:cathy@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000481)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:cathy@example.com', 'sip:cathy@1.1.1.1')[0m
  [4;35;1mSQL (0.000627)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001011)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:heathcliff@example.com' AND parties."contact" = 'sip:cathy@3.3.3.3' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000422)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:heathcliff@example.com', 'sip:cathy@3.3.3.3')[0m
  [4;36;1mSQL (0.000612)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.002154)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mPK and serial sequence (0.003772)[0m   [0;1m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'cdrs'::regclass
[0m
  [4;35;1mCdr Create (0.000650)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1999-08-13 06:03:00', NULL, 'C', 't2', 'f', 5, NULL, 4, 'testComplicatedSuccess', '1999-08-13 06:10:00', '1999-08-13 06:00:00')[0m
  [4;36;1mSQL (0.000615)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCallStateEvent Load (0.003438)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.002045)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.001015)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:mick@example.com' AND parties."contact" = 'sip:mick@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000532)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:mick@example.com', 'sip:mick@1.1.1.1')[0m
  [4;35;1mSQL (0.000612)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001012)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:keith@example.com' AND parties."contact" = 'sip:keith@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000437)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:keith@example.com', 'sip:keith@2.2.2.2')[0m
  [4;36;1mSQL (0.000565)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.001949)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.000656)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('2000-01-01 01:00:00', 'You Can''t Always Get What You Want', 'F', 't', 'f', 7, 486, 6, 'testFailed', '2000-01-01 02:00:00', '2000-01-01 00:00:00')[0m
  [4;35;1mSQL (0.000601)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCallStateEvent Load (0.003266)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;35;1mCdr Load (0.001970)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mParty Load (0.001051)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;35;1mParty Load (0.000989)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;36;1mCdr Load (0.001871)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.000657)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1990-05-17 19:31:00', NULL, 'C', 't', 'f', 2, NULL, 1, 'testSimpleSuccess', '1990-05-17 19:40:00', '1990-05-17 19:30:00')[0m
  [4;36;1mSQL (0.000610)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCallStateEvent Load (0.002505)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallEarly') ORDER BY event_time [0m
  [4;36;1mCallStateEvent Load (0.002459)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallInTimeWindow') ORDER BY event_time [0m
  [4;35;1mCallStateEvent Load (0.002437)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallLate') ORDER BY event_time [0m
  [4;36;1mCdr Count (0.000833)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mSQL (0.000370)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000235)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.003325)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.001954)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.000996)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Load (0.000975)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mCdr Load (0.001897)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.000659)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1990-05-17 19:31:00', NULL, 'C', 't', 'f', 2, NULL, 1, 'testSimpleSuccess', '1990-05-17 19:40:00', '1990-05-17 19:30:00')[0m
  [4;35;1mSQL (0.000601)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.002101)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testSimpleSuccess' ) LIMIT 1[0m
  [4;35;1mCallStateEvent Load (0.004264)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.001996)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mParty Load (0.000987)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:cathy@example.com' AND parties."contact" = 'sip:cathy@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000451)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:cathy@example.com', 'sip:cathy@1.1.1.1')[0m
  [4;35;1mSQL (0.000571)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001050)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:heathcliff@example.com' AND parties."contact" = 'sip:cathy@3.3.3.3' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000416)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:heathcliff@example.com', 'sip:cathy@3.3.3.3')[0m
  [4;36;1mSQL (0.000582)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.001917)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mCdr Create (0.000649)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('1999-08-13 06:03:00', NULL, 'C', 't2', 'f', 9, NULL, 8, 'testComplicatedSuccess', '1999-08-13 06:10:00', '1999-08-13 06:00:00')[0m
  [4;35;1mSQL (0.000569)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.002088)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testComplicatedSuccess' ) LIMIT 1[0m
  [4;35;1mCallStateEvent Load (0.003107)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.001900)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.000971)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:mick@example.com' AND parties."contact" = 'sip:mick@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000446)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:mick@example.com', 'sip:mick@1.1.1.1')[0m
  [4;35;1mSQL (0.000586)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.000976)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:keith@example.com' AND parties."contact" = 'sip:keith@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000439)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:keith@example.com', 'sip:keith@2.2.2.2')[0m
  [4;36;1mSQL (0.000567)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.002097)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.000668)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES('2000-01-01 01:00:00', 'You Can''t Always Get What You Want', 'F', 't', 'f', 11, 486, 10, 'testFailed', '2000-01-01 02:00:00', '2000-01-01 00:00:00')[0m
  [4;35;1mSQL (0.000622)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.002284)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testFailed' ) LIMIT 1[0m
  [4;35;1mSQL (0.000380)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000246)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Delete all (0.000521)[0m   [0mDELETE FROM cdrs WHERE (call_id = 'call ID') [0m
  [4;36;1mCdr Load (0.002006)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.000651)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'C', 't', 'f', 2, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;36;1mSQL (0.000605)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Load (0.002141)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Load (0.002184)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Destroy (0.000630)[0m   [0m DELETE FROM cdrs
 WHERE id = 8
[0m
  [4;36;1mCdr Create (0.000626)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'I', 't', 'f', 2, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;35;1mSQL (0.000590)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.002118)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Destroy (0.000482)[0m   [0m DELETE FROM cdrs
 WHERE id = 9
[0m
  [4;36;1mCdr Create (0.000607)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'R', 't', 'f', 2, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;35;1mSQL (0.000642)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mSQL (0.000378)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000236)[0m   [0mBEGIN[0m
  [4;36;1mCdr Count (0.000780)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mCdr Load (0.002129)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mCdr Count (0.000661)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mCdr Load (0.001771)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mParty Load (0.049496)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;35;1mParty Load (0.001191)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;36;1mCdr Load (0.001764)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mCdr Create (0.000733)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, NULL, 't2', 'f2', 2, NULL, 1, 'call2', NULL, NULL)[0m
  [4;36;1mSQL (0.000606)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Count (0.000680)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mCdr Load (0.002020)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mCdr Count (0.000680)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mParty Count (0.000647)[0m   [0;1mSELECT COUNT(*) FROM parties [0m
  [4;35;1mCdr Load (0.001769)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;36;1mParty Load (0.000897)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:varda@example.com' AND parties."contact" = 'sip:varda@3.3.3.3' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000440)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:varda@example.com', 'sip:varda@3.3.3.3')[0m
  [4;36;1mSQL (0.000580)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mParty Load (0.000905)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:thor@example.com' AND parties."contact" = 'sip:thor@4.4.4.4' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000444)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:thor@example.com', 'sip:thor@4.4.4.4')[0m
  [4;35;1mSQL (0.000574)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mCdr Load (0.001773)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;35;1mCdr Create (0.000632)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, NULL, 't3', 'f3', 13, NULL, 12, 'call3', NULL, NULL)[0m
  [4;36;1mSQL (0.000596)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Count (0.000679)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mParty Count (0.000638)[0m   [0;1mSELECT COUNT(*) FROM parties [0m
  [4;35;1mCdr Load (0.002035)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;36;1mSQL (0.000359)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000235)[0m   [0mBEGIN[0m
  [4;36;1mParty Delete all (0.000573)[0m   [0;1mDELETE FROM parties WHERE (aor = 'aor' and contact = 'contact') [0m
  [4;35;1mParty Load (0.001080)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000462)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('aor', 'contact')[0m
  [4;35;1mSQL (0.000681)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001092)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mSQL (0.000383)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000255)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000485)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000267)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000494)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000271)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000498)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000279)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000504)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000443)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.003498)[0m   [0mSELECT * FROM call_state_events WHERE (call_state_events.id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.000480)[0m   [0;1mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000242)[0m   [0;1mBEGIN[0m
  [4;35;1mCallDirection Load (0.000962)[0m   [0mSELECT * FROM call_directions WHERE (call_directions.id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.002391)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'call_directions'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mCdr Load (0.002020)[0m   [0mSELECT * FROM cdrs WHERE (cdrs.id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.003221)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'cdrs'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mCallDirection Load (0.000876)[0m   [0mSELECT * FROM call_directions WHERE (call_directions.id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.000327)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000250)[0m   [0mBEGIN[0m
  [4;36;1mCallDirection Load (0.000966)[0m   [0;1mSELECT * FROM call_directions WHERE (call_directions.id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.000337)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.002105)[0m   [0;1mBEGIN[0m
  [4;35;1mCallDirection Load (0.007965)[0m   [0mSELECT * FROM call_directions WHERE (call_directions.id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.022571)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'call_directions'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mCdr Load (0.019022)[0m   [0mSELECT * FROM cdrs WHERE (cdrs.id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.030431)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'cdrs'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mCallDirection Load (0.008155)[0m   [0mSELECT * FROM call_directions WHERE (call_directions.id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.003028)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.002631)[0m   [0mBEGIN[0m
  [4;36;1mCallDirection Load (0.007638)[0m   [0;1mSELECT * FROM call_directions WHERE (call_directions.id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.002559)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000261)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.002482)[0m   [0mSELECT * FROM call_state_events WHERE (call_state_events.id = 1) LIMIT 1[0m
  [4;36;1mCallStateEvent Load (0.002367)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_state_events.id = 2) LIMIT 1[0m
  [4;35;1mCallStateEvent Load (0.002344)[0m   [0mSELECT * FROM call_state_events WHERE (call_state_events.id = 3) LIMIT 1[0m
  [4;36;1mSQL (0.004788)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'call_state_events'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mSQL (0.000334)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000241)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.002623)[0m   [0mSELECT * FROM call_state_events WHERE (call_state_events.id = 1) LIMIT 1[0m
  [4;36;1mCallStateEvent Load (0.002409)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_state_events.id = 2) LIMIT 1[0m
  [4;35;1mCallStateEvent Load (0.002354)[0m   [0mSELECT * FROM call_state_events WHERE (call_state_events.id = 3) LIMIT 1[0m
  [4;36;1mSQL (0.000311)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000246)[0m   [0mBEGIN[0m
  [4;36;1mCallStateEvent Load (0.002660)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_state_events.id = 1) LIMIT 1[0m
  [4;35;1mCallStateEvent Load (0.002455)[0m   [0mSELECT * FROM call_state_events WHERE (call_state_events.id = 2) LIMIT 1[0m
  [4;36;1mCallStateEvent Load (0.002363)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_state_events.id = 3) LIMIT 1[0m
  [4;35;1mSQL (0.000316)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000281)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Load (0.002415)[0m   [0mSELECT * FROM cdrs WHERE (cdrs.id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.004583)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'cdrs'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mParty Load (0.001084)[0m   [0mSELECT * FROM parties WHERE (parties.id = 1) LIMIT 1[0m
  [4;36;1mSQL (0.002056)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'parties'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mParty Load (0.001093)[0m   [0mSELECT * FROM parties WHERE (parties.id = 2) LIMIT 1[0m
  [4;36;1mSQL (0.000368)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000286)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000536)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000265)[0m   [0mBEGIN[0m
  [4;36;1mCdr Load (0.002586)[0m   [0;1mSELECT * FROM cdrs WHERE (cdrs.id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.000381)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000233)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000318)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000248)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000721)[0m   [0mSHOW search_path[0m
  [4;36;1mSQL (0.003686)[0m   [0;1m SELECT tablename
 FROM pg_tables
 WHERE schemaname IN ('$user','public')
[0m
  [4;35;1mGateway Load (0.003768)[0m   [0mSELECT * FROM gateway WHERE (name = 'gateway_for_call_resolver_unit_test') LIMIT 1[0m
  [4;36;1mSQL (0.004796)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'gateway'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mGateway Destroy (0.012816)[0m   [0m DELETE FROM gateway
 WHERE gateway_id = 3
[0m
  [4;36;1mGateway Load (0.000912)[0m   [0;1mselect max(gateway.gateway_id) from gateway[0m
  [4;35;1mPK and serial sequence (0.005342)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'gateway'::regclass
[0m
  [4;36;1mPK and custom sequence (0.002672)[0m   [0;1m SELECT attr.attname, name.nspname, split_part(def.adsrc, '\'', 2)
 FROM pg_class t
 JOIN pg_namespace name ON (t.relnamespace = name.oid)
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = 'gateway'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [4;35;1mGateway Create (0.001579)[0m   [0mINSERT INTO gateway ("name", "bean_id", "gateway_id", "description", "value_storage_id", "address", "serial_number", "model_id") VALUES('gateway_for_call_resolver_unit_test', 'gwGeneric', 3, NULL, NULL, 'www.pingtel.com', '0123456789AB', NULL)[0m
  [4;36;1mGateway Load (0.001725)[0m   [0;1mSELECT * FROM gateway WHERE (name = 'gateway_for_call_resolver_unit_test') LIMIT 1[0m
  [4;35;1mSQL (0.000303)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000252)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.002597)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'parties'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mParty Load (0.001023)[0m   [0;1mSELECT * FROM parties WHERE (parties.id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.000336)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000239)[0m   [0;1mBEGIN[0m
  [4;35;1mParty Load (0.000959)[0m   [0mSELECT * FROM parties WHERE (parties.id = 1) LIMIT 1[0m
  [4;36;1mParty Load (0.000905)[0m   [0;1mSELECT * FROM parties WHERE (parties.id = 2) LIMIT 1[0m
  [4;35;1mSQL (0.000306)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000320)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000301)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;35;1mSQL (0.000609)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000603)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000588)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000653)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000585)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000579)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000603)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000583)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000576)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000586)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000584)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000593)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000598)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000580)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000586)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000582)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000578)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000641)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000589)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000578)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000734)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000582)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000584)[0m   [0mROLLBACK[0m
  [4;35;1mSQL (0.000596)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000335)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.005399)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.006811)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'call_state_events'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mCallStateEvent Load (0.005986)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mSQL (0.000504)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000406)[0m   [0mBEGIN[0m
  [4;36;1mCallStateEvent Load (0.002113)[0m   [0;1mselect distinct call_id from call_state_events where event_time >= 'Wed Jan 03 00:00:00 UTC 2001' and event_time <= 'Wed Jan 03 00:00:00 UTC 2001'[0m
  [4;35;1mCallStateEvent Load (0.004487)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testContactParamStripping') ORDER BY event_time [0m
  [4;36;1mSQL (0.002501)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'parties'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mSQL (0.004480)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'cdrs'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mCdr Load (0.002702)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testContactParamStripping' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.001243)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice_with_params@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mPK and serial sequence (0.004878)[0m   [0;1m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'parties'::regclass
[0m
  [4;35;1mParty Create (0.000686)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:alice@example.com', 'sip:alice_with_params@1.1.1.1')[0m
  [4;36;1mSQL (0.000960)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mParty Load (0.001217)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = '<sip:bob_with_params@2.2.2.2>' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000594)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:bob@example.com', '<sip:bob_with_params@2.2.2.2>')[0m
  [4;35;1mSQL (0.000811)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mCdr Load (0.002518)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testContactParamStripping' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mPK and serial sequence (0.004795)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'cdrs'::regclass
[0m
  [4;36;1mCdr Create (0.000977)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES('2001-01-03 01:00:00', NULL, 'C', 't', 'f', 4, NULL, NULL, 3, 'testContactParamStripping', '2001-01-03 02:00:00', '2001-01-03 00:00:00')[0m
  [4;35;1mSQL (0.000811)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mParty Load (0.001288)[0m   [0;1mSELECT * FROM parties WHERE (contact = 'sip:alice_with_params@1.1.1.1') LIMIT 1[0m
  [4;35;1mParty Load (0.001251)[0m   [0mSELECT * FROM parties WHERE (contact = '<sip:bob_with_params@2.2.2.2>') LIMIT 1[0m
  [4;36;1mSQL (0.000519)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000869)[0m   [0mBEGIN[0m
  [4;36;1mCdr Load (0.003022)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;35;1mCdr Load (0.002625)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'extra_bogus_call_id' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mSQL (0.000499)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000314)[0m   [0mBEGIN[0m
  [4;36;1mCdr Load (0.002988)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;35;1mCdr Load (0.002535)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'extra_bogus_call_id' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;36;1mSQL (0.000591)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000878)[0m   [0mBEGIN[0m
  [4;36;1mCallStateEvent Load (0.004261)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;35;1mSQL (0.000525)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000968)[0m   [0;1mBEGIN[0m
  [4;35;1mParty Delete all (0.000640)[0m   [0mDELETE FROM parties WHERE (aor = 'aor' and contact = 'contact') [0m
  [4;36;1mParty Load (0.001197)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000589)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('aor', 'contact')[0m
  [4;36;1mSQL (0.000811)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mParty Load (0.001536)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;36;1mSQL (0.001052)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000319)[0m   [0mBEGIN[0m
  [4;36;1mCallStateEvent Load (0.004240)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;35;1mCallStateEvent Load (0.004315)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;36;1mSQL (0.000555)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000923)[0m   [0mBEGIN[0m
  [4;36;1mCallStateEvent Load (0.004300)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess_CalleeEnd') ORDER BY event_time [0m
  [4;35;1mSQL (0.000527)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000322)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000619)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000866)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000636)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000874)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Load (0.001453)[0m   [0mselect distinct call_id from call_state_events where event_time >= 'Thu May 17 19:30:00 UTC 1990' and event_time <= 'Thu May 17 19:45:00 UTC 1990'[0m
  [4;36;1mSQL (0.000481)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000314)[0m   [0mBEGIN[0m
  [4;36;1mCallStateEvent Load (0.004299)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;35;1mSQL (0.000522)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000906)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.000611)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000318)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Delete all (0.000482)[0m   [0mDELETE FROM cdrs [0m
  [4;36;1mCallStateEvent Load (0.002234)[0m   [0;1mselect distinct call_id from call_state_events where event_time >= 'Mon Jan 01 00:00:00 UTC 1990' and event_time <= 'Sun Dec 31 00:00:00 EST 2000'[0m
  [4;35;1mCallStateEvent Load (0.005538)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.002553)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mParty Load (0.001109)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:cathy@example.com' AND parties."contact" = 'sip:cathy@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000591)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:cathy@example.com', 'sip:cathy@1.1.1.1')[0m
  [4;35;1mSQL (0.000769)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001146)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:heathcliff@example.com' AND parties."contact" = 'sip:cathy@3.3.3.3' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000582)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:heathcliff@example.com', 'sip:cathy@3.3.3.3')[0m
  [4;36;1mSQL (0.000764)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.002436)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mCdr Create (0.000892)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES('1999-08-13 06:03:00', NULL, 'C', 't2', 'f', 7, NULL, NULL, 6, 'testComplicatedSuccess', '1999-08-13 06:10:00', '1999-08-13 06:00:00')[0m
  [4;35;1mSQL (0.000767)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCallStateEvent Load (0.004155)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;35;1mCdr Load (0.002549)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mParty Load (0.001140)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:mick@example.com' AND parties."contact" = 'sip:mick@1.1.1.1' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000575)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:mick@example.com', 'sip:mick@1.1.1.1')[0m
  [4;36;1mSQL (0.000764)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mParty Load (0.001148)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:keith@example.com' AND parties."contact" = 'sip:keith@2.2.2.2' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000564)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:keith@example.com', 'sip:keith@2.2.2.2')[0m
  [4;35;1mSQL (0.000956)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mCdr Load (0.002475)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.000880)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES('2000-01-01 01:00:00', 'You Can''t Always Get What You Want', 'F', 't', 'f', 9, 499, NULL, 8, 'testFailed', '2000-01-01 02:00:00', '2000-01-01 00:00:00')[0m
  [4;36;1mSQL (0.000789)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCallStateEvent Load (0.004126)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.002495)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.001338)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Load (0.001297)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mCdr Load (0.002409)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.000917)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES('1990-05-17 19:31:00', NULL, 'C', 't', 'f', 2, NULL, NULL, 1, 'testSimpleSuccess', '1990-05-17 19:40:00', '1990-05-17 19:30:00')[0m
  [4;35;1mSQL (0.000794)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCallStateEvent Load (0.003243)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallEarly') ORDER BY event_time [0m
  [4;35;1mCallStateEvent Load (0.003183)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallInTimeWindow') ORDER BY event_time [0m
  [4;36;1mCallStateEvent Load (0.003239)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccessBogusCallLate') ORDER BY event_time [0m
  [4;35;1mCallStateEvent Load (0.004045)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess_CalleeEnd') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.002492)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess_CalleeEnd' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.001323)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Load (0.001312)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mCdr Load (0.002389)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess_CalleeEnd' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.000892)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES('1990-05-17 19:41:00', NULL, 'C', 't', 'f', 2, NULL, NULL, 1, 'testSimpleSuccess_CalleeEnd', '1990-05-17 19:50:00', '1990-05-17 19:40:00')[0m
  [4;35;1mSQL (0.000859)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCallStateEvent Load (0.003476)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess_CalleeEndBogusCallEarly') ORDER BY event_time [0m
  [4;35;1mCallStateEvent Load (0.003478)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess_CalleeEndBogusCallInTimeWindow') ORDER BY event_time [0m
  [4;36;1mCallStateEvent Load (0.003406)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess_CalleeEndBogusCallLate') ORDER BY event_time [0m
  [4;35;1mCdr Count (0.001214)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mSQL (0.000488)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000302)[0m   [0mBEGIN[0m
  [4;36;1mCallStateEvent Load (0.004310)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testSimpleSuccess') ORDER BY event_time [0m
  [4;35;1mCdr Load (0.002525)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mParty Load (0.001294)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;35;1mParty Load (0.001297)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;36;1mCdr Load (0.002414)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testSimpleSuccess' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.000944)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES('1990-05-17 19:31:00', NULL, 'C', 't', 'f', 2, NULL, NULL, 1, 'testSimpleSuccess', '1990-05-17 19:40:00', '1990-05-17 19:30:00')[0m
  [4;36;1mSQL (0.000820)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Load (0.003214)[0m   [0mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testSimpleSuccess' ) LIMIT 1[0m
  [4;36;1mCallStateEvent Load (0.005694)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testComplicatedSuccess') ORDER BY event_time [0m
  [4;35;1mCdr Load (0.002533)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mParty Load (0.001166)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:cathy@example.com' AND parties."contact" = 'sip:cathy@1.1.1.1' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000604)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:cathy@example.com', 'sip:cathy@1.1.1.1')[0m
  [4;36;1mSQL (0.000803)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mParty Load (0.001311)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:heathcliff@example.com' AND parties."contact" = 'sip:cathy@3.3.3.3' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000615)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:heathcliff@example.com', 'sip:cathy@3.3.3.3')[0m
  [4;35;1mSQL (0.000785)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mCdr Load (0.002587)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testComplicatedSuccess' and from_tag = 'f' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mCdr Create (0.000925)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES('1999-08-13 06:03:00', NULL, 'C', 't2', 'f', 11, NULL, NULL, 10, 'testComplicatedSuccess', '1999-08-13 06:10:00', '1999-08-13 06:00:00')[0m
  [4;36;1mSQL (0.000802)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Load (0.002852)[0m   [0mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testComplicatedSuccess' ) LIMIT 1[0m
  [4;36;1mCallStateEvent Load (0.004133)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'testFailed') ORDER BY event_time [0m
  [4;35;1mCdr Load (0.002523)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mParty Load (0.001178)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:mick@example.com' AND parties."contact" = 'sip:mick@1.1.1.1' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000622)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:mick@example.com', 'sip:mick@1.1.1.1')[0m
  [4;36;1mSQL (0.000778)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mParty Load (0.001180)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:keith@example.com' AND parties."contact" = 'sip:keith@2.2.2.2' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000616)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:keith@example.com', 'sip:keith@2.2.2.2')[0m
  [4;35;1mSQL (0.000775)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mCdr Load (0.002476)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'testFailed' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.000912)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES('2000-01-01 01:00:00', 'You Can''t Always Get What You Want', 'F', 't', 'f', 13, 499, NULL, 12, 'testFailed', '2000-01-01 02:00:00', '2000-01-01 00:00:00')[0m
  [4;36;1mSQL (0.000796)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Load (0.002817)[0m   [0mSELECT * FROM cdrs WHERE (cdrs."call_id" = 'testFailed' ) LIMIT 1[0m
  [4;36;1mSQL (0.000520)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000313)[0m   [0mBEGIN[0m
  [4;36;1mCdr Delete all (0.000619)[0m   [0;1mDELETE FROM cdrs WHERE (call_id = 'call ID') [0m
  [4;35;1mCdr Load (0.002783)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.000912)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'C', 't', 'f', 2, NULL, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;35;1mSQL (0.000840)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Load (0.003287)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Load (0.003063)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Destroy (0.000761)[0m   [0;1m DELETE FROM cdrs
 WHERE id = 10
[0m
  [4;35;1mCdr Create (0.000915)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'I', 't', 'f', 2, NULL, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;36;1mSQL (0.000831)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Load (0.002947)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call ID' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Destroy (0.000636)[0m   [0;1m DELETE FROM cdrs
 WHERE id = 11
[0m
  [4;35;1mCdr Create (0.000889)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, 'R', 't', 'f', 2, NULL, NULL, 1, 'call ID', NULL, NULL)[0m
  [4;36;1mSQL (0.000778)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mSQL (0.000502)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000308)[0m   [0;1mBEGIN[0m
  [4;35;1mCdr Count (0.000958)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mCdr Load (0.003085)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call1' and from_tag = 'f1' and to_tag = 't1') LIMIT 1[0m
  [4;35;1mCdr Count (0.000968)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mCdr Load (0.002632)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;35;1mParty Load (0.001362)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:alice@example.com' AND parties."contact" = 'sip:alice@1.1.1.1' ) LIMIT 1[0m
  [4;36;1mParty Load (0.001371)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:bob@example.com' AND parties."contact" = 'sip:bob@2.2.2.2' ) LIMIT 1[0m
  [4;35;1mCdr Load (0.002542)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mCdr Create (0.000895)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, NULL, 't2', 'f2', 2, NULL, NULL, 1, 'call2', NULL, NULL)[0m
  [4;35;1mSQL (0.000811)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Count (0.000944)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mCdr Load (0.002903)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call2' and from_tag = 'f2' and to_tag = 't2') LIMIT 1[0m
  [4;36;1mCdr Count (0.000954)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mParty Count (0.000872)[0m   [0mSELECT COUNT(*) FROM parties [0m
  [4;36;1mCdr Load (0.002602)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;35;1mParty Load (0.001191)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:varda@example.com' AND parties."contact" = 'sip:varda@3.3.3.3' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000593)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:varda@example.com', 'sip:varda@3.3.3.3')[0m
  [4;35;1mSQL (0.000786)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001168)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:thor@example.com' AND parties."contact" = 'sip:thor@4.4.4.4' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000572)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:thor@example.com', 'sip:thor@4.4.4.4')[0m
  [4;36;1mSQL (0.000786)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.002548)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;36;1mCdr Create (0.000858)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES(NULL, NULL, NULL, 't3', 'f3', 15, NULL, NULL, 14, 'call3', NULL, NULL)[0m
  [4;35;1mSQL (0.000812)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Count (0.000927)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mParty Count (0.000861)[0m   [0mSELECT COUNT(*) FROM parties [0m
  [4;36;1mCdr Load (0.002977)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'call3' and from_tag = 'f3' and to_tag = 't3') LIMIT 1[0m
  [4;35;1mSQL (0.000568)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000868)[0m   [0;1mBEGIN[0m
  [4;35;1mParty Delete all (0.000636)[0m   [0mDELETE FROM parties WHERE (aor = 'aor' and contact = 'contact') [0m
  [4;36;1mParty Load (0.001188)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000641)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('aor', 'contact')[0m
  [4;36;1mSQL (0.000796)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mParty Load (0.001474)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'aor' AND parties."contact" = 'contact' ) LIMIT 1[0m
  [4;36;1mSQL (0.000505)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000315)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000611)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000884)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000594)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000320)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000635)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000332)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000610)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000995)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.000593)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000319)[0m   [0mBEGIN[0m
  [4;36;1mCallStateEvent Load (0.003307)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_state_events.id = 1) LIMIT 1[0m
  [4;35;1mSQL (0.000535)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000299)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Delete all (0.006043)[0m   [0mDELETE FROM call_state_events [0m
  [4;36;1mCdr Delete all (0.001685)[0m   [0;1mDELETE FROM cdrs [0m
  [4;35;1mParty Delete all (0.002826)[0m   [0mDELETE FROM parties [0m
  [4;36;1mCallStateEvent Count (0.001465)[0m   [0;1mSELECT COUNT(*) FROM call_state_events [0m
  [4;35;1mCdr Count (0.001005)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mParty Count (0.000955)[0m   [0;1mSELECT COUNT(*) FROM parties [0m
  [4;35;1mSQL (0.007725)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'call_state_events'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mPK and serial sequence (0.006453)[0m   [0;1m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'call_state_events'::regclass
[0m
  [4;35;1mCallStateEvent Create (0.000000)[0m   [0mRuntimeError: ERROR	C23502	Mnull value in column "cseq" violates not-null constraint	FexecMain.c	L1750	RExecConstraints: INSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:200@example.com', 'sip:200@example.com; tag=f', 't', 'sip:201@example.com', 'f', NULL, '2006-04-01 15:49:12', NULL, 1, '', 'R', '', 'id-1')[0m
  [4;36;1mSQL (0.000637)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000337)[0m   [0mBEGIN[0m
  [4;36;1mCallStateEvent Delete all (0.001720)[0m   [0;1mDELETE FROM call_state_events [0m
  [4;35;1mCdr Delete all (0.001358)[0m   [0mDELETE FROM cdrs [0m
  [4;36;1mParty Delete all (0.001137)[0m   [0;1mDELETE FROM parties [0m
  [4;35;1mCallStateEvent Count (0.001486)[0m   [0mSELECT COUNT(*) FROM call_state_events [0m
  [4;36;1mCdr Count (0.001040)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mParty Count (0.001057)[0m   [0mSELECT COUNT(*) FROM parties [0m
  [4;36;1mCallStateEvent Create (0.000000)[0m   [0;1mRuntimeError: ERROR	C23502	Mnull value in column "cseq" violates not-null constraint	FexecMain.c	L1750	RExecConstraints: INSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:200@example.com', 'sip:200@example.com; tag=f', 't', 'sip:201@example.com', 'f', NULL, '2006-04-01 15:49:12', NULL, 1, '', 'R', '', 'id-1')[0m
  [4;35;1mSQL (0.001206)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000345)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Delete all (0.001874)[0m   [0mDELETE FROM call_state_events [0m
  [4;36;1mCdr Delete all (0.001360)[0m   [0;1mDELETE FROM cdrs [0m
  [4;35;1mParty Delete all (0.000967)[0m   [0mDELETE FROM parties [0m
  [4;36;1mCallStateEvent Count (0.001603)[0m   [0;1mSELECT COUNT(*) FROM call_state_events [0m
  [4;35;1mCdr Count (0.001002)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mParty Count (0.000953)[0m   [0;1mSELECT COUNT(*) FROM parties [0m
  [4;35;1mCallStateEvent Create (0.000000)[0m   [0mRuntimeError: ERROR	C23502	Mnull value in column "cseq" violates not-null constraint	FexecMain.c	L1750	RExecConstraints: INSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:200@example.com', 'sip:200@example.com; tag=f', 't', 'sip:201@example.com', 'f', NULL, '2006-04-10 16:49:12', NULL, 1, '', 'R', '', 'id-1')[0m
  [4;36;1mSQL (0.000612)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000349)[0m   [0mBEGIN[0m
  [4;36;1mCallStateEvent Delete all (0.001787)[0m   [0;1mDELETE FROM call_state_events [0m
  [4;35;1mCdr Delete all (0.001365)[0m   [0mDELETE FROM cdrs [0m
  [4;36;1mParty Delete all (0.000987)[0m   [0;1mDELETE FROM parties [0m
  [4;35;1mCallStateEvent Count (0.001597)[0m   [0mSELECT COUNT(*) FROM call_state_events [0m
  [4;36;1mCdr Count (0.001056)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mParty Count (0.001054)[0m   [0mSELECT COUNT(*) FROM parties [0m
  [4;36;1mCallStateEvent Create (0.000000)[0m   [0;1mRuntimeError: ERROR	C23502	Mnull value in column "cseq" violates not-null constraint	FexecMain.c	L1750	RExecConstraints: INSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:200@example.com', 'sip:200@example.com; tag=f', 't', 'sip:201@example.com', 'f', NULL, '2006-04-10 16:49:12', NULL, 1, '', 'R', '', 'id-1')[0m
  [4;35;1mSQL (0.001320)[0m   [0mROLLBACK[0m
ApplicationController: missing default helper path application_helper
  [4;36;1mSQL (0.000382)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Delete all (0.001712)[0m   [0mDELETE FROM call_state_events [0m
  [4;36;1mCdr Delete all (0.001346)[0m   [0;1mDELETE FROM cdrs [0m
  [4;35;1mParty Delete all (0.000962)[0m   [0mDELETE FROM parties [0m
  [4;36;1mCallStateEvent Count (0.001461)[0m   [0;1mSELECT COUNT(*) FROM call_state_events [0m
  [4;35;1mCdr Count (0.000983)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mParty Count (0.000922)[0m   [0;1mSELECT COUNT(*) FROM parties [0m
  [4;35;1mSQL (0.008073)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'call_state_events'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mPK and serial sequence (0.006792)[0m   [0;1m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'call_state_events'::regclass
[0m
  [4;35;1mCallStateEvent Create (0.005506)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:200@example.com', 'sip:200@example.com; tag=f', 't', 'sip:201@example.com', 'f', 1, '2006-04-01 15:50:18', NULL, 1, '', 'R', '', 'id-1')[0m
  [4;36;1mSQL (0.001056)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001144)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:201@example.com', 'sip:200@example.com; tag=f', 't', 'sip:201@example.com', 'f', 2, '2006-04-01 15:50:38', NULL, 2, '', 'S', '', 'id-1')[0m
  [4;36;1mSQL (0.000917)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001209)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:200@example.com', 'sip:200@example.com; tag=f', 't', 'sip:201@example.com', 'f', 3, '2006-04-01 15:50:58', NULL, 3, '', 'E', '', 'id-1')[0m
  [4;36;1mSQL (0.001021)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001256)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:201@example.com', 'sip:201@example.com; tag=f', 't', 'sip:200@example.com', 'f', 1, '2006-03-31 15:50:18', NULL, 4, '', 'R', '', 'id-2')[0m
  [4;36;1mSQL (0.001014)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001161)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:200@example.com', 'sip:201@example.com; tag=f', 't', 'sip:200@example.com', 'f', 2, '2006-03-31 15:50:38', NULL, 5, '', 'S', '', 'id-2')[0m
  [4;36;1mSQL (0.001346)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001237)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:201@example.com', 'sip:201@example.com; tag=f', 't', 'sip:200@example.com', 'f', 3, '2006-03-31 15:50:58', NULL, 6, '', 'E', '', 'id-2')[0m
  [4;36;1mSQL (0.001090)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001140)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:200@example.com', 'sip:200@example.com; tag=f', 't', 'sip:201@example.com', 'f', 1, '2006-03-30 15:50:18', NULL, 7, '', 'R', '', 'id-3')[0m
  [4;36;1mSQL (0.000941)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001108)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:201@example.com', 'sip:200@example.com; tag=f', 't', 'sip:201@example.com', 'f', 2, '2006-03-30 15:50:38', NULL, 8, '', 'S', '', 'id-3')[0m
  [4;36;1mSQL (0.000924)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001107)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:200@example.com', 'sip:200@example.com; tag=f', 't', 'sip:201@example.com', 'f', 3, '2006-03-30 15:50:58', NULL, 9, '', 'E', '', 'id-3')[0m
  [4;36;1mSQL (0.000928)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001111)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:203@example.com', 'sip:203@example.com; tag=f', 't', 'sip:205@example.com', 'f', 1, '2006-03-02 15:50:18', NULL, 10, '', 'R', '', 'id-4')[0m
  [4;36;1mSQL (0.000914)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001115)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:205@example.com', 'sip:203@example.com; tag=f', 't', 'sip:205@example.com', 'f', 2, '2006-03-02 15:50:38', NULL, 11, '', 'S', '', 'id-4')[0m
  [4;36;1mSQL (0.000924)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001109)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:203@example.com', 'sip:203@example.com; tag=f', 't', 'sip:205@example.com', 'f', 3, '2006-03-02 15:50:58', NULL, 12, '', 'E', '', 'id-4')[0m
  [4;36;1mSQL (0.000904)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001146)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:204@example.com', 'sip:204@example.com; tag=f', 't', 'sip:206@example.com', 'f', 1, '2006-03-06 15:50:18', NULL, 13, '', 'R', '', 'id-5')[0m
  [4;36;1mSQL (0.000931)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001113)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:206@example.com', 'sip:204@example.com; tag=f', 't', 'sip:206@example.com', 'f', 2, '2006-03-06 15:50:38', NULL, 14, '', 'S', '', 'id-5')[0m
  [4;36;1mSQL (0.000924)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001109)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:204@example.com', 'sip:204@example.com; tag=f', 't', 'sip:206@example.com', 'f', 3, '2006-03-06 15:50:58', NULL, 15, '', 'E', '', 'id-5')[0m
  [4;36;1mSQL (0.000930)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Load (0.002761)[0m   [0mselect distinct call_id from call_state_events where event_time >= 'Mon Jan 01 00:00:00 UTC 1990' and event_time <= 'Tue Dec 31 00:00:00 EST 2030'[0m
  [4;36;1mCallStateEvent Load (0.004913)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'id-1') ORDER BY event_time [0m
  [4;35;1mSQL (0.002546)[0m   [0m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'parties'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;36;1mSQL (0.004507)[0m   [0;1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = 'cdrs'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [4;35;1mCdr Load (0.002745)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'id-1' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mParty Load (0.001362)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:200@example.com' AND parties."contact" = 'sip:200@example.com' ) LIMIT 1[0m
  [4;35;1mPK and serial sequence (0.005027)[0m   [0m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'parties'::regclass
[0m
  [4;36;1mParty Create (0.001226)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:200@example.com', 'sip:200@example.com')[0m
  [4;35;1mSQL (0.000939)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001351)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:201@example.com' AND parties."contact" = 'sip:201@example.com' ) LIMIT 1[0m
  [4;35;1mParty Create (0.001108)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:201@example.com', 'sip:201@example.com')[0m
  [4;36;1mSQL (0.000938)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.002612)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'id-1' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mPK and serial sequence (0.004813)[0m   [0;1m SELECT attr.attname, name.nspname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relnamespace = name.oid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = 'cdrs'::regclass
[0m
  [4;35;1mCdr Create (0.003653)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES('2006-04-01 15:50:38', NULL, 'C', 't', 'f', 18, NULL, NULL, 17, 'id-1', '2006-04-01 15:50:58', '2006-04-01 15:50:18')[0m
  [4;36;1mSQL (0.000953)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCallStateEvent Load (0.004261)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'id-2') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.002637)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'id-2' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.001493)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:201@example.com' AND parties."contact" = 'sip:201@example.com' ) LIMIT 1[0m
  [4;36;1mParty Load (0.001480)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:200@example.com' AND parties."contact" = 'sip:200@example.com' ) LIMIT 1[0m
  [4;35;1mCdr Load (0.002787)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'id-2' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.001346)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES('2006-03-31 15:50:38', NULL, 'C', 't', 'f', 17, NULL, NULL, 18, 'id-2', '2006-03-31 15:50:58', '2006-03-31 15:50:18')[0m
  [4;35;1mSQL (0.000940)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCallStateEvent Load (0.004304)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'id-3') ORDER BY event_time [0m
  [4;35;1mCdr Load (0.002625)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'id-3' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mParty Load (0.001660)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:200@example.com' AND parties."contact" = 'sip:200@example.com' ) LIMIT 1[0m
  [4;35;1mParty Load (0.001509)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:201@example.com' AND parties."contact" = 'sip:201@example.com' ) LIMIT 1[0m
  [4;36;1mCdr Load (0.002562)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'id-3' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.001311)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES('2006-03-30 15:50:38', NULL, 'C', 't', 'f', 18, NULL, NULL, 17, 'id-3', '2006-03-30 15:50:58', '2006-03-30 15:50:18')[0m
  [4;36;1mSQL (0.000928)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCallStateEvent Load (0.004234)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'id-4') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.002621)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'id-4' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.001284)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:203@example.com' AND parties."contact" = 'sip:203@example.com' ) LIMIT 1[0m
  [4;36;1mParty Create (0.001001)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:203@example.com', 'sip:203@example.com')[0m
  [4;35;1mSQL (0.000896)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001311)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:205@example.com' AND parties."contact" = 'sip:205@example.com' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000993)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:205@example.com', 'sip:205@example.com')[0m
  [4;36;1mSQL (0.000903)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.002546)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'id-4' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.001319)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES('2006-03-02 15:50:38', NULL, 'C', 't', 'f', 20, NULL, NULL, 19, 'id-4', '2006-03-02 15:50:58', '2006-03-02 15:50:18')[0m
  [4;35;1mSQL (0.000922)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCallStateEvent Load (0.004253)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'id-5') ORDER BY event_time [0m
  [4;35;1mCdr Load (0.002672)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'id-5' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mParty Load (0.001293)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:204@example.com' AND parties."contact" = 'sip:204@example.com' ) LIMIT 1[0m
  [4;35;1mParty Create (0.001110)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:204@example.com', 'sip:204@example.com')[0m
  [4;36;1mSQL (0.000911)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mParty Load (0.001335)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:206@example.com' AND parties."contact" = 'sip:206@example.com' ) LIMIT 1[0m
  [4;36;1mParty Create (0.001024)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:206@example.com', 'sip:206@example.com')[0m
  [4;35;1mSQL (0.000904)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mCdr Load (0.003120)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'id-5' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.001366)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES('2006-03-06 15:50:38', NULL, 'C', 't', 'f', 22, NULL, NULL, 21, 'id-5', '2006-03-06 15:50:58', '2006-03-06 15:50:18')[0m
  [4;36;1mSQL (0.000921)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Count (0.001084)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mCallStateEvent Delete all (0.001083)[0m   [0;1mDELETE FROM call_state_events WHERE (event_time <= 'Sun Apr 02 16:51:09 EDT 2006') [0m
  [4;35;1mCdr Delete all (0.001131)[0m   [0mDELETE FROM cdrs WHERE (end_time <= 'Sun Apr 02 16:51:09 EDT 2006') [0m
  [4;36;1mParty Delete all (0.002562)[0m   [0;1mDELETE FROM parties WHERE (not exists (select * from cdrs where caller_id = parties.id or callee_id = parties.id)) [0m
  [4;35;1mCallStateEvent Count (0.001066)[0m   [0mSELECT COUNT(*) FROM call_state_events [0m
  [4;36;1mCdr Count (0.001023)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mParty Count (0.000995)[0m   [0mSELECT COUNT(*) FROM parties [0m
  [4;36;1mSQL (0.000663)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000314)[0m   [0mBEGIN[0m
  [4;36;1mCallStateEvent Delete all (0.001697)[0m   [0;1mDELETE FROM call_state_events [0m
  [4;35;1mCdr Delete all (0.001326)[0m   [0mDELETE FROM cdrs [0m
  [4;36;1mParty Delete all (0.001045)[0m   [0;1mDELETE FROM parties [0m
  [4;35;1mCallStateEvent Count (0.001516)[0m   [0mSELECT COUNT(*) FROM call_state_events [0m
  [4;36;1mCdr Count (0.000992)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mParty Count (0.000935)[0m   [0mSELECT COUNT(*) FROM parties [0m
  [4;36;1mCallStateEvent Create (0.001435)[0m   [0;1mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:200@example.com', 'sip:200@example.com; tag=f', 't', 'sip:201@example.com', 'f', 1, '2006-04-01 15:50:19', NULL, 1, '', 'R', '', 'id-1')[0m
  [4;35;1mSQL (0.001042)[0m   [0mSELECT currval('public.call_state_events_id_seq')[0m
  [4;36;1mCallStateEvent Create (0.001047)[0m   [0;1mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:201@example.com', 'sip:200@example.com; tag=f', 't', 'sip:201@example.com', 'f', 2, '2006-04-01 15:50:39', NULL, 2, '', 'S', '', 'id-1')[0m
  [4;35;1mSQL (0.000856)[0m   [0mSELECT currval('public.call_state_events_id_seq')[0m
  [4;36;1mCallStateEvent Create (0.001060)[0m   [0;1mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:200@example.com', 'sip:200@example.com; tag=f', 't', 'sip:201@example.com', 'f', 3, '2006-04-01 15:50:59', NULL, 3, '', 'E', '', 'id-1')[0m
  [4;35;1mSQL (0.000876)[0m   [0mSELECT currval('public.call_state_events_id_seq')[0m
  [4;36;1mCallStateEvent Create (0.001043)[0m   [0;1mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:201@example.com', 'sip:201@example.com; tag=f', 't', 'sip:202@example.com', 'f', 1, '2006-03-31 15:50:19', NULL, 4, '', 'R', '', 'id-2')[0m
  [4;35;1mSQL (0.000875)[0m   [0mSELECT currval('public.call_state_events_id_seq')[0m
  [4;36;1mCallStateEvent Create (0.001050)[0m   [0;1mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:202@example.com', 'sip:201@example.com; tag=f', 't', 'sip:202@example.com', 'f', 2, '2006-03-31 15:50:39', NULL, 5, '', 'S', '', 'id-2')[0m
  [4;35;1mSQL (0.000883)[0m   [0mSELECT currval('public.call_state_events_id_seq')[0m
  [4;36;1mCallStateEvent Create (0.001042)[0m   [0;1mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:201@example.com', 'sip:201@example.com; tag=f', 't', 'sip:202@example.com', 'f', 3, '2006-03-31 15:50:59', NULL, 6, '', 'E', '', 'id-2')[0m
  [4;35;1mSQL (0.000873)[0m   [0mSELECT currval('public.call_state_events_id_seq')[0m
  [4;36;1mCallStateEvent Load (0.003045)[0m   [0;1mselect distinct call_id from call_state_events where event_time >= 'Mon Jan 01 00:00:00 UTC 1990' and event_time <= 'Tue Dec 31 00:00:00 EST 2030'[0m
  [4;35;1mCallStateEvent Load (0.005071)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'id-1') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.002766)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'id-1' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.001331)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:200@example.com' AND parties."contact" = 'sip:200@example.com' ) LIMIT 1[0m
  [4;36;1mParty Create (0.001133)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:200@example.com', 'sip:200@example.com')[0m
  [4;35;1mSQL (0.000909)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001323)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:201@example.com' AND parties."contact" = 'sip:201@example.com' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000999)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:201@example.com', 'sip:201@example.com')[0m
  [4;36;1mSQL (0.000890)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.002584)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'id-1' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.001972)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES('2006-04-01 15:50:39', NULL, 'C', 't', 'f', 24, NULL, NULL, 23, 'id-1', '2006-04-01 15:50:59', '2006-04-01 15:50:19')[0m
  [4;35;1mSQL (0.001194)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCallStateEvent Load (0.004317)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'id-2') ORDER BY event_time [0m
  [4;35;1mCdr Load (0.002650)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'id-2' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mParty Load (0.001574)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:201@example.com' AND parties."contact" = 'sip:201@example.com' ) LIMIT 1[0m
  [4;35;1mParty Load (0.001283)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:202@example.com' AND parties."contact" = 'sip:202@example.com' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000980)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:202@example.com', 'sip:202@example.com')[0m
  [4;35;1mSQL (0.000890)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mCdr Load (0.002598)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'id-2' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.001294)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES('2006-03-31 15:50:39', NULL, 'C', 't', 'f', 25, NULL, NULL, 24, 'id-2', '2006-03-31 15:50:59', '2006-03-31 15:50:19')[0m
  [4;36;1mSQL (0.000881)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Count (0.001049)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mCallStateEvent Delete all (0.000979)[0m   [0;1mDELETE FROM call_state_events WHERE (event_time <= 'Fri Mar 31 15:51:09 EST 2006') [0m
  [4;35;1mCdr Delete all (0.000968)[0m   [0mDELETE FROM cdrs WHERE (end_time <= 'Fri Mar 31 15:51:09 EST 2006') [0m
  [4;36;1mParty Delete all (0.001913)[0m   [0;1mDELETE FROM parties WHERE (not exists (select * from cdrs where caller_id = parties.id or callee_id = parties.id)) [0m
  [4;35;1mCallStateEvent Count (0.001053)[0m   [0mSELECT COUNT(*) FROM call_state_events [0m
  [4;36;1mCdr Count (0.001017)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mParty Count (0.000980)[0m   [0mSELECT COUNT(*) FROM parties [0m
  [4;36;1mSQL (0.000670)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.000865)[0m   [0mBEGIN[0m
  [4;36;1mCallStateEvent Delete all (0.002041)[0m   [0;1mDELETE FROM call_state_events [0m
  [4;35;1mCdr Delete all (0.001585)[0m   [0mDELETE FROM cdrs [0m
  [4;36;1mParty Delete all (0.002674)[0m   [0;1mDELETE FROM parties [0m
  [4;35;1mCallStateEvent Count (0.001474)[0m   [0mSELECT COUNT(*) FROM call_state_events [0m
  [4;36;1mCdr Count (0.000993)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mParty Count (0.000944)[0m   [0mSELECT COUNT(*) FROM parties [0m
  [4;36;1mCallStateEvent Create (0.001406)[0m   [0;1mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:200@example.com', 'sip:200@example.com; tag=f', 't', 'sip:201@example.com', 'f', 1, '2006-04-10 16:50:19', NULL, 1, '', 'R', '', 'id-1')[0m
  [4;35;1mSQL (0.001018)[0m   [0mSELECT currval('public.call_state_events_id_seq')[0m
  [4;36;1mCallStateEvent Create (0.001036)[0m   [0;1mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:201@example.com', 'sip:200@example.com; tag=f', 't', 'sip:201@example.com', 'f', 2, '2006-04-10 16:50:39', NULL, 2, '', 'S', '', 'id-1')[0m
  [4;35;1mSQL (0.000867)[0m   [0mSELECT currval('public.call_state_events_id_seq')[0m
  [4;36;1mCallStateEvent Create (0.001022)[0m   [0;1mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:200@example.com', 'sip:200@example.com; tag=f', 't', 'sip:201@example.com', 'f', 3, '2006-04-10 16:50:59', NULL, 3, '', 'E', '', 'id-1')[0m
  [4;35;1mSQL (0.000878)[0m   [0mSELECT currval('public.call_state_events_id_seq')[0m
  [4;36;1mCallStateEvent Create (0.001039)[0m   [0;1mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:202@example.com', 'sip:202@example.com; tag=f', 't', 'sip:200@example.com', 'f', 1, '2006-04-09 16:50:19', NULL, 4, '', 'R', '', 'id-2')[0m
  [4;35;1mSQL (0.000865)[0m   [0mSELECT currval('public.call_state_events_id_seq')[0m
  [4;36;1mCallStateEvent Create (0.001141)[0m   [0;1mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:200@example.com', 'sip:202@example.com; tag=f', 't', 'sip:200@example.com', 'f', 2, '2006-04-09 16:50:39', NULL, 5, '', 'S', '', 'id-2')[0m
  [4;35;1mSQL (0.000871)[0m   [0mSELECT currval('public.call_state_events_id_seq')[0m
  [4;36;1mCallStateEvent Create (0.001093)[0m   [0;1mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:202@example.com', 'sip:202@example.com; tag=f', 't', 'sip:200@example.com', 'f', 3, '2006-04-09 16:50:59', NULL, 6, '', 'E', '', 'id-2')[0m
  [4;35;1mSQL (0.000870)[0m   [0mSELECT currval('public.call_state_events_id_seq')[0m
  [4;36;1mCallStateEvent Create (0.001070)[0m   [0;1mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:200@example.com', 'sip:200@example.com; tag=f', 't', 'sip:201@example.com', 'f', 1, '2006-04-01 15:50:19', NULL, 7, '', 'R', '', 'id-3')[0m
  [4;35;1mSQL (0.000862)[0m   [0mSELECT currval('public.call_state_events_id_seq')[0m
  [4;36;1mCallStateEvent Create (0.001061)[0m   [0;1mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:201@example.com', 'sip:200@example.com; tag=f', 't', 'sip:201@example.com', 'f', 2, '2006-04-01 15:50:39', NULL, 8, '', 'S', '', 'id-3')[0m
  [4;35;1mSQL (0.000871)[0m   [0mSELECT currval('public.call_state_events_id_seq')[0m
  [4;36;1mCallStateEvent Create (0.001054)[0m   [0;1mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:200@example.com', 'sip:200@example.com; tag=f', 't', 'sip:201@example.com', 'f', 3, '2006-04-01 15:50:59', NULL, 9, '', 'E', '', 'id-3')[0m
  [4;35;1mSQL (0.000862)[0m   [0mSELECT currval('public.call_state_events_id_seq')[0m
  [4;36;1mCallStateEvent Create (0.001059)[0m   [0;1mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:203@example.com', 'sip:203@example.com; tag=f', 't', 'sip:205@example.com', 'f', 1, '2006-03-02 15:50:19', NULL, 10, '', 'R', '', 'id-4')[0m
  [4;35;1mSQL (0.000850)[0m   [0mSELECT currval('public.call_state_events_id_seq')[0m
  [4;36;1mCallStateEvent Create (0.001041)[0m   [0;1mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:205@example.com', 'sip:203@example.com; tag=f', 't', 'sip:205@example.com', 'f', 2, '2006-03-02 15:50:39', NULL, 11, '', 'S', '', 'id-4')[0m
  [4;35;1mSQL (0.000879)[0m   [0mSELECT currval('public.call_state_events_id_seq')[0m
  [4;36;1mCallStateEvent Create (0.001071)[0m   [0;1mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:203@example.com', 'sip:203@example.com; tag=f', 't', 'sip:205@example.com', 'f', 3, '2006-03-02 15:50:59', NULL, 12, '', 'E', '', 'id-4')[0m
  [4;35;1mSQL (0.000942)[0m   [0mSELECT currval('public.call_state_events_id_seq')[0m
  [4;36;1mCallStateEvent Create (0.001124)[0m   [0;1mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:200@example.com', 'sip:200@example.com; tag=f', 't', 'sip:205@example.com', 'f', 1, '2006-03-06 15:50:19', NULL, 13, '', 'R', '', 'id-5')[0m
  [4;35;1mSQL (0.000887)[0m   [0mSELECT currval('public.call_state_events_id_seq')[0m
  [4;36;1mCallStateEvent Create (0.001104)[0m   [0;1mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:205@example.com', 'sip:200@example.com; tag=f', 't', 'sip:205@example.com', 'f', 2, '2006-03-06 15:50:39', NULL, 14, '', 'S', '', 'id-5')[0m
  [4;35;1mSQL (0.000887)[0m   [0mSELECT currval('public.call_state_events_id_seq')[0m
  [4;36;1mCallStateEvent Create (0.001088)[0m   [0;1mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:200@example.com', 'sip:200@example.com; tag=f', 't', 'sip:205@example.com', 'f', 3, '2006-03-06 15:50:59', NULL, 15, '', 'E', '', 'id-5')[0m
  [4;35;1mSQL (0.000883)[0m   [0mSELECT currval('public.call_state_events_id_seq')[0m
  [4;36;1mCallStateEvent Load (0.002833)[0m   [0;1mselect distinct call_id from call_state_events where event_time >= 'Mon Jan 01 00:00:00 UTC 1990' and event_time <= 'Tue Dec 31 00:00:00 EST 2030'[0m
  [4;35;1mCallStateEvent Load (0.005292)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'id-1') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.002798)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'id-1' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.001328)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:200@example.com' AND parties."contact" = 'sip:200@example.com' ) LIMIT 1[0m
  [4;36;1mParty Create (0.001205)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:200@example.com', 'sip:200@example.com')[0m
  [4;35;1mSQL (0.000930)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001345)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:201@example.com' AND parties."contact" = 'sip:201@example.com' ) LIMIT 1[0m
  [4;35;1mParty Create (0.001005)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:201@example.com', 'sip:201@example.com')[0m
  [4;36;1mSQL (0.000897)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.002563)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'id-1' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.001815)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES('2006-04-10 16:50:39', NULL, 'C', 't', 'f', 27, NULL, NULL, 26, 'id-1', '2006-04-10 16:50:59', '2006-04-10 16:50:19')[0m
  [4;35;1mSQL (0.000913)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCallStateEvent Load (0.004412)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'id-2') ORDER BY event_time [0m
  [4;35;1mCdr Load (0.002615)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'id-2' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mParty Load (0.001297)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:202@example.com' AND parties."contact" = 'sip:202@example.com' ) LIMIT 1[0m
  [4;35;1mParty Create (0.001025)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:202@example.com', 'sip:202@example.com')[0m
  [4;36;1mSQL (0.000923)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mParty Load (0.001587)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:200@example.com' AND parties."contact" = 'sip:200@example.com' ) LIMIT 1[0m
  [4;36;1mCdr Load (0.082313)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'id-2' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.001419)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES('2006-04-09 16:50:39', NULL, 'C', 't', 'f', 26, NULL, NULL, 28, 'id-2', '2006-04-09 16:50:59', '2006-04-09 16:50:19')[0m
  [4;36;1mSQL (0.000912)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCallStateEvent Load (0.004288)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'id-3') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.002660)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'id-3' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.001487)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:200@example.com' AND parties."contact" = 'sip:200@example.com' ) LIMIT 1[0m
  [4;36;1mParty Load (0.001506)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:201@example.com' AND parties."contact" = 'sip:201@example.com' ) LIMIT 1[0m
  [4;35;1mCdr Load (0.002579)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'id-3' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.001370)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES('2006-04-01 15:50:39', NULL, 'C', 't', 'f', 27, NULL, NULL, 26, 'id-3', '2006-04-01 15:50:59', '2006-04-01 15:50:19')[0m
  [4;35;1mSQL (0.000921)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCallStateEvent Load (0.004237)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'id-4') ORDER BY event_time [0m
  [4;35;1mCdr Load (0.002611)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'id-4' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mParty Load (0.001302)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:203@example.com' AND parties."contact" = 'sip:203@example.com' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000991)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:203@example.com', 'sip:203@example.com')[0m
  [4;36;1mSQL (0.000890)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mParty Load (0.001515)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:205@example.com' AND parties."contact" = 'sip:205@example.com' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000993)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:205@example.com', 'sip:205@example.com')[0m
  [4;35;1mSQL (0.000901)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mCdr Load (0.002582)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'id-4' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.001295)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES('2006-03-02 15:50:39', NULL, 'C', 't', 'f', 30, NULL, NULL, 29, 'id-4', '2006-03-02 15:50:59', '2006-03-02 15:50:19')[0m
  [4;36;1mSQL (0.000905)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCallStateEvent Load (0.004212)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'id-5') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.002648)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'id-5' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.001470)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:200@example.com' AND parties."contact" = 'sip:200@example.com' ) LIMIT 1[0m
  [4;36;1mParty Load (0.001450)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:205@example.com' AND parties."contact" = 'sip:205@example.com' ) LIMIT 1[0m
  [4;35;1mCdr Load (0.003155)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'id-5' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.001414)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES('2006-03-06 15:50:39', NULL, 'C', 't', 'f', 30, NULL, NULL, 26, 'id-5', '2006-03-06 15:50:59', '2006-03-06 15:50:19')[0m
  [4;35;1mSQL (0.000908)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCdr Count (0.001047)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mCallStateEvent Delete all (0.000985)[0m   [0mDELETE FROM call_state_events WHERE (event_time <= 'Tue Mar 07 15:51:09 EST 2006') [0m
  [4;36;1mCdr Delete all (0.000980)[0m   [0;1mDELETE FROM cdrs WHERE (end_time <= 'Tue Mar 07 15:51:09 EST 2006') [0m
  [4;35;1mParty Delete all (0.001475)[0m   [0mDELETE FROM parties WHERE (not exists (select * from cdrs where caller_id = parties.id or callee_id = parties.id)) [0m
  [4;36;1mCallStateEvent Count (0.001052)[0m   [0;1mSELECT COUNT(*) FROM call_state_events [0m
  [4;35;1mCdr Count (0.001010)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mParty Count (0.000976)[0m   [0;1mSELECT COUNT(*) FROM parties [0m
  [4;35;1mSQL (0.000812)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.000873)[0m   [0;1mBEGIN[0m
  [4;35;1mCallStateEvent Delete all (0.002076)[0m   [0mDELETE FROM call_state_events [0m
  [4;36;1mCdr Delete all (0.001698)[0m   [0;1mDELETE FROM cdrs [0m
  [4;35;1mParty Delete all (0.002833)[0m   [0mDELETE FROM parties [0m
  [4;36;1mCallStateEvent Count (0.001511)[0m   [0;1mSELECT COUNT(*) FROM call_state_events [0m
  [4;35;1mCdr Count (0.001060)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mParty Count (0.001004)[0m   [0;1mSELECT COUNT(*) FROM parties [0m
  [4;35;1mCallStateEvent Create (0.001437)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:200@example.com', 'sip:200@example.com; tag=f', 't', 'sip:201@example.com', 'f', 1, '2006-04-10 16:50:19', NULL, 1, '', 'R', '', 'id-1')[0m
  [4;36;1mSQL (0.001060)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001067)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:201@example.com', 'sip:200@example.com; tag=f', 't', 'sip:201@example.com', 'f', 2, '2006-04-10 16:50:39', NULL, 2, '', 'S', '', 'id-1')[0m
  [4;36;1mSQL (0.000921)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001120)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:200@example.com', 'sip:200@example.com; tag=f', 't', 'sip:201@example.com', 'f', 3, '2006-04-10 16:50:59', NULL, 3, '', 'E', '', 'id-1')[0m
  [4;36;1mSQL (0.000928)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001080)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:201@example.com', 'sip:201@example.com; tag=f', 't', 'sip:200@example.com', 'f', 1, '2006-04-09 16:50:19', NULL, 4, '', 'R', '', 'id-2')[0m
  [4;36;1mSQL (0.000909)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001184)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:200@example.com', 'sip:201@example.com; tag=f', 't', 'sip:200@example.com', 'f', 2, '2006-04-09 16:50:39', NULL, 5, '', 'S', '', 'id-2')[0m
  [4;36;1mSQL (0.000920)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001074)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:201@example.com', 'sip:201@example.com; tag=f', 't', 'sip:200@example.com', 'f', 3, '2006-04-09 16:50:59', NULL, 6, '', 'E', '', 'id-2')[0m
  [4;36;1mSQL (0.000916)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001060)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:200@example.com', 'sip:200@example.com; tag=f', 't', 'sip:201@example.com', 'f', 1, '2006-04-01 15:50:19', NULL, 7, '', 'R', '', 'id-3')[0m
  [4;36;1mSQL (0.000871)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001082)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:201@example.com', 'sip:200@example.com; tag=f', 't', 'sip:201@example.com', 'f', 2, '2006-04-01 15:50:39', NULL, 8, '', 'S', '', 'id-3')[0m
  [4;36;1mSQL (0.000897)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001039)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:200@example.com', 'sip:200@example.com; tag=f', 't', 'sip:201@example.com', 'f', 3, '2006-04-01 15:50:59', NULL, 9, '', 'E', '', 'id-3')[0m
  [4;36;1mSQL (0.000893)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001070)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:203@example.com', 'sip:203@example.com; tag=f', 't', 'sip:205@example.com', 'f', 1, '2006-03-02 15:50:19', NULL, 10, '', 'R', '', 'id-4')[0m
  [4;36;1mSQL (0.000900)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001051)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:205@example.com', 'sip:203@example.com; tag=f', 't', 'sip:205@example.com', 'f', 2, '2006-03-02 15:50:39', NULL, 11, '', 'S', '', 'id-4')[0m
  [4;36;1mSQL (0.000887)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001054)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:203@example.com', 'sip:203@example.com; tag=f', 't', 'sip:205@example.com', 'f', 3, '2006-03-02 15:50:59', NULL, 12, '', 'E', '', 'id-4')[0m
  [4;36;1mSQL (0.000904)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001051)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:204@example.com', 'sip:204@example.com; tag=f', 't', 'sip:206@example.com', 'f', 1, '2006-03-06 15:50:19', NULL, 13, '', 'R', '', 'id-5')[0m
  [4;36;1mSQL (0.000877)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001058)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:206@example.com', 'sip:204@example.com; tag=f', 't', 'sip:206@example.com', 'f', 2, '2006-03-06 15:50:39', NULL, 14, '', 'S', '', 'id-5')[0m
  [4;36;1mSQL (0.000883)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Create (0.001082)[0m   [0mINSERT INTO call_state_events ("observer", "failure_reason", "contact", "from_url", "to_tag", "to_url", "from_tag", "cseq", "event_time", "failure_status", "event_seq", "refer_to", "event_type", "referred_by", "call_id") VALUES('TestObserver', 'No reason', 'sip:204@example.com', 'sip:204@example.com; tag=f', 't', 'sip:206@example.com', 'f', 3, '2006-03-06 15:50:59', NULL, 15, '', 'E', '', 'id-5')[0m
  [4;36;1mSQL (0.000887)[0m   [0;1mSELECT currval('public.call_state_events_id_seq')[0m
  [4;35;1mCallStateEvent Load (0.002901)[0m   [0mselect distinct call_id from call_state_events where event_time >= 'Mon Jan 01 00:00:00 UTC 1990' and event_time <= 'Tue Dec 31 00:00:00 EST 2030'[0m
  [4;36;1mCallStateEvent Load (0.004942)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'id-1') ORDER BY event_time [0m
  [4;35;1mCdr Load (0.002719)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'id-1' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mParty Load (0.001320)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:200@example.com' AND parties."contact" = 'sip:200@example.com' ) LIMIT 1[0m
  [4;35;1mParty Create (0.001217)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:200@example.com', 'sip:200@example.com')[0m
  [4;36;1mSQL (0.000921)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mParty Load (0.001316)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:201@example.com' AND parties."contact" = 'sip:201@example.com' ) LIMIT 1[0m
  [4;36;1mParty Create (0.001024)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:201@example.com', 'sip:201@example.com')[0m
  [4;35;1mSQL (0.001332)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mCdr Load (0.002680)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'id-1' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.001807)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES('2006-04-10 16:50:39', NULL, 'C', 't', 'f', 32, NULL, NULL, 31, 'id-1', '2006-04-10 16:50:59', '2006-04-10 16:50:19')[0m
  [4;36;1mSQL (0.000913)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCallStateEvent Load (0.004290)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'id-2') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.003123)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'id-2' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.001533)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:201@example.com' AND parties."contact" = 'sip:201@example.com' ) LIMIT 1[0m
  [4;36;1mParty Load (0.001492)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:200@example.com' AND parties."contact" = 'sip:200@example.com' ) LIMIT 1[0m
  [4;35;1mCdr Load (0.002600)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'id-2' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.001295)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES('2006-04-09 16:50:39', NULL, 'C', 't', 'f', 31, NULL, NULL, 32, 'id-2', '2006-04-09 16:50:59', '2006-04-09 16:50:19')[0m
  [4;35;1mSQL (0.000965)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCallStateEvent Load (0.004268)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'id-3') ORDER BY event_time [0m
  [4;35;1mCdr Load (0.002676)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'id-3' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mParty Load (0.001481)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:200@example.com' AND parties."contact" = 'sip:200@example.com' ) LIMIT 1[0m
  [4;35;1mParty Load (0.001477)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:201@example.com' AND parties."contact" = 'sip:201@example.com' ) LIMIT 1[0m
  [4;36;1mCdr Load (0.002570)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'id-3' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.001359)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES('2006-04-01 15:50:39', NULL, 'C', 't', 'f', 32, NULL, NULL, 31, 'id-3', '2006-04-01 15:50:59', '2006-04-01 15:50:19')[0m
  [4;36;1mSQL (0.000921)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCallStateEvent Load (0.004284)[0m   [0mSELECT * FROM call_state_events WHERE (call_id = 'id-4') ORDER BY event_time [0m
  [4;36;1mCdr Load (0.002632)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'id-4' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mParty Load (0.001300)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:203@example.com' AND parties."contact" = 'sip:203@example.com' ) LIMIT 1[0m
  [4;36;1mParty Create (0.000996)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:203@example.com', 'sip:203@example.com')[0m
  [4;35;1mSQL (0.000891)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mParty Load (0.001306)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:205@example.com' AND parties."contact" = 'sip:205@example.com' ) LIMIT 1[0m
  [4;35;1mParty Create (0.000986)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:205@example.com', 'sip:205@example.com')[0m
  [4;36;1mSQL (0.000892)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mCdr Load (0.002565)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'id-4' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mCdr Create (0.001306)[0m   [0;1mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES('2006-03-02 15:50:39', NULL, 'C', 't', 'f', 34, NULL, NULL, 33, 'id-4', '2006-03-02 15:50:59', '2006-03-02 15:50:19')[0m
  [4;35;1mSQL (0.000904)[0m   [0mSELECT currval('public.cdrs_id_seq')[0m
  [4;36;1mCallStateEvent Load (0.004261)[0m   [0;1mSELECT * FROM call_state_events WHERE (call_id = 'id-5') ORDER BY event_time [0m
  [4;35;1mCdr Load (0.002636)[0m   [0mSELECT * FROM cdrs WHERE (call_id = 'id-5' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;36;1mParty Load (0.001331)[0m   [0;1mSELECT * FROM parties WHERE (parties."aor" = 'sip:204@example.com' AND parties."contact" = 'sip:204@example.com' ) LIMIT 1[0m
  [4;35;1mParty Create (0.001083)[0m   [0mINSERT INTO parties ("aor", "contact") VALUES('sip:204@example.com', 'sip:204@example.com')[0m
  [4;36;1mSQL (0.000897)[0m   [0;1mSELECT currval('public.parties_id_seq')[0m
  [4;35;1mParty Load (0.001294)[0m   [0mSELECT * FROM parties WHERE (parties."aor" = 'sip:206@example.com' AND parties."contact" = 'sip:206@example.com' ) LIMIT 1[0m
  [4;36;1mParty Create (0.001003)[0m   [0;1mINSERT INTO parties ("aor", "contact") VALUES('sip:206@example.com', 'sip:206@example.com')[0m
  [4;35;1mSQL (0.000888)[0m   [0mSELECT currval('public.parties_id_seq')[0m
  [4;36;1mCdr Load (0.002570)[0m   [0;1mSELECT * FROM cdrs WHERE (call_id = 'id-5' and from_tag = 'f' and to_tag = 't') LIMIT 1[0m
  [4;35;1mCdr Create (0.001330)[0m   [0mINSERT INTO cdrs ("connect_time", "failure_reason", "termination", "to_tag", "from_tag", "callee_id", "failure_status", "call_direction", "caller_id", "call_id", "end_time", "start_time") VALUES('2006-03-06 15:50:39', NULL, 'C', 't', 'f', 36, NULL, NULL, 35, 'id-5', '2006-03-06 15:50:59', '2006-03-06 15:50:19')[0m
  [4;36;1mSQL (0.000890)[0m   [0;1mSELECT currval('public.cdrs_id_seq')[0m
  [4;35;1mCdr Count (0.001063)[0m   [0mSELECT COUNT(*) FROM cdrs [0m
  [4;36;1mCallStateEvent Delete all (0.001027)[0m   [0;1mDELETE FROM call_state_events WHERE (event_time <= 'Tue Mar 07 15:51:09 EST 2006') [0m
  [4;35;1mCdr Delete all (0.001016)[0m   [0mDELETE FROM cdrs WHERE (end_time <= 'Tue Mar 07 15:51:09 EST 2006') [0m
  [4;36;1mParty Delete all (0.001783)[0m   [0;1mDELETE FROM parties WHERE (not exists (select * from cdrs where caller_id = parties.id or callee_id = parties.id)) [0m
  [4;35;1mCallStateEvent Count (0.001054)[0m   [0mSELECT COUNT(*) FROM call_state_events [0m
  [4;36;1mCdr Count (0.001005)[0m   [0;1mSELECT COUNT(*) FROM cdrs [0m
  [4;35;1mParty Count (0.000982)[0m   [0mSELECT COUNT(*) FROM parties [0m
  [4;36;1mSQL (0.000667)[0m   [0;1mROLLBACK[0m
